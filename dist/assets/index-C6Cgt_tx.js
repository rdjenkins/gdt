(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const on="modulepreload",an=function(n,e){return new URL(n,e).href},Ke={},Y=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let c=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),_=a?.nonce||a?.getAttribute("nonce");s=c(t.map(l=>{if(l=an(l,r),l in Ke)return;Ke[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(r)for(let p=i.length-1;p>=0;p--){const h=i[p];if(h.href===l&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":on,u||(f.as="script"),f.crossOrigin="",f.href=l,_&&f.setAttribute("nonce",_),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var X;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(X||(X={}));class Te extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const cn=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},ln=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},s=()=>e!==null?e.name:cn(n),o=()=>s()!=="web",i=u=>{const d=c.get(u);return!!(d?.platforms.has(s())||a(u))},a=u=>{var d;return(d=t.PluginHeaders)===null||d===void 0?void 0:d.find(f=>f.name===u)},_=u=>n.console.error(u),c=new Map,l=(u,d={})=>{const f=c.get(u);if(f)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),f.proxy;const p=s(),h=a(u);let m;const g=async()=>(!m&&p in d?m=typeof d[p]=="function"?m=await d[p]():m=d[p]:e!==null&&!m&&"web"in d&&(m=typeof d.web=="function"?m=await d.web():m=d.web),m),w=(E,b)=>{var P,G;if(h){const U=h?.methods.find(C=>b===C.name);if(U)return U.rtype==="promise"?C=>t.nativePromise(u,b.toString(),C):(C,_e)=>t.nativeCallback(u,b.toString(),C,_e);if(E)return(P=E[b])===null||P===void 0?void 0:P.bind(E)}else{if(E)return(G=E[b])===null||G===void 0?void 0:G.bind(E);throw new Te(`"${u}" plugin is not implemented on ${p}`,X.Unimplemented)}},j=E=>{let b;const P=(...G)=>{const U=g().then(C=>{const _e=w(C,E);if(_e){const ue=_e(...G);return b=ue?.remove,ue}else throw new Te(`"${u}.${E}()" is not implemented on ${p}`,X.Unimplemented)});return E==="addListener"&&(U.remove=async()=>b()),U};return P.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:E,writable:!1,configurable:!1}),P},W=j("addListener"),R=j("removeListener"),le=(E,b)=>{const P=W({eventName:E},b),G=async()=>{const C=await P;R({eventName:E,callbackId:C},b)},U=new Promise(C=>P.then(()=>C({remove:G})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await G()},U},Ie=new Proxy({},{get(E,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?le:W;case"removeListener":return R;default:return j(b)}}});return r[u]=Ie,c.set(u,{name:u,proxy:Ie,platforms:new Set([...Object.keys(d),...h?[p]:[]])}),Ie};return t.convertFileSrc||(t.convertFileSrc=u=>u),t.getPlatform=s,t.handleError=_,t.isNativePlatform=o,t.isPluginAvailable=i,t.registerPlugin=l,t.Exception=Te,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},_n=n=>n.Capacitor=ln(n),oe=_n(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),z=oe.registerPlugin;class He{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const i=async()=>this.removeListener(e,t);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const s=this.listeners[e];if(!s){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}s.forEach(o=>o(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new oe.Exception(e,X.Unimplemented)}unavailable(e="not available"){return new oe.Exception(e,X.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const s=r.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const Qe=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Je=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class un extends He{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Je(s).trim(),o=Je(o).trim(),t[s]=o}),t}async setCookie(e){try{const t=Qe(e.key),r=Qe(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${s}; path=${o}; ${i};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}z("CapacitorCookies",{web:()=>new un});const dn=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>t(s),r.readAsDataURL(n)}),fn=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(s=>s.toLocaleLowerCase()).reduce((s,o,i)=>(s[o]=n[e[i]],s),{})},hn=(n,e=!0)=>n?Object.entries(n).reduce((r,s)=>{const[o,i]=s;let a,_;return Array.isArray(i)?(_="",i.forEach(c=>{a=e?encodeURIComponent(c):c,_+=`${o}=${a}&`}),_.slice(0,-1)):(a=e?encodeURIComponent(i):i,_=`${o}=${a}`),`${r}&${_}`},"").substr(1):null,pn=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),s=fn(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,a]of Object.entries(n.data||{}))o.set(i,a);t.body=o.toString()}else if(s.includes("multipart/form-data")||n.data instanceof FormData){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((a,_)=>{o.append(_,a)});else for(const a of Object.keys(n.data))o.append(a,n.data[a]);t.body=o;const i=new Headers(t.headers);i.delete("content-type"),t.headers=i}else(s.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class mn extends He{async request(e){const t=pn(e,e.webFetchExtra),r=hn(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,o=await fetch(s,t),i=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};i.includes("application/json")&&(a="json");let _,c;switch(a){case"arraybuffer":case"blob":c=await o.blob(),_=await dn(c);break;case"json":_=await o.json();break;default:_=await o.text()}const l={};return o.headers.forEach((u,d)=>{l[d]=u}),{data:_,headers:l,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}z("CapacitorHttp",{web:()=>new mn});var Xe;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Xe||(Xe={}));var Ze;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(Ze||(Ze={}));class gn extends He{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}z("SystemBars",{web:()=>new gn});var Ve;(function(n){n[n.Sunday=1]="Sunday",n[n.Monday=2]="Monday",n[n.Tuesday=3]="Tuesday",n[n.Wednesday=4]="Wednesday",n[n.Thursday=5]="Thursday",n[n.Friday=6]="Friday",n[n.Saturday=7]="Saturday"})(Ve||(Ve={}));const fe=z("LocalNotifications",{web:()=>Y(()=>import("./web-COP96Xax.js"),[],import.meta.url).then(n=>new n.LocalNotificationsWeb)}),wn=z("Toast",{web:()=>Y(()=>import("./web-DcsyxDB9.js"),[],import.meta.url).then(n=>new n.ToastWeb)}),me=new URLSearchParams(window.location.search),vn=!!me.has("nolog"),En=!!me.has("QR"),Le=me.has("m")?me.get("m"):"";async function y(n,e=""){if(vn)return console.log("GDT Logging disabled:",n||" ",e||" "),"";let t="";const r=await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`lg=${encodeURIComponent(n)}&u=${encodeURIComponent(e)}`}).catch(s=>{console.log("Aborting log call: "+s)});return r?(t=await r.text(),console.log("GDT Logging:",t),t):"Cancelled"}En&&y("QR accessed");document.addEventListener("click",n=>{let t=n.target.closest("a");if(t&&t instanceof HTMLAnchorElement){let r=t.href.endsWith("#")?t.id+" choice":t.href;y("Hyperlink clicked: ",r)}});function yn(n,e){let t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.background="rgba(0,0,0,0.5)",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.zIndex="1000";let r=document.createElement("div");r.style.background="white",r.style.padding="2em",r.style.margin="1em",r.style.borderRadius="10px",r.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",r.style.textAlign="center",r.style.position="relative";let s=document.createElement("h2");s.textContent=n,s.style.textAlign="center",r.appendChild(s),e.forEach(i=>{let a=document.createElement("a");a.href=i.url,a.target="_blank",a.innerHTML=`<button style="margin:1em;">${i.text}</button>`,a.onclick=()=>{document.body.removeChild(t)},r.appendChild(a)});let o=document.createElement("button");o.textContent="✕",o.setAttribute("aria-label","Close"),o.style.position="absolute",o.style.top="0.2em",o.style.right="0.2em",o.style.background="transparent",o.style.border="none",o.style.fontSize="1.5em",o.style.cursor="pointer",o.onclick=()=>{document.body.removeChild(t)},r.appendChild(o),t.appendChild(r),document.body.appendChild(t)}async function D(n,e,t){let r=!1;const s=()=>{if(r)return;const o=document.getElementById(n);o?(o.addEventListener("click",i=>{i.preventDefault(),yn(e,t)}),r=!0):console.warn("Link not found: "+n)};if(document.readyState==="complete")s();else{const o=()=>{document.readyState==="complete"?s():setTimeout(o,100)};o(),document.addEventListener("DOMContentLoaded",s)}}function bn(n){const e=n.getDate(),t=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";return n.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/(\d+)/,`$1${t}`)}const Ne=[];let Re=!1;async function Lt(){if(Re||Ne.length===0)return;Re=!0;const n=Ne.shift();await wn.show({text:n??""}),await new Promise(e=>setTimeout(e,3e3)),Re=!1,Lt()}async function L(n=""){n!==""&&(Ne.push(n),Lt())}Le!==""&&Le!==null&&L(Le);function ie(){const n=document.body.scrollHeight;window.parent.postMessage({height:n},"*")}document.addEventListener("DOMContentLoaded",()=>{ie(),setTimeout(ie,100)});window.onresize=()=>{ie()};window.onscroll=()=>{ie()};const In=new MutationObserver(ie);In.observe(document.body,{childList:!0,subtree:!0});let et,Ce=!1;const Tn=900*1e3;document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?(Ce=!1,et=window.setTimeout(()=>{Ce=!0},Tn)):document.visibilityState==="visible"&&(clearTimeout(et),Ce&&location.reload())});const Ln=z("FCM",{web:()=>Y(()=>import("./web-VnfCyV55.js"),[],import.meta.url).then(n=>new n.FCMWeb)}),q=z("PushNotifications",{}),tt="gdt-test",Rt="noticeArea";function Rn(){return`
    <button id='notifyButton' title="Notices will help keep you updated.">add notices</button>
    <div id='${Rt}'></div>
    `}function Cn(){fe.schedule({notifications:[{title:"Thank you",body:"Thank you for allowing notices from Grampound Digital Twin!",id:1,schedule:{at:new Date(Date.now()+1e3*5)},sound:"",attachments:[],actionTypeId:"",extra:null}]})}function An(n){const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let t=document.createElement("div");t.style.background="white",t.style.padding="2em",t.style.margin="1em",t.style.borderRadius="10px",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",t.style.textAlign="center",t.style.position="relative";let r=document.createElement("h2");r.textContent="Can the Digital Twin send you notifications?",r.style.textAlign="center",t.appendChild(r);let s=document.createElement("div");s.innerHTML=`
                        <p>Notices will help keep you up to date.</p>

                        <button class="modal-ok">OK keep me posted!</button>
                        <button class="modal-close">No, not now</button>
                `,t.appendChild(s),e.appendChild(t),document.body.appendChild(e),e.querySelector(".modal-close")?.addEventListener("click",()=>{e.remove()}),e.querySelector(".modal-ok")?.addEventListener("click",()=>{e.remove(),n.click()})}document.addEventListener("DOMContentLoaded",async()=>{const n=document.getElementById("notifyButton");if(!oe.isNativePlatform()){n&&n.remove(),console.log("Notifications not supported on web platform");return}const e=await fe.checkPermissions();n&&(e.display==="prompt"&&(An(n),n.addEventListener("click",async()=>{e.display!=="granted"&&(await fe.requestPermissions(),$n(),(await fe.checkPermissions()).display==="granted"&&(n.remove(),Cn()))})),e.display==="denied"&&(y("notifications previously denied"),n.remove()),e.display==="granted"&&n.remove())});async function nt(n,e="lightgreen",t=!1){const r=document.getElementById(Rt);r&&(r.innerHTML='<p class="notificationPackage" style="background-color: '+e+';">'+n+"</p>",t&&r.parentElement&&r.parentElement.scrollIntoView())}async function Sn(){await q.addListener("registration",n=>{y("Registration token: ",n.value)}),await q.addListener("registrationError",n=>{console.error("Registration error: ",n.error)}),await q.addListener("pushNotificationReceived",n=>{const e=n.data.color?n.data.color:"lightgreen";n.data.package&&nt(n.data.package,e)}),await q.addListener("pushNotificationActionPerformed",n=>{const e=n.notification.data.color?n.notification.data.color:"lightgreen";n.notification.data.package&&nt(n.notification.data.package,e,!0)})}async function $n(){try{let n=await q.checkPermissions();if(n.receive==="prompt"&&(n=await q.requestPermissions()),n.receive!=="granted")throw new Error("User denied permissions!");await q.register(),Ln.subscribeTo({topic:tt}).then(e=>console.log(`subscribed to topic "${tt}"`+e)).catch(e=>console.log(e))}catch{console.log("Error registering for push notifications (probably running in a browser)")}}async function Nn(){const n=await q.getDeliveredNotifications();console.log("delivered notifications",n)}(async()=>{try{await Sn(),await Nn()}catch{console.log("Error adding push notifications (probably running in a browser)")}})();function xn(n){n.CapacitorUtils.Synapse=new Proxy({},{get(e,t){return new Proxy({},{get(r,s){return(o,i,a)=>{const _=n.Capacitor.Plugins[t];if(_===void 0){a(new Error(`Capacitor plugin ${t} not found`));return}if(typeof _[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${t}`));return}(async()=>{try{const c=await _[s](o);i(c)}catch(c){a(c)}})()}}})}})}function On(n){n.CapacitorUtils.Synapse=new Proxy({},{get(e,t){return n.cordova.plugins[t]}})}function kn(n=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!n?xn(window):window.cordova!==void 0&&On(window))}var ge;(function(n){n.Documents="DOCUMENTS",n.Data="DATA",n.Library="LIBRARY",n.Cache="CACHE",n.External="EXTERNAL",n.ExternalStorage="EXTERNAL_STORAGE",n.ExternalCache="EXTERNAL_CACHE",n.LibraryNoCloud="LIBRARY_NO_CLOUD",n.Temporary="TEMPORARY"})(ge||(ge={}));var we;(function(n){n.UTF8="utf8",n.ASCII="ascii",n.UTF16="utf16"})(we||(we={}));const Ct=z("Filesystem",{web:()=>Y(()=>import("./web-BqUGQ-z5.js"),[],import.meta.url).then(n=>new n.FilesystemWeb)});kn();const Dn=new Int32Array(4);let At=class I{static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);static buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);static hexChars="0123456789abcdef";static hexOut=[];static onePassHasher=new I;static _hex(e){const t=I.hexChars,r=I.hexOut;let s,o,i,a;for(a=0;a<4;a+=1)for(o=a*8,s=e[a],i=0;i<8;i+=2)r[o+1+i]=t.charAt(s&15),s>>>=4,r[o+0+i]=t.charAt(s&15),s>>>=4;return r.join("")}static _md5cycle(e,t){let r=e[0],s=e[1],o=e[2],i=e[3];r+=(s&o|~s&i)+t[0]-680876936|0,r=(r<<7|r>>>25)+s|0,i+=(r&s|~r&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&s)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,s+=(o&i|~o&r)+t[3]-1044525330|0,s=(s<<22|s>>>10)+o|0,r+=(s&o|~s&i)+t[4]-176418897|0,r=(r<<7|r>>>25)+s|0,i+=(r&s|~r&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&s)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,s+=(o&i|~o&r)+t[7]-45705983|0,s=(s<<22|s>>>10)+o|0,r+=(s&o|~s&i)+t[8]+1770035416|0,r=(r<<7|r>>>25)+s|0,i+=(r&s|~r&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&s)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,s+=(o&i|~o&r)+t[11]-1990404162|0,s=(s<<22|s>>>10)+o|0,r+=(s&o|~s&i)+t[12]+1804603682|0,r=(r<<7|r>>>25)+s|0,i+=(r&s|~r&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&s)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,s+=(o&i|~o&r)+t[15]+1236535329|0,s=(s<<22|s>>>10)+o|0,r+=(s&i|o&~i)+t[1]-165796510|0,r=(r<<5|r>>>27)+s|0,i+=(r&o|s&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,o+=(i&s|r&~s)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,s+=(o&r|i&~r)+t[0]-373897302|0,s=(s<<20|s>>>12)+o|0,r+=(s&i|o&~i)+t[5]-701558691|0,r=(r<<5|r>>>27)+s|0,i+=(r&o|s&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+r|0,o+=(i&s|r&~s)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,s+=(o&r|i&~r)+t[4]-405537848|0,s=(s<<20|s>>>12)+o|0,r+=(s&i|o&~i)+t[9]+568446438|0,r=(r<<5|r>>>27)+s|0,i+=(r&o|s&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,o+=(i&s|r&~s)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,s+=(o&r|i&~r)+t[8]+1163531501|0,s=(s<<20|s>>>12)+o|0,r+=(s&i|o&~i)+t[13]-1444681467|0,r=(r<<5|r>>>27)+s|0,i+=(r&o|s&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+r|0,o+=(i&s|r&~s)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,s+=(o&r|i&~r)+t[12]-1926607734|0,s=(s<<20|s>>>12)+o|0,r+=(s^o^i)+t[5]-378558|0,r=(r<<4|r>>>28)+s|0,i+=(r^s^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^s)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,s+=(o^i^r)+t[14]-35309556|0,s=(s<<23|s>>>9)+o|0,r+=(s^o^i)+t[1]-1530992060|0,r=(r<<4|r>>>28)+s|0,i+=(r^s^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^s)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,s+=(o^i^r)+t[10]-1094730640|0,s=(s<<23|s>>>9)+o|0,r+=(s^o^i)+t[13]+681279174|0,r=(r<<4|r>>>28)+s|0,i+=(r^s^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^s)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,s+=(o^i^r)+t[6]+76029189|0,s=(s<<23|s>>>9)+o|0,r+=(s^o^i)+t[9]-640364487|0,r=(r<<4|r>>>28)+s|0,i+=(r^s^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^s)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,s+=(o^i^r)+t[2]-995338651|0,s=(s<<23|s>>>9)+o|0,r+=(o^(s|~i))+t[0]-198630844|0,r=(r<<6|r>>>26)+s|0,i+=(s^(r|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~s))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,s+=(i^(o|~r))+t[5]-57434055|0,s=(s<<21|s>>>11)+o|0,r+=(o^(s|~i))+t[12]+1700485571|0,r=(r<<6|r>>>26)+s|0,i+=(s^(r|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~s))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,s+=(i^(o|~r))+t[1]-2054922799|0,s=(s<<21|s>>>11)+o|0,r+=(o^(s|~i))+t[8]+1873313359|0,r=(r<<6|r>>>26)+s|0,i+=(s^(r|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~s))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,s+=(i^(o|~r))+t[13]+1309151649|0,s=(s<<21|s>>>11)+o|0,r+=(o^(s|~i))+t[4]-145523070|0,r=(r<<6|r>>>26)+s|0,i+=(s^(r|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~s))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,s+=(i^(o|~r))+t[9]-343485551|0,s=(s<<21|s>>>11)+o|0,e[0]=r+e[0]|0,e[1]=s+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}_dataLength=0;_bufferLength=0;_state=new Int32Array(4);_buffer=new ArrayBuffer(68);_buffer8;_buffer32;constructor(){this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(I.stateIdentity),this}appendStr(e){const t=this._buffer8,r=this._buffer32;let s=this._bufferLength,o,i;for(i=0;i<e.length;i+=1){if(o=e.charCodeAt(i),o<128)t[s++]=o;else if(o<2048)t[s++]=(o>>>6)+192,t[s++]=o&63|128;else if(o<55296||o>56319)t[s++]=(o>>>12)+224,t[s++]=o>>>6&63|128,t[s++]=o&63|128;else{if(o=(o-55296)*1024+(e.charCodeAt(++i)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[s++]=(o>>>18)+240,t[s++]=o>>>12&63|128,t[s++]=o>>>6&63|128,t[s++]=o&63|128}s>=64&&(this._dataLength+=64,I._md5cycle(this._state,r),s-=64,r[0]=r[16])}return this._bufferLength=s,this}appendAsciiStr(e){const t=this._buffer8,r=this._buffer32;let s=this._bufferLength,o,i=0;for(;;){for(o=Math.min(e.length-i,64-s);o--;)t[s++]=e.charCodeAt(i++);if(s<64)break;this._dataLength+=64,I._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}appendByteArray(e){const t=this._buffer8,r=this._buffer32;let s=this._bufferLength,o,i=0;for(;;){for(o=Math.min(e.length-i,64-s);o--;)t[s++]=e[i++];if(s<64)break;this._dataLength+=64,I._md5cycle(this._state,r),s=0}return this._bufferLength=s,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,r=e.state,s=this._state;let o;for(this._dataLength=e.length,this._bufferLength=e.buflen,s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],o=0;o<t.length;o+=1)this._buffer8[o]=t.charCodeAt(o)}end(e=!1){const t=this._bufferLength,r=this._buffer8,s=this._buffer32,o=(t>>2)+1;this._dataLength+=t;const i=this._dataLength*8;if(r[t]=128,r[t+1]=r[t+2]=r[t+3]=0,s.set(I.buffer32Identity.subarray(o),o),t>55&&(I._md5cycle(this._state,s),s.set(I.buffer32Identity)),i<=4294967295)s[14]=i;else{const a=i.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return e?Dn:"";const _=parseInt(a[2],16),c=parseInt(a[1],16)||0;s[14]=_,s[15]=c}return I._md5cycle(this._state,s),e?this._state:I._hex(this._state)}};if(At.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");function St(n){return At.hashStr(n)}async function Pn(n,e){const t=St(e)+".json";console.log("Saving new config. "+t),await Ct.writeFile({path:t,data:JSON.stringify(n),directory:ge.Data,encoding:we.UTF8})}async function Yn(n,e,t){Bn(n,e);try{const r=await Ct.readFile({path:St(n)+".json",directory:ge.Data,encoding:we.UTF8});return console.log("returning local stored config"),JSON.parse(r.data)}catch{return console.log("No local config, fall back to built-in version."),typeof t=="string"?JSON.parse(t):t}}async function Bn(n,e=1){try{const r=await(await fetch(n)).json(),s=e;r.version>s&&(console.log("New config available: "+r.version),await Pn(r,n))}catch(t){console.log("Error fetching configuration: ",t)}}const Hn=1,Fn=[{linkId:"bus-link-truro",name:"Bus times to Truro",buttons:[{text:"Transport for Cornwall",url:"https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=Truro&destination%5Blocation%5D%5Blat%5D=50.263317&destination%5Blocation%5D%5Blon%5D=-5.051811&time%5Bwhen%5D=now"},{text:"First Bus",url:"https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound,%20Truro,%20UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=Truro,%20UK&toLat=50.263195&toLng=-5.051041&toPlaceId=ChIJdRpa1XwQa0gRtAcdle9HY2E"},{text:"Traveline SW",url:"https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004840%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt"}]},{linkId:"bus-link-st-austell",name:"Bus times to St Austell",buttons:[{text:"Transport for Cornwall",url:"https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=St+Austell&destination%5Blocation%5D%5Blat%5D=50.33814&destination%5Blocation%5D%5Blon%5D=-4.794184&time%5Bwhen%5D=now"},{text:"First Bus",url:"https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound, Truro, UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=St Austell, Saint Austell, UK&toLat=50.3403779&toLng=-4.7834252&toPlaceId=ChIJYwb4Jy1Aa0gRiCTxrSBmq2c"},{text:"Traveline SW",url:"https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004707%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt"}]},{linkId:"creed-circuit",name:"Creed Circuit Walk",buttons:[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/creed-circuit-avoiding-most-of-fore-street_955200#15/50.2940/-4.8909"},{text:"Download GPX",url:"https://photos.grampound.org.uk/repack.php?id=gpx_creed_circuit_avoiding_most_of_fore_street"}]},{linkId:"fal-footpath",name:"Fal Footpath Old Hill walk",buttons:[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/fal-footpath-barteliver-wood-bareliver-hill_1295709#16/50.2973/-4.9067"},{text:"Download GPX",url:"https://photos.grampound.org.uk/repack.php?id=gpx_fal_footpath__barteliver_wood__bareliver_hill"}]},{linkId:"trenowth",name:"Trenowth walk",buttons:[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/grampound-walk-pepo-trenowth_947847#14/50.3122/-4.8960"},{text:"Download GPX",url:"https://photos.grampound.org.uk/repack.php?id=gpx_grampound_walk_pepo_trenowth"}]},{linkId:"ghp-link",name:"Photo Archive",buttons:[{text:"Photo search",url:"https://photos.grampound.org.uk/photos.php"},{text:"Slide show",url:"https://photos.grampound.org.uk/slideshow.php"}]},{linkId:"sewage-links",name:"Sewage map",buttons:[{text:"Floodmapper",url:"https://www.floodmapper.co.uk/data-explorer/search-sewage-report/1bfb1dc2-aaf8-11ee-baa2-0242ac140003/Grampound"},{text:"SWW overflow map",url:"https://www.southwestwater.co.uk/environment/rivers-and-bathing-waters/waterfitlive/storm-overflow-map"}]},{linkId:"traffic-links",name:"Traffic updates",buttons:[{text:"Police incidents",url:"https://news.devon-cornwall.police.uk/traffic-watch/"},{text:"Planned roadworks & events",url:"https://api-gb.one.network/embedded/?lon=-4.90025&lat=50.29854&zoom=13&options={%22organisationID%22%3A1025%2C%22embedded%22%3Atrue%2C%22data%22%3A{%22layersActive%22%3A[%22INCIDENTS_LIVE_INCIDENT%22%2C%22INCIDENTS_LIVE_ACCIDENT%22%2C%22INCIDENTS_LIVE_TRAFFIC_CONGESTION%22%2C%22INCIDENTS_LIVE_HEALTH_EMERGENCY%22%2C%22INCIDENTS_LIVE_ROADCLOSURE%22%2C%22INCIDENTS_LIVE_LANECLOSURE%22%2C%22INCIDENTS_LIVE_HGVCLOSURE%22%2C%22INCIDENTS_LIVE_INFRASTRUCTURE_ISSUE%22%2C%22TM_LAYER_ROADCLOSURE_LIVE%22%2C%22TM_LAYER_DIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_HGVDIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_TEMPORARYONEWAY_LIVE%22%2C%22TM_LAYER_BRIDGECLOSURE_LIVE%22%2C%22TM_LAYER_LANECLOSURE_LIVE%22%2C%22TM_LAYER_ROADAHEADCLOSED_LIVE%22%2C%22TM_LAYER_ACCESS_ONLY_LIVE%22%2C%22TM_LAYER_GRITTING_LIVE%22%2C%22TM_LAYER_WIDENED_FOOTPATH_LIVE%22%2C%22TM_LAYER_FOOTWAYCLOSURE_LIVE%22%2C%22TM_LAYER_TOWAWAYZONE_LIVE%22%2C%22TM_LAYER_CLEARWAY_LIVE%22%2C%22TM_LAYER_NOUTURN_LIVE%22%2C%22TM_LAYER_NOLEFTTURN_LIVE%22%2C%22TM_LAYER_NORIGHTTURN_LIVE%22%2C%22TM_LAYER_NOVEHICLEACCESS_LIVE%22%2C%22TM_LAYER_REVERSALONEWAY_LIVE%22%2C%22TM_LAYER_TEMPORARYSPEEDLIMIT_LIVE%22%2C%22TM_LAYER_HEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WIDTHRESTRICTION_LIVE%22%2C%22TM_LAYER_LENGTHRESTRICTION_LIVE%22%2C%22TM_LAYER_TEMPPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSION_BUSWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONONEWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSIONWEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_PREFERRED_ACCESS_LIVE%22%2C%22TM_LAYER_EMERGENCY_ACCESS_ROUTE_LIVE%22%2C%22TM_LAYER_PEDESTRIAN_ZONE_LIVE%22%2C%22TM_LAYER_CLOSURE_CROSSING_LIVE%22%2C%22TM_LAYER_CYCLE_LANE_LIVE%22%2C%22TM_LAYER_TWOWAYSIGNALS_LIVE%22%2C%22TM_LAYER_MULTIWAYSIGNALS_LIVE%22%2C%22TM_LAYER_STOPANDGO_LIVE%22%2C%22TM_LAYER_GIVEANDTAKE_LIVE%22%2C%22TM_LAYER_PRIORITYSIGNS_LIVE%22%2C%22TM_LAYER_CONVOYWORKING_LIVE%22%2C%22TM_LAYER_WORKSSTOP_LIVE%22%2C%22ROADWORKS_CURRENT%22%2C%22TM_LAYER_ENTITY_AGRICULTURAL_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_AIR_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_CARNIVAL_PARADE_STREET_LIVE%22%2C%22TM_LAYER_ENTITY_CHRISTMAS_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_CRUISE_SHIP_LIVE%22%2C%22TM_LAYER_ENTITY_CYCLING_LIVE%22%2C%22TM_LAYER_ENTITY_ENTERTAINMENT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_FESTIVAL_LIVE%22%2C%22TM_LAYER_ENTITY_FILMING_LIVE%22%2C%22TM_LAYER_ENTITY_FOOTBALL_LIVE%22%2C%22TM_LAYER_ENTITY_FUNERAL_LIVE%22%2C%22TM_LAYER_ENTITY_HORSE_RACING_LIVE%22%2C%22TM_LAYER_ENTITY_MARKET_LIVE%22%2C%22TM_LAYER_ENTITY_MOTOR_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_POLLING_STATION_LIVE%22%2C%22TM_LAYER_ENTITY_REMEMBRANCE_PARADE_LIVE%22%2C%22TM_LAYER_ENTITY_ROYAL_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_RUGBY_LIVE%22%2C%22TM_LAYER_ENTITY_RUNNING_LIVE%22%2C%22TM_LAYER_ENTITY_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_OTHER_PUBLIC_EVENTS_LIVE%22]}%2C%22embedID%22%3A%22B9I9JDD9J9%22%2C%22system%22%3A{%22delayedLoad%22%3Afalse%2C%22historicWorksEnabled%22%3Afalse%2C%22tileServer%22%3A%22%24{region}-prd-%24{source}%24{randomizer}.one.network%22}%2C%22dateRange%22%3A%22today%22}"},{text:"Google traffic",url:"https://www.google.com/maps/@50.3053698,-4.9023496,12z/data=!5m1!1e1?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"}]},{linkId:"weather-links",name:"Forecasts",buttons:[{text:"UK Met Office",url:"https://weather.metoffice.gov.uk/forecast/gbuqpg6k1#?nearestTo=Grampound%20(Cornwall)"},{text:"YR.no",url:"https://www.yr.no/en/forecast/daily-table/2-2648227/United%20Kingdom/England/Cornwall/Grampound"},{text:"(23rd Jan) Yellow warning of rain, wind affecting South West England",url:"https://www.metoffice.gov.uk/weather/warnings-and-advice/uk-warnings#?date=2026-01-23&id=e705af73-38bd-43f5-9489-fc942287b709&referrer=rss"}]}],jn={version:Hn,data:Fn},Wn=""+new URL("../OpenStreetMap-logo-with-text.svg",import.meta.url).href,Gn=""+new URL("../calendar.svg",import.meta.url).href,Un=""+new URL("../creed-churchyard.png",import.meta.url).href,qn=""+new URL("../geograph-logo.svg",import.meta.url).href,Mn=""+new URL("../github-mark.svg",import.meta.url).href,zn="0.8.25",$t={version:zn},Kn=""+new URL("../ISO_7001_PI_TF_006.svg",import.meta.url).href;let Qn="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound,%20Truro,%20UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=Truro,%20UK&toLat=50.263195&toLng=-5.051041&toPlaceId=ChIJdRpa1XwQa0gRtAcdle9HY2E",Jn="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound, Truro, UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=St Austell, Saint Austell, UK&toLat=50.3403779&toLng=-4.7834252&toPlaceId=ChIJYwb4Jy1Aa0gRiCTxrSBmq2c",Xn="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004840%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Zn="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004707%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Vn="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=Truro&destination%5Blocation%5D%5Blat%5D=50.263317&destination%5Blocation%5D%5Blon%5D=-5.051811&time%5Bwhen%5D=now",er="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=St+Austell&destination%5Blocation%5D%5Blat%5D=50.33814&destination%5Blocation%5D%5Blon%5D=-4.794184&time%5Bwhen%5D=now";function tr(){return`
        <li class="flex-item">
        <img src="${Kn}" alt="bus icon" class="icon"><br>
        <div style="margin-top:1em;">
            <div id="bus-links" style="margin-top:0.5em;">
                <a id='bus-link-truro' style="widgetlink" href="#" target="_blank"><button>To Truro</button></a>
                <a id='bus-link-st-austell' style="widgetlink" href="#" target="_blank"><button>To St Austell</button></a>
            </div>
            <p>Buses from Grampound.</p>
        </div>
        </li>
    `}D("bus-link-truro","Bus times to Truro",[{text:"Transport for Cornwall",url:Vn},{text:"First Bus",url:Qn},{text:"Traveline SW",url:Xn}]);D("bus-link-st-austell","Bus times to St Austell",[{text:"Transport for Cornwall",url:er},{text:"First Bus",url:Jn},{text:"Traveline SW",url:Zn}]);const nr=""+new URL("../hiker.svg",import.meta.url).href,Fe="https://photos.grampound.org.uk/repack.php?id=gpx_",rr=Fe+"creed_circuit_avoiding_most_of_fore_street",sr=Fe+"fal_footpath__barteliver_wood__bareliver_hill",or=Fe+"grampound_walk_pepo_trenowth";function ir(){return`
    <li class="flex-item">
    <img src="${nr}" alt="hiker icon" class="icon"><br>
    <a id="fal-footpath" href="#" target="_blank">
        <button>Fal (40 mins)</button>
    </a>
    <a id="creed-circuit" href="#" target="_blank">
        <button>Creed Circuit (1 hr)</button>
    </a>
    <a id="trenowth" href="#" target="_blank">
        <button>Trenowth (1½ hrs)</button>
    </a>
    <p>Circular walks.</p>
    </li>
    `}D("creed-circuit","Creed Circuit Walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/creed-circuit-avoiding-most-of-fore-street_955200#15/50.2940/-4.8909"},{text:"Download GPX",url:rr}]);D("fal-footpath","Fal Footpath Old Hill walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/fal-footpath-barteliver-wood-bareliver-hill_1295709#16/50.2973/-4.9067"},{text:"Download GPX",url:sr}]);D("trenowth","Trenowth walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/grampound-walk-pepo-trenowth_947847#14/50.3122/-4.8960"},{text:"Download GPX",url:or}]);const ar=""+new URL("../gwchp-logo-coloured-600x600.png",import.meta.url).href;function cr(){return`
    <a id="ghp-link" href="#" target="_blank" class="flex-item">
        <img src="${ar}" class="logo green" alt="Grampound Heritage Project logo" />
        <p>Grampound Heritage Project photo archive.</p>
    </a>
    `}D("ghp-link","Photo Archive",[{text:"Photo search",url:"https://photos.grampound.org.uk/photos.php"},{text:"Slide show",url:"https://photos.grampound.org.uk/slideshow.php"}]);const Nt="why-button";function lr(){return`
    <li class="flex-item">
        <button class="widgetlink" id="${Nt}">
            Why?
        </button>
        <p id="why-content">Keep hitting the why button to learn more.</p>
    </li>
    `}function rt(n){let e=n.length;for(;e!=0;){let t=Math.floor(Math.random()*e);e--,[n[e],n[t]]=[n[t],n[e]]}}document.addEventListener("DOMContentLoaded",()=>{const n=["To help us find useful local information quickly.","To demonstrate how open data and digital tools can benefit our community.","To make environmental and travel data more accessible for Grampound.","To encourage us to engage with local resources and events.","To provide a single place for maps, weather, air and water quality, and more.","To support transparency and awareness about local environmental conditions.","To experiment with digital projects for rural areas.","To make it easier to plan journeys and walks around Grampound.","To showcase how technology can connect people with their local area.","To encourage contributions and improvements from anyone who wants to get involved.","To share some excellent digital resources that already exist for Grampound.","To show what is possible with open data and community effort.","To demonstrate how small digital projects can beat 'big tech' for local relevance.","This could be a public touch screen in the village hall or shop.","To help everyone find local info fast.","To show how sharing info online can help our town.","To make weather and nature facts easy to find for Grampound.","To get people excited about local events and places.","To have one website for maps, weather, and how clean our air and water is.","To be honest and open about our local environment.","To try out new tech ideas for places like ours.","To make planning walks and trips around Grampound simple.","To show how tech can help people connect with where they live.","To share other cool websites that already exist for Grampound.","To show what we can do when we share information and work together.","To prove a small local website can be more useful than big websites or apps for our town.","This could also be a public computer screen in the village hall or shop.","To find out what's happening in the village this week.","To prove a local site can be more useful than big tech apps.","To make planning walks, bus trips, and journeys simpler.","To be the one-stop website for everything in Grampound.","To help you find local info quickly and easily.","To show what we can achieve when we share information and work together.","To demonstrate 'digital sovereignty' - that small local projects can beat big tech."],e=document.getElementById(Nt),t=document.getElementById("why-content");let r=[...n],s="";rt(r);let o=Array("Why again?","But why?","Why though?","Please, why?","Why, why, why?","But really?");e&&t&&e.addEventListener("click",()=>{r.length>0||(y("Why sentences exhausted, reshuffling"),r=[...n],rt(r)),s=r.pop()||"",e.innerText=o[Math.floor(Math.random()*o.length)],t.innerText=s,y("Why button clicked: ",s)})});const _r=""+new URL("../PurpleAir-Cornwall-Map.png",import.meta.url).href;var ur="Grampound";const st="PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI",dr="https://www.purpleair.com/pa.widget.js?key=GK7Z257AJL4IWPJC&module=US_EPA_AQI&conversion=C0&average=10&layer=US_EPA_AQI&container=PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI";var xt,je,Ot,xt="<div id='"+st+"'>Loading nearest sensor ...</div>",je=st,Ot=dr;function fr(){return xt}function hr(){return`
    <a href="https://map.purpleair.com/air-quality-standards-us-epa-aqi?opt=%2F1%2Flp%2Fa10%2Fp604800%2FcC0#8.63/50.2076/-5.023" target="_blank" class="flex-item">
        <img src="${_r}" class="logo" alt="Air Quality, PurpleAir logo" />
        <p>${fr()}</p>
        <p>Air quality in ${ur}.</p>
    </a>
    `}document.addEventListener("DOMContentLoaded",()=>{const n=document.createElement("script");n.id=je+"_script",n.src=Ot,document.body.appendChild(n)});document.addEventListener("DOMContentLoaded",()=>{const n=je;let e=!1;const t=new MutationObserver(()=>{const s=document.getElementById(n);if(s){let o=Array.from(s.querySelectorAll("span")).find(i=>{const a=i.textContent?.trim()||"",_=!isNaN(parseFloat(a)),c=window.getComputedStyle(i).fontSize;return _&&parseFloat(c)>=50});if(o){console.log("PurpleAir Pm2.5 span found");const i=parseFloat(o.innerHTML);if(!isNaN(i)&&i<50){const a=document.createElement("span");a.classList.add("purple-air-reading"),a.textContent=o.textContent,a.style.background="green",a.style.color="white",a.style.borderRadius="1000px",a.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(a)}if(!isNaN(i)&&i>=50&&i<100){const a=document.createElement("span");a.classList.add("purple-air-reading"),a.textContent=o.textContent,a.style.background="yellow",a.style.color="black",a.style.borderRadius="1000px",a.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(a),L("Poor Air Quality")}if(!isNaN(i)&&i>=100){const a=document.createElement("span");a.classList.add("purple-air-reading"),a.textContent=o.textContent,a.style.background="red",a.style.color="white",a.style.borderRadius="1000px",a.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(a),L("Very poor air quality")}e===!1&&(y(`Nearest PurpleAir sensor Pm2.5 value: ${i}`),e=!0)}s.querySelector("div.popup-error-help")&&(s.innerHTML="<button>Visit Purple Air Map</button>",y("PurpleAir response shows error element 'div.popup-error-help'"))}}),r=document.getElementById(n);r?t.observe(r,{childList:!0,subtree:!0}):console.error("PurpleAir widget not found.")});var kt="message-button-for-gdt";function pr(){return`
    <li class="flex-item">
        <button class="widgetlink" id=${kt}>
            Message
        </button>
        <p>Send us a message, feedback, or offer support.</p>
    </li>
    `}document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById(kt);n&&n.addEventListener("click",()=>{let e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let t=document.createElement("div");t.style.background="white",t.style.padding="1em",t.style.margin="1em",t.style.borderRadius="10px",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",t.style.textAlign="center",t.style.position="relative";let r=document.createElement("h2");r.textContent="Contact Grampound Digital Twin",r.style.textAlign="center",t.appendChild(r);let s=document.createElement("p");s.textContent="Please do not share confidential information.",s.style.textAlign="center",t.appendChild(s);let o=document.createElement("form");o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="center",o.style.gap="1em";let i=document.createElement("input");i.type="text",i.name="fn",i.placeholder="Your name",i.required=!1,i.style.width="100%",o.appendChild(i);let a=document.createElement("input");a.type="email",a.name="fe",a.placeholder="Your email (optional)",a.required=!1,a.style.width="100%",o.appendChild(a);let _=document.createElement("textarea");_.name="fm",_.placeholder="Your message",_.required=!0,_.rows=4,_.style.width="100%",o.appendChild(_);const c=Math.floor(Math.random()*10)+1,l=Math.floor(Math.random()*10)+1;let u=document.createElement("label");u.textContent=`Checking you are human. What is ${c} + ${l}? `,u.style.marginTop="1em",u.htmlFor="arithmetic-test",o.appendChild(u);let d=document.createElement("input");d.type="number",d.id="arithmetic-test",d.required=!0,d.style.width="4em",o.appendChild(d);let f=document.createElement("button");f.type="submit",f.textContent="Send",f.style.marginTop="1em",f.disabled=!0,o.appendChild(f),d.addEventListener("input",()=>{Number(d.value)===c+l?(f.disabled=!1,f.classList.add("widgetlink")):(f.disabled=!0,f.classList.remove("widgetlink"))});let p=document.createElement("div");p.style.marginTop="1em",p.style.color="green",o.appendChild(p),o.onsubmit=async m=>{m.preventDefault(),f.disabled=!0,p.textContent="Sending...";try{const w=await(await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`fn=${encodeURIComponent(i.value)}&fe=${encodeURIComponent(a.value)}&fm=${encodeURIComponent(_.value)}`})).text();p.textContent="Message sent! Thank you.",console.log("Message sent:",w),f.disabled=!1,o.reset()}catch{p.textContent="Error sending message. Please try again.",f.disabled=!1}},t.appendChild(o);let h=document.createElement("button");h.textContent="✕",h.setAttribute("aria-label","Close"),h.style.position="absolute",h.style.top="0.2em",h.style.right="0.2em",h.style.background="transparent",h.style.border="none",h.style.fontSize="1.5em",h.style.cursor="pointer",h.onclick=()=>{document.body.removeChild(e)},t.appendChild(h),e.appendChild(t),document.body.appendChild(e)})});function mr(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var J={};const he=2,O=4,B=4,Dt=4,H=new Int32Array(2),xe=new Float32Array(H.buffer),Oe=new Float64Array(H.buffer),re=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var ve;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(ve||(ve={}));class ae{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new ae(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return H[0]=this.readInt32(e),xe[0]}readFloat64(e){return H[re?0:1]=this.readInt32(e),H[re?1:0]=this.readInt32(e+4),Oe[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(e,t){xe[0]=t,this.writeInt32(e,H[0])}writeFloat64(e,t){Oe[0]=t,this.writeInt32(e,H[re?0:1]),this.writeInt32(e+4,H[re?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+O+B)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<B;t++)e+=String.fromCharCode(this.readInt8(this.position_+O+t));return e}__offset(e,t){const r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const r=this.readInt32(e);e+=O;const s=this.bytes_.subarray(e,e+r);return t===ve.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+O}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=B)throw new Error("FlatBuffers: file identifier must be length "+B);for(let t=0;t<B;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+O+t))return!1;return!0}createScalarList(e,t){const r=[];for(let s=0;s<t;++s){const o=e(s);o!==null&&r.push(o)}return r}createObjList(e,t){const r=[];for(let s=0;s<t;++s){const o=e(s);o!==null&&r.push(o.unpack())}return r}}class We{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let t;e?t=e:t=1024,this.bb=ae.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<r+e+t;){const s=this.bb.capacity();this.bb=We.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(r)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,r){(this.force_defaults||t!==r)&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,r){t!=r&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=t<<1,s=ae.allocate(r);return s.setPosition(r-t),s.bytes().set(e.bytes(),r-t),s}addOffset(e){this.prep(O,0),this.writeInt32(this.offset()-e+O)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const r=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);const s=2;this.addInt16(e-this.object_start);const o=(r+s)*he;this.addInt16(o);let i=0;const a=this.space;e:for(t=0;t<this.vtables.length;t++){const _=this.bb.capacity()-this.vtables[t];if(o==this.bb.readInt16(_)){for(let c=he;c<o;c+=he)if(this.bb.readInt16(a+c)!=this.bb.readInt16(_+c))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,r){const s=r?Dt:0;if(t){const o=t;if(this.prep(this.minalign,O+B+s),o.length!=B)throw new TypeError("FlatBuffers: file identifier must be length "+B);for(let i=B-1;i>=0;i--)this.writeInt8(o.charCodeAt(i))}this.prep(this.minalign,O+s),this.addOffset(e),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){const r=this.bb.capacity()-e,s=r-this.bb.readInt32(r);if(!(t<this.bb.readInt16(s)&&this.bb.readInt16(s+t)!=0))throw new TypeError("FlatBuffers: field "+t+" must be set")}startVector(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(O,e*t),this.prep(r,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){if(e==null)return 0;let t;return e instanceof Uint8Array?t=e:t=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const t=[];for(let r=0;r<e.length;++r){const s=e[r];if(s!==null)t.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const gr=Object.freeze(Object.defineProperty({__proto__:null,Builder:We,ByteBuffer:ae,get Encoding(){return ve},FILE_IDENTIFIER_LENGTH:B,SIZEOF_INT:O,SIZEOF_SHORT:he,SIZE_PREFIX_LENGTH:Dt,float32:xe,float64:Oe,int32:H,isLittleEndian:re},Symbol.toStringTag,{value:"Module"})),ce=mr(gr);var A={},Z={},ot;function wr(){if(ot)return Z;ot=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.Model=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",e[e.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",e[e.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",e[e.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",e[e.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",e[e.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",e[e.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",e[e.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",e[e.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",e[e.ncep_nam_conus=104]="ncep_nam_conus",e[e.icon_d2_ruc=105]="icon_d2_ruc",e[e.ecmwf_seas5=106]="ecmwf_seas5",e[e.ecmwf_ec46=107]="ecmwf_ec46",e[e.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",e[e.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",e[e.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",e[e.gem_hrdps_west=111]="gem_hrdps_west",e[e.ecmwf_wam=112]="ecmwf_wam",e[e.ncep_aigfs025=113]="ncep_aigfs025",e[e.ncep_aigefs025=114]="ncep_aigefs025",e[e.ncep_hgefs025_ensemble_mean=115]="ncep_hgefs025_ensemble_mean",e[e.ecmwf_seasonal_ensemble_mean_seamless=116]="ecmwf_seasonal_ensemble_mean_seamless",e[e.ecmwf_seas5_ensemble_mean=117]="ecmwf_seas5_ensemble_mean",e[e.ecmwf_ec46_ensemble_mean=118]="ecmwf_ec46_ensemble_mean",e[e.ncep_aigefs025_ensemble_mean=119]="ncep_aigefs025_ensemble_mean",e[e.dwd_icon_eps_ensemble_mean_seamless=120]="dwd_icon_eps_ensemble_mean_seamless",e[e.dwd_icon_eps_ensemble_mean=121]="dwd_icon_eps_ensemble_mean",e[e.dwd_icon_eu_eps_ensemble_mean=122]="dwd_icon_eu_eps_ensemble_mean",e[e.dwd_icon_d2_eps_ensemble_mean=123]="dwd_icon_d2_eps_ensemble_mean",e[e.ncep_gefs_ensemble_mean_seamless=124]="ncep_gefs_ensemble_mean_seamless",e[e.ncep_gefs025_ensemble_mean=125]="ncep_gefs025_ensemble_mean",e[e.ncep_gefs05_ensemble_mean=126]="ncep_gefs05_ensemble_mean",e[e.ecmwf_ifs025_ensemble_mean=127]="ecmwf_ifs025_ensemble_mean",e[e.ecmwf_aifs025_ensemble_mean=128]="ecmwf_aifs025_ensemble_mean",e[e.meteoswiss_icon_ch1_ensemble_mean=129]="meteoswiss_icon_ch1_ensemble_mean",e[e.meteoswiss_icon_ch2_ensemble_mean=130]="meteoswiss_icon_ch2_ensemble_mean",e[e.cmc_gem_geps_ensemble_mean=131]="cmc_gem_geps_ensemble_mean",e[e.ukmo_global_ensemble_mean_20km=132]="ukmo_global_ensemble_mean_20km",e[e.ukmo_uk_ensemble_mean_2km=133]="ukmo_uk_ensemble_mean_2km"})(n||(Z.Model=n={})),Z}var S={},$={},V={},it;function vr(){if(it)return V;it=1,Object.defineProperty(V,"__esModule",{value:!0}),V.Aggregation=void 0;var n;return(function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread",e[e.anomaly=12]="anomaly",e[e.sot10=13]="sot10",e[e.sot90=14]="sot90",e[e.efi=15]="efi"})(n||(V.Aggregation=n={})),V}var ee={},at;function Er(){if(at)return ee;at=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.Probability=void 0;var n;return(function(e){e[e.none=0]="none",e[e.gt0=1]="gt0",e[e.gt0p1=2]="gt0p1",e[e.gt1=3]="gt1",e[e.gt2=4]="gt2",e[e.gt3=5]="gt3",e[e.gt4=6]="gt4",e[e.gt5=7]="gt5",e[e.gt8=8]="gt8",e[e.gt10=9]="gt10",e[e.gt15=10]="gt15",e[e.gt20=11]="gt20",e[e.gt25=12]="gt25",e[e.gt30=13]="gt30",e[e.gt35=14]="gt35",e[e.gt40=15]="gt40",e[e.gt50=16]="gt50",e[e.gt60=17]="gt60",e[e.gt75=18]="gt75",e[e.gt80=19]="gt80",e[e.gt100=20]="gt100",e[e.lt0=21]="lt0",e[e.lt0p1=22]="lt0p1",e[e.lt1=23]="lt1",e[e.ltm1=24]="ltm1",e[e.ltm2=25]="ltm2",e[e.ltm3=26]="ltm3",e[e.ltm4=27]="ltm4",e[e.ltm5=28]="ltm5",e[e.ltm8=29]="ltm8",e[e.ltm10=30]="ltm10",e[e.ltm15=31]="ltm15",e[e.ltm20=32]="ltm20",e[e.gt1stdev=33]="gt1stdev",e[e.gt1p5stdev=34]="gt1p5stdev",e[e.gt2stdev=35]="gt2stdev",e[e.lt1stdev=36]="lt1stdev",e[e.lt1p5stdev=37]="lt1p5stdev",e[e.lt2stdev=38]="lt2stdev"})(n||(ee.Probability=n={})),ee}var te={},ct;function yr(){if(ct)return te;ct=1,Object.defineProperty(te,"__esModule",{value:!0}),te.Unit=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million",e[e.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(n||(te.Unit=n={})),te}var ne={},lt;function br(){if(lt)return ne;lt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.Variable=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",e[e.wind_u_component=149]="wind_u_component",e[e.wind_v_component=150]="wind_v_component",e[e.temperature_max24h=151]="temperature_max24h",e[e.temperature_min24h=152]="temperature_min24h",e[e.temperature_mean24h=153]="temperature_mean24h",e[e.snow_density=154]="snow_density",e[e.longwave_radiation=155]="longwave_radiation",e[e.sea_ice_cover=156]="sea_ice_cover",e[e.k_index=157]="k_index",e[e.roughness_length=158]="roughness_length",e[e.potential_evapotranspiration=159]="potential_evapotranspiration",e[e.wave_peak_period=160]="wave_peak_period",e[e.temperature_max6h=161]="temperature_max6h",e[e.temperature_min6h=162]="temperature_min6h",e[e.lightning_density=163]="lightning_density",e[e.sea_ice_thickness=164]="sea_ice_thickness"})(n||(ne.Variable=n={})),ne}var _t;function Pt(){if(_t)return $;_t=1;var n=$&&$.__createBinding||(Object.create?(function(c,l,u,d){d===void 0&&(d=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(c,d,f)}):(function(c,l,u,d){d===void 0&&(d=u),c[d]=l[u]})),e=$&&$.__setModuleDefault||(Object.create?(function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}):function(c,l){c.default=l}),t=$&&$.__importStar||(function(){var c=function(l){return c=Object.getOwnPropertyNames||function(u){var d=[];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(d[d.length]=f);return d},c(l)};return function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var d=c(l),f=0;f<d.length;f++)d[f]!=="default"&&n(u,l,d[f]);return e(u,l),u}})();Object.defineProperty($,"__esModule",{value:!0}),$.VariableWithValues=void 0;const r=t(ce),s=vr(),o=Er(),i=yr(),a=br();class _{constructor(){this.bb=null,this.bb_pos=0}__init(l,u){return this.bb_pos=l,this.bb=u,this}static getRootAsVariableWithValues(l,u){return(u||new _).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsVariableWithValues(l,u){return l.setPosition(l.position()+r.SIZE_PREFIX_LENGTH),(u||new _).__init(l.readInt32(l.position())+l.position(),l)}variable(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readUint8(this.bb_pos+l):a.Variable.undefined}unit(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readUint8(this.bb_pos+l):i.Unit.undefined}value(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readFloat32(this.bb_pos+l):0}values(l){const u=this.bb.__offset(this.bb_pos,10);return u?this.bb.readFloat32(this.bb.__vector(this.bb_pos+u)+l*4):0}valuesLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__vector_len(this.bb_pos+l):0}valuesArray(){const l=this.bb.__offset(this.bb_pos,10);return l?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+l),this.bb.__vector_len(this.bb_pos+l)):null}valuesInt64(l){const u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+l*8):BigInt(0)}valuesInt64Length(){const l=this.bb.__offset(this.bb_pos,12);return l?this.bb.__vector_len(this.bb_pos+l):0}altitude(){const l=this.bb.__offset(this.bb_pos,14);return l?this.bb.readInt16(this.bb_pos+l):0}aggregation(){const l=this.bb.__offset(this.bb_pos,16);return l?this.bb.readUint8(this.bb_pos+l):s.Aggregation.none}pressureLevel(){const l=this.bb.__offset(this.bb_pos,18);return l?this.bb.readInt16(this.bb_pos+l):0}depth(){const l=this.bb.__offset(this.bb_pos,20);return l?this.bb.readInt16(this.bb_pos+l):0}depthTo(){const l=this.bb.__offset(this.bb_pos,22);return l?this.bb.readInt16(this.bb_pos+l):0}ensembleMember(){const l=this.bb.__offset(this.bb_pos,24);return l?this.bb.readInt16(this.bb_pos+l):0}previousDay(){const l=this.bb.__offset(this.bb_pos,26);return l?this.bb.readInt16(this.bb_pos+l):0}probability(){const l=this.bb.__offset(this.bb_pos,28);return l?this.bb.readUint8(this.bb_pos+l):o.Probability.none}}return $.VariableWithValues=_,$}var ut;function Ir(){if(ut)return S;ut=1;var n=S&&S.__createBinding||(Object.create?(function(i,a,_,c){c===void 0&&(c=_);var l=Object.getOwnPropertyDescriptor(a,_);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[_]}}),Object.defineProperty(i,c,l)}):(function(i,a,_,c){c===void 0&&(c=_),i[c]=a[_]})),e=S&&S.__setModuleDefault||(Object.create?(function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}):function(i,a){i.default=a}),t=S&&S.__importStar||(function(){var i=function(a){return i=Object.getOwnPropertyNames||function(_){var c=[];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(c[c.length]=l);return c},i(a)};return function(a){if(a&&a.__esModule)return a;var _={};if(a!=null)for(var c=i(a),l=0;l<c.length;l++)c[l]!=="default"&&n(_,a,c[l]);return e(_,a),_}})();Object.defineProperty(S,"__esModule",{value:!0}),S.VariablesWithMonth=void 0;const r=t(ce),s=Pt();class o{constructor(){this.bb=null,this.bb_pos=0}__init(a,_){return this.bb_pos=a,this.bb=_,this}static getRootAsVariablesWithMonth(a,_){return(_||new o).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsVariablesWithMonth(a,_){return a.setPosition(a.position()+r.SIZE_PREFIX_LENGTH),(_||new o).__init(a.readInt32(a.position())+a.position(),a)}year(){const a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt16(this.bb_pos+a):0}month(){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt8(this.bb_pos+a):0}count(){const a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):0}variables(a,_){const c=this.bb.__offset(this.bb_pos,10);return c?(_||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}variablesLength(){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0}}return S.VariablesWithMonth=o,S}var N={},dt;function Tr(){if(dt)return N;dt=1;var n=N&&N.__createBinding||(Object.create?(function(i,a,_,c){c===void 0&&(c=_);var l=Object.getOwnPropertyDescriptor(a,_);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[_]}}),Object.defineProperty(i,c,l)}):(function(i,a,_,c){c===void 0&&(c=_),i[c]=a[_]})),e=N&&N.__setModuleDefault||(Object.create?(function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}):function(i,a){i.default=a}),t=N&&N.__importStar||(function(){var i=function(a){return i=Object.getOwnPropertyNames||function(_){var c=[];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(c[c.length]=l);return c},i(a)};return function(a){if(a&&a.__esModule)return a;var _={};if(a!=null)for(var c=i(a),l=0;l<c.length;l++)c[l]!=="default"&&n(_,a,c[l]);return e(_,a),_}})();Object.defineProperty(N,"__esModule",{value:!0}),N.VariablesWithTime=void 0;const r=t(ce),s=Pt();class o{constructor(){this.bb=null,this.bb_pos=0}__init(a,_){return this.bb_pos=a,this.bb=_,this}static getRootAsVariablesWithTime(a,_){return(_||new o).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsVariablesWithTime(a,_){return a.setPosition(a.position()+r.SIZE_PREFIX_LENGTH),(_||new o).__init(a.readInt32(a.position())+a.position(),a)}time(){const a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt64(this.bb_pos+a):BigInt("0")}timeEnd(){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):BigInt("0")}interval(){const a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):0}variables(a,_){const c=this.bb.__offset(this.bb_pos,10);return c?(_||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}variablesLength(){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0}}return N.VariablesWithTime=o,N}var ft;function Lr(){if(ft)return A;ft=1;var n=A&&A.__createBinding||(Object.create?(function(_,c,l,u){u===void 0&&(u=l);var d=Object.getOwnPropertyDescriptor(c,l);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(_,u,d)}):(function(_,c,l,u){u===void 0&&(u=l),_[u]=c[l]})),e=A&&A.__setModuleDefault||(Object.create?(function(_,c){Object.defineProperty(_,"default",{enumerable:!0,value:c})}):function(_,c){_.default=c}),t=A&&A.__importStar||(function(){var _=function(c){return _=Object.getOwnPropertyNames||function(l){var u=[];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(u[u.length]=d);return u},_(c)};return function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var u=_(c),d=0;d<u.length;d++)u[d]!=="default"&&n(l,c,u[d]);return e(l,c),l}})();Object.defineProperty(A,"__esModule",{value:!0}),A.WeatherApiResponse=void 0;const r=t(ce),s=wr(),o=Ir(),i=Tr();class a{constructor(){this.bb=null,this.bb_pos=0}__init(c,l){return this.bb_pos=c,this.bb=l,this}static getRootAsWeatherApiResponse(c,l){return(l||new a).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsWeatherApiResponse(c,l){return c.setPosition(c.position()+r.SIZE_PREFIX_LENGTH),(l||new a).__init(c.readInt32(c.position())+c.position(),c)}latitude(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readFloat32(this.bb_pos+c):0}longitude(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readFloat32(this.bb_pos+c):0}elevation(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readFloat32(this.bb_pos+c):0}generationTimeMilliseconds(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readFloat32(this.bb_pos+c):0}locationId(){const c=this.bb.__offset(this.bb_pos,12);return c?this.bb.readInt64(this.bb_pos+c):BigInt("0")}model(){const c=this.bb.__offset(this.bb_pos,14);return c?this.bb.readUint8(this.bb_pos+c):s.Model.undefined}utcOffsetSeconds(){const c=this.bb.__offset(this.bb_pos,16);return c?this.bb.readInt32(this.bb_pos+c):0}timezone(c){const l=this.bb.__offset(this.bb_pos,18);return l?this.bb.__string(this.bb_pos+l,c):null}timezoneAbbreviation(c){const l=this.bb.__offset(this.bb_pos,20);return l?this.bb.__string(this.bb_pos+l,c):null}current(c){const l=this.bb.__offset(this.bb_pos,22);return l?(c||new i.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}daily(c){const l=this.bb.__offset(this.bb_pos,24);return l?(c||new i.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}hourly(c){const l=this.bb.__offset(this.bb_pos,26);return l?(c||new i.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}minutely15(c){const l=this.bb.__offset(this.bb_pos,28);return l?(c||new i.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}monthly(c){const l=this.bb.__offset(this.bb_pos,30);return l?(c||new o.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}}return A.WeatherApiResponse=a,A}var ht;function Rr(){if(ht)return J;ht=1;var n=J&&J.__awaiter||function(i,a,_,c){function l(u){return u instanceof _?u:new _(function(d){d(u)})}return new(_||(_=Promise))(function(u,d){function f(m){try{h(c.next(m))}catch(g){d(g)}}function p(m){try{h(c.throw(m))}catch(g){d(g)}}function h(m){m.done?u(m.value):l(m.value).then(f,p)}h((c=c.apply(i,a||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0}),J.fetchWeatherApi=o;const e=ce,t=Lr(),r=i=>new Promise(a=>setTimeout(a,i));function s(i){return n(this,arguments,void 0,function*(a,_=3,c=.5,l=2,u={}){const d=[500,502,504],f=[400,429];let p=0,h=yield fetch(a,u);for(;d.includes(h.status);){if(p++,p>=_)throw new Error(h.statusText);const m=Math.min(c*Math.pow(2,p),l)*1e3;yield r(m),h=yield fetch(a,u)}if(f.includes(h.status)){const m=yield h.json();throw"reason"in m?new Error(m.reason):new Error(h.statusText)}return h})}function o(i,a){return n(this,arguments,void 0,function*(_,c,l=3,u=.2,d=2,f={}){const p=new URLSearchParams(c);p.set("format","flatbuffers");const h=yield s(`${_}?${p.toString()}`,l,u,d,f),m=new e.ByteBuffer(new Uint8Array(yield h.arrayBuffer())),g=[];let w=0;for(;w<m.capacity();){m.setPosition(w);const j=m.readInt32(m.position());g.push(t.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(m)),w+=j+4}return g})}return J}var Cr=Rr();const pt={0:{day:{description:"Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Clear",image:"weather-codes/01n@2x.png"}},1:{day:{description:"Mainly Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Mainly Clear",image:"weather-codes/01n@2x.png"}},2:{day:{description:"Partly Cloudy",image:"weather-codes/02d@2x.png"},night:{description:"Partly Cloudy",image:"weather-codes/02n@2x.png"}},3:{day:{description:"Cloudy",image:"weather-codes/03d@2x.png"},night:{description:"Cloudy",image:"weather-codes/03n@2x.png"}},45:{day:{description:"Foggy",image:"weather-codes/50d@2x.png"},night:{description:"Foggy",image:"weather-codes/50n@2x.png"}},48:{day:{description:"Rime Fog",image:"weather-codes/50d@2x.png"},night:{description:"Rime Fog",image:"weather-codes/50n@2x.png"}},51:{day:{description:"Light Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Drizzle",image:"weather-codes/09n@2x.png"}},53:{day:{description:"Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Drizzle",image:"weather-codes/09n@2x.png"}},55:{day:{description:"Heavy Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Drizzle",image:"weather-codes/09n@2x.png"}},56:{day:{description:"Light Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Freezing Drizzle",image:"weather-codes/09n@2x.png"}},57:{day:{description:"Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Freezing Drizzle",image:"weather-codes/09n@2x.png"}},61:{day:{description:"Light Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Rain",image:"weather-codes/10n@2x.png"}},63:{day:{description:"Rain",image:"weather-codes/10d@2x.png"},night:{description:"Rain",image:"weather-codes/10n@2x.png"}},65:{day:{description:"Heavy Rain",image:"weather-codes/10d@2x.png"},night:{description:"Heavy Rain",image:"weather-codes/10n@2x.png"}},66:{day:{description:"Light Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Freezing Rain",image:"weather-codes/10n@2x.png"}},67:{day:{description:"Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Freezing Rain",image:"weather-codes/10n@2x.png"}},71:{day:{description:"Light Snow",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow",image:"weather-codes/13n@2x.png"}},73:{day:{description:"Snow",image:"weather-codes/13d@2x.png"},night:{description:"Snow",image:"weather-codes/13n@2x.png"}},75:{day:{description:"Heavy Snow",image:"weather-codes/13d@2x.png"},night:{description:"Heavy Snow",image:"weather-codes/13n@2x.png"}},77:{day:{description:"Snow Grains",image:"weather-codes/13d@2x.png"},night:{description:"Snow Grains",image:"weather-codes/13n@2x.png"}},80:{day:{description:"Light Showers",image:"weather-codes/09d@2x.png"},night:{description:"Light Showers",image:"weather-codes/09n@2x.png"}},81:{day:{description:"Showers",image:"weather-codes/09d@2x.png"},night:{description:"Showers",image:"weather-codes/09n@2x.png"}},82:{day:{description:"Heavy Showers",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Showers",image:"weather-codes/09n@2x.png"}},85:{day:{description:"Light Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow Showers",image:"weather-codes/13n@2x.png"}},86:{day:{description:"Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Snow Showers",image:"weather-codes/13n@2x.png"}},95:{day:{description:"Thunderstorm",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm",image:"weather-codes/11n@2x.png"}},96:{day:{description:"Light Thunderstorms With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Light Thunderstorms With Hail",image:"weather-codes/11n@2x.png"}},99:{day:{description:"Thunderstorm With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm With Hail",image:"weather-codes/11n@2x.png"}}},ke="weather-info",Yt="weather-warning";function Ar(){return`
    <a href="#" id="weather-links" target="_blank" class="flex-item">
        <p id="${ke}">
            Loading weather forecast preview ...
        </p>
        <span id="${Yt}"></span>
    </a>
    `}const Sr={latitude:50.2993,longitude:-4.9005,models:"ukmo_seamless",current:["weather_code","temperature_2m","wind_speed_10m","rain","is_day"],timezone:"Europe/London",forecast_days:1,wind_speed_unit:"ms"},$r="https://api.open-meteo.com/v1/forecast";(async()=>{const n=await Cr.fetchWeatherApi($r,Sr).catch(g=>{const w=document.getElementById(ke);w&&(w.innerHTML="<button>Weather forecast</button>"),console.log("Weather forecast preview not loaded: "+g)});if(!n){console.log("No forecast data - aborting.");return}const e=n[0],t=e.latitude(),r=e.longitude(),s=e.elevation(),o=e.timezone(),i=e.timezoneAbbreviation(),a=e.utcOffsetSeconds();console.log(`
Coordinates: ${t}°N ${r}°E`,`
Elevation: ${s}m asl`,`
Timezone: ${o} ${i}`,`
Timezone difference to GMT+0: ${a}s`);const _=e.current(),c={current:{time:new Date((Number(_.time())+a)*1e3),weather_code:_.variables(0).value(),temperature_2m:_.variables(1).value(),wind_speed_10m:_.variables(2).value(),rain:_.variables(3).value(),is_day:_.variables(4).value()}},l=c.current.weather_code;let u="",d="",f="";if(pt&&typeof l=="number"){const g=Object.entries(pt).find(([w])=>Number(w)===l);if(g){const[,w]=g;c.current.is_day===1?(u=w.day.description,d=w.day.image,f="lightblue"):(u=w.night.description,d=w.night.image,f="lightgray")}}console.log(`
Current time: ${c.current.time}`,`
Current weather_code: ${c.current.weather_code}`,`
Current weather description: ${u}`,`
Current temperature_2m: ${c.current.temperature_2m}`,`
Current wind_speed_10m: ${c.current.wind_speed_10m}`,`
Current rain: ${c.current.rain}`,`
Is it day? ${c.current.is_day===1?"Yes":"No"}`);const p=c.current.wind_speed_10m<=.2?"calm":c.current.wind_speed_10m<=1.5?"light air":c.current.wind_speed_10m<=3.3?"light breeze":c.current.wind_speed_10m<=5.4?"gentle breeze":c.current.wind_speed_10m<=7.9?"moderate breeze":c.current.wind_speed_10m<=10.7?"fresh breeze":c.current.wind_speed_10m<=13.8?"strong breeze":c.current.wind_speed_10m<=17.1?"near gale":c.current.wind_speed_10m<=20.7?"gale":c.current.wind_speed_10m<=24.4?"severe gale":c.current.wind_speed_10m<=28.4?"storm":c.current.wind_speed_10m<=32.6?"violent storm":"hurricane",h=c.current.rain===0?"no rain":c.current.rain<2.5?"light rain":c.current.rain<7.6?"moderate rain":c.current.rain<50?"heavy rain":c.current.rain<100?"very heavy rain":"extreme rain",m=document.getElementById(ke);if(m){const g=`${u} ${Math.round(c.current.temperature_2m)}°C<br>
    wind ${Math.round(c.current.wind_speed_10m)} m/s (${p})<br>
    rain ${c.current.rain.toFixed(1)} mm (${h})`;m.innerHTML=`<img src="${d}" alt="${u}" class="logo grey" style="background:${f};border-radius:10px;" /><br>
    ${g}`,y(`${g}`)}})();const Ae=[{text:"UK Met Office",url:"https://weather.metoffice.gov.uk/forecast/gbuqpg6k1#?nearestTo=Grampound%20(Cornwall)"},{text:"YR.no",url:"https://www.yr.no/en/forecast/daily-table/2-2648227/United%20Kingdom/England/Cornwall/Grampound"}];function Nr(n,e){for(var t=0;t<n.length;t++)if(console.log("checking warning:",n[t][0]),n[t][0].toLowerCase().includes(e.toLowerCase()))return!0;return!1}(async()=>{try{const t=await fetch("https://photos.grampound-pc.gov.uk/repack.php?id=weatherWarningRSS").catch(s=>{console.log("Weather warnings data not found: "+s)});if(!t){console.log("No weather warnings data - aborting.");return}const r=await t.json();var n="orange",e="⚠️ Weather Warning";if(r.length>0){const s=document.getElementById(Yt);s&&(Nr(r,"red ")&&(n="red"),r.length===1?(s.innerHTML+=`<span style="color:${n};font-weight:bold;">${e}</span>`,L(e)):(s.innerHTML+=`<span style="color:${n};font-weight:bold;">${r.length} ${e}s</span>`,L(`${r.length} ${e}s`)));const o=r.sort(([,,,i],[,,,a])=>new Date(i).getTime()-new Date(a).getTime()).map(([i,a,,_])=>({text:`(${bn(new Date(_))}) ${i}`,url:a}));D("weather-links","Forecasts",[...Ae,...o])}else D("weather-links","Forecasts",Ae)}catch(t){console.error("Error fetching weather warnings:",t),D("weather-links","Forecasts",Ae)}})();const xr="https://check-for-flooding.service.gov.uk/target-area/114WAFT1W02A00",Bt="flood-info",Ht="flood-warning-button";function Or(){return`
    <a href="${xr}" target="_blank" class="flex-item">
        <button id="${Ht}">Check for flood warnings for Grampound.</button>
        <p id="${Bt}">
            River data loading...
        </p>
    </a>
    `}function mt(n=50,e=8,t=22){return n=Math.round((t-2)*(n/100)),`
    <svg width="${e}px" height = "${t}px" xmlns = "http://www.w3.org/2000/svg" >
        <rect x="0" y="0" width="${e}" height="${t}" fill="#e0e0e0" stroke="#000" stroke-width="1" />
        <rect x="1" y="${t-n-1}" width = "${e-2}" height="${n}" fill="#385E8B" />
    </svg>
    `}(async()=>{try{const n=await fetch("https://photos.grampound.org.uk/repack.php?id=EAfloodgaugeWidget").catch(s=>{console.log("EA flood alert not available: "+s)});if(!n){console.log("No EA Flood alert - aborting");return}const e=await n.text(),t=document.getElementById(Ht);t&&e.trim()!==""&&(t.innerHTML="Check for Gov.uk flood alerts<br><br>"+e);const r=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();r===""?y("EA flood gauge: ","none"):(y("EA flood gauge: ",r),L("Flood warning"))}catch(n){console.error("Error fetching flood gauge widget:",n)}})();(async()=>{const n="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=trenowth",e="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=tregony";let t,r;try{const[d,f]=await Promise.all([fetch(n),fetch(e)]);t=await d.json(),r=await f.json()}catch(d){console.log("Error fetching river level data:",d)}const s=document.getElementById(Bt);var o="River Fal height",i=!1;if(t&&typeof t.riverHeight=="number"&&typeof t.riverHeightHigh=="number"&&typeof t.riverHeightLow=="number"){if(t.riverHeight>=t.riverHeightHigh)o=o+'<br><span style="color:red">Trenowth '+t.riverHeight+" m (HIGH)</span>",L("River Fal level HIGH at Trenowth");else if(t.riverHeight<=t.riverHeightLow)o=o+'<br><span style="color:red">Trenowth '+t.riverHeight+" m (LOW)</span>",L("River Fal level LOW at Trenowth");else{var a=t.riverHeightHigh-t.riverHeightLow;a===0&&(a=1e-4);var _=t.riverHeight-t.riverHeightLow,c=Math.round(100*(_/a));o=o+"<br>Trenowth "+t.riverHeight.toFixed(2)+" m"+mt(c)}i=!0}if(r&&typeof r.riverHeight=="number"&&typeof r.riverHeightHigh=="number"&&typeof r.riverHeightLow=="number"){if(r.riverHeight>=r.riverHeightHigh)o=o+'<br><span style="color:red">Tregony '+r.riverHeight+" m (HIGH)</span>",L("River Fal level HIGH at Tregony");else if(r.riverHeight<=r.riverHeightLow)o=o+'<br><span style="color:red">Tregony '+r.riverHeight+" m (LOW)</span>",L("River Fal level LOW at Tregony");else{var a=r.riverHeightHigh-r.riverHeightLow;a===0&&(a=1e-4);var _=r.riverHeight-r.riverHeightLow,l=Math.round(100*(_/a));o=o+"<br>Tregony "+r.riverHeight.toFixed(2)+" m"+mt(l)}i=!0}const u=o.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();i?s?(s.innerHTML=o,y(u)):console.log(o):(s&&(s.innerHTML="River level data not available",y("invalid river level data")),console.log("Invalid river level data"))})();async function kr(){const n=await fetch("https://photos.grampound.org.uk/repack.php?id=grampoundwaterDOM").catch(t=>{console.log("No response from sewage traffic light URL: "+t)});return n?await n.text():(console.log("No sewage traffic light - aborting"),"")}let Se="";function Dr(){return""}document.addEventListener("DOMContentLoaded",()=>{kr().then(n=>{Se=n;const e=document.querySelector("#water-quality-traffic-light");e&&(e.innerHTML=Se+'<div style="margin-left: 10px;">Get more detail on Floodmapper<br>or SWW ↗</div>',Pr(Se)&&L("⚠️ Sewage alert in River Fal"))})});function Pr(n){const e=/<div[^>]*style="[^"]*background-color:red[^"]*opacity:(\d*\.?\d*)[^"]*"/,t=n.match(e);return t&&t[1]!==void 0?parseFloat(t[1])===1:!1}const Yr=""+new URL("../Water-quality-sewage.png",import.meta.url).href;function Br(){return`
    <a href="#" id="sewage-links" target="_blank" class="flex-item">
        <div id="water-quality-traffic-light">
            ${Dr()}
            <img src="${Yr}" class="logo" alt="Sewage discharges logo" />
        </div>
        <p>Water quality for the River Fal.</p>
    </a>
    `}D("sewage-links","Sewage map",[{text:"Floodmapper",url:"https://www.floodmapper.co.uk/data-explorer/search-sewage-report/1bfb1dc2-aaf8-11ee-baa2-0242ac140003/Grampound"},{text:"SWW overflow map",url:"https://www.southwestwater.co.uk/environment/rivers-and-bathing-waters/waterfitlive/storm-overflow-map"}]);const Ft="search-container",Hr="search-box",jt="search-button";function Fr(){return`
    <li class="flex-item">
        <div id="${Ft}"></div>
        <p>Search for an address or place in Grampound with Creed.</p>
    </li>
    `}let Q=document.createElement("input");Q.type="text";Q.id=`${Hr}`;Q.placeholder="Find an address or place...";let M=document.createElement("button");M.textContent="Search";M.id=`${jt}`;M.classList.add("widgetlink");M.onclick=()=>{const e=`https://www.openstreetmap.org/search?query=${encodeURIComponent(`${Q.value} "Grampound with Creed"`)}&zoom=19&minlon=-4.903727173805238&minlat=50.298594007719345&maxlon=-4.900551438331605&maxlat=50.29984131703836#map=17/50.298894/-4.900718`;window.open(e,"_blank")};Q.addEventListener("keydown",n=>{n.key==="Enter"&&typeof M.onclick=="function"&&M.click()});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("#app");if(n){const e=document.createElement("div");e.style.marginBottom="1em",e.appendChild(Q),e.appendChild(M),n.prepend(e)}});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(`#${Ft}`);n&&(n.appendChild(Q),n.appendChild(M),n.style.marginBottom="1em")});document.addEventListener("click",n=>{if(n.target.id===jt){var t=document.getElementById("search-box");y(t?"Search button clicked: "+t.value.trim():"Search button clicked.")}});const jr=""+new URL("../traffic.svg",import.meta.url).href,De="traffic-incidents",Wr="https://photos.grampound-pc.gov.uk/repack.php?id=trafficCheck";function Gr(){return`
    <a href="#" id="traffic-links" target="_blank" class="flex-item">
            <img src="${jr}" class="logo" alt="Sewage discharges logo" />
        <p>Traffic updates for Cornwall</p>
        <div id="${De}"></div>
    </a>
    `}async function Ur(){try{const n=await fetch(Wr).catch(t=>{console.log("No response from police traffic URL: "+t)});if(!n)return console.log("No traffic alert data - aborting"),"";const e=await n.text();if(console.log("fetched police traffic updates"),e===""||e.includes("error")){y("Error fetching police traffic updates");return}if(e==="0"){console.log("No police traffic updates found");const t=document.getElementById(De);t&&(t.innerHTML='<span style="color:green;font-weight:bold;">No traffic incidents</span>')}if(e==="1"){const t=document.getElementById(De);t&&(t.innerHTML='<span style="color:orange;font-weight:bold;">⚠️ Traffic incidents</span>'),L("⚠️ Police traffic incidents found")}}catch(n){console.error("Error fetching police traffic updates:",n)}}window.onload=()=>{Ur()};D("traffic-links","Traffic updates",[{text:"Police incidents",url:"https://news.devon-cornwall.police.uk/traffic-watch/"},{text:"Planned roadworks & events",url:"https://api-gb.one.network/embedded/?lon=-4.90025&lat=50.29854&zoom=13&options={%22organisationID%22%3A1025%2C%22embedded%22%3Atrue%2C%22data%22%3A{%22layersActive%22%3A[%22INCIDENTS_LIVE_INCIDENT%22%2C%22INCIDENTS_LIVE_ACCIDENT%22%2C%22INCIDENTS_LIVE_TRAFFIC_CONGESTION%22%2C%22INCIDENTS_LIVE_HEALTH_EMERGENCY%22%2C%22INCIDENTS_LIVE_ROADCLOSURE%22%2C%22INCIDENTS_LIVE_LANECLOSURE%22%2C%22INCIDENTS_LIVE_HGVCLOSURE%22%2C%22INCIDENTS_LIVE_INFRASTRUCTURE_ISSUE%22%2C%22TM_LAYER_ROADCLOSURE_LIVE%22%2C%22TM_LAYER_DIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_HGVDIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_TEMPORARYONEWAY_LIVE%22%2C%22TM_LAYER_BRIDGECLOSURE_LIVE%22%2C%22TM_LAYER_LANECLOSURE_LIVE%22%2C%22TM_LAYER_ROADAHEADCLOSED_LIVE%22%2C%22TM_LAYER_ACCESS_ONLY_LIVE%22%2C%22TM_LAYER_GRITTING_LIVE%22%2C%22TM_LAYER_WIDENED_FOOTPATH_LIVE%22%2C%22TM_LAYER_FOOTWAYCLOSURE_LIVE%22%2C%22TM_LAYER_TOWAWAYZONE_LIVE%22%2C%22TM_LAYER_CLEARWAY_LIVE%22%2C%22TM_LAYER_NOUTURN_LIVE%22%2C%22TM_LAYER_NOLEFTTURN_LIVE%22%2C%22TM_LAYER_NORIGHTTURN_LIVE%22%2C%22TM_LAYER_NOVEHICLEACCESS_LIVE%22%2C%22TM_LAYER_REVERSALONEWAY_LIVE%22%2C%22TM_LAYER_TEMPORARYSPEEDLIMIT_LIVE%22%2C%22TM_LAYER_HEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WIDTHRESTRICTION_LIVE%22%2C%22TM_LAYER_LENGTHRESTRICTION_LIVE%22%2C%22TM_LAYER_TEMPPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSION_BUSWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONONEWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSIONWEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_PREFERRED_ACCESS_LIVE%22%2C%22TM_LAYER_EMERGENCY_ACCESS_ROUTE_LIVE%22%2C%22TM_LAYER_PEDESTRIAN_ZONE_LIVE%22%2C%22TM_LAYER_CLOSURE_CROSSING_LIVE%22%2C%22TM_LAYER_CYCLE_LANE_LIVE%22%2C%22TM_LAYER_TWOWAYSIGNALS_LIVE%22%2C%22TM_LAYER_MULTIWAYSIGNALS_LIVE%22%2C%22TM_LAYER_STOPANDGO_LIVE%22%2C%22TM_LAYER_GIVEANDTAKE_LIVE%22%2C%22TM_LAYER_PRIORITYSIGNS_LIVE%22%2C%22TM_LAYER_CONVOYWORKING_LIVE%22%2C%22TM_LAYER_WORKSSTOP_LIVE%22%2C%22ROADWORKS_CURRENT%22%2C%22TM_LAYER_ENTITY_AGRICULTURAL_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_AIR_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_CARNIVAL_PARADE_STREET_LIVE%22%2C%22TM_LAYER_ENTITY_CHRISTMAS_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_CRUISE_SHIP_LIVE%22%2C%22TM_LAYER_ENTITY_CYCLING_LIVE%22%2C%22TM_LAYER_ENTITY_ENTERTAINMENT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_FESTIVAL_LIVE%22%2C%22TM_LAYER_ENTITY_FILMING_LIVE%22%2C%22TM_LAYER_ENTITY_FOOTBALL_LIVE%22%2C%22TM_LAYER_ENTITY_FUNERAL_LIVE%22%2C%22TM_LAYER_ENTITY_HORSE_RACING_LIVE%22%2C%22TM_LAYER_ENTITY_MARKET_LIVE%22%2C%22TM_LAYER_ENTITY_MOTOR_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_POLLING_STATION_LIVE%22%2C%22TM_LAYER_ENTITY_REMEMBRANCE_PARADE_LIVE%22%2C%22TM_LAYER_ENTITY_ROYAL_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_RUGBY_LIVE%22%2C%22TM_LAYER_ENTITY_RUNNING_LIVE%22%2C%22TM_LAYER_ENTITY_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_OTHER_PUBLIC_EVENTS_LIVE%22]}%2C%22embedID%22%3A%22B9I9JDD9J9%22%2C%22system%22%3A{%22delayedLoad%22%3Afalse%2C%22historicWorksEnabled%22%3Afalse%2C%22tileServer%22%3A%22%24{region}-prd-%24{source}%24{randomizer}.one.network%22}%2C%22dateRange%22%3A%22today%22}"},{text:"Google traffic",url:"https://www.google.com/maps/@50.3053698,-4.9023496,12z/data=!5m1!1e1?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"}]);var qr=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Wt=function(n,e,t,r){function s(o){return o instanceof t?o:new t((function(i){i(o)}))}return new(t||(t=Promise))((function(o,i){function a(l){try{c(r.next(l))}catch(u){i(u)}}function _(l){try{c(r.throw(l))}catch(u){i(u)}}function c(l){l.done?o(l.value):s(l.value).then(a,_)}c((r=r.apply(n,e||[])).next())}))},Gt=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(l){return _([c,l])}}function _(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(r=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(l){c=[6,l],s=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},gt=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Mr="ionicpwaelements",pe,Ut,T=!1,Pe=!1,F=function(n,e){return function(){}},zr=function(n,e){return function(){}},Kr="{visibility:hidden}.hydrated{visibility:inherit}",wt={},Qr="http://www.w3.org/2000/svg",Jr="http://www.w3.org/1999/xhtml",Xr=function(n){return n!=null},Ge=function(n){return n=typeof n,n==="object"||n==="function"};function qt(n){var e,t,r;return(r=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&r!==void 0?r:void 0}var Zr=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var s=null,o=!1,i=!1,a=[],_=function(u){for(var d=0;d<u.length;d++)s=u[d],Array.isArray(s)?_(s):s!=null&&typeof s!="boolean"&&((o=typeof n!="function"&&!Ge(s))&&(s=String(s)),o&&i?a[a.length-1].$text$+=s:a.push(o?Ye(null,s):s),i=o)};if(_(t),e){var c=e.className||e.class;c&&(e.class=typeof c!="object"?c:Object.keys(c).filter((function(u){return c[u]})).join(" "))}var l=Ye(n,null);return l.$attrs$=e,a.length>0&&(l.$children$=a),l},Ye=function(n,e){var t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t},Vr={},es=function(n){return n&&n.$tag$===Vr},ts=function(n,e){return n!=null&&!Ge(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n},ns=function(n){return K(n).$hostElement$},ks=function(n,e,t){var r=ns(n);return{emit:function(s){return Mt(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:s})}}},Mt=function(n,e,t){var r=v.ce(e,t);return n.dispatchEvent(r),r},vt=new WeakMap,rs=function(n,e,t){var r=Ee.get(n);Rs&&t?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Ee.set(n,r)},ss=function(n,e,t,r){var s,o=zt(e),i=Ee.get(o);if(n=n.nodeType===11?n:k,i)if(typeof i=="string"){n=n.head||n;var a=vt.get(n),_=void 0;if(a||vt.set(n,a=new Set),!a.has(o)){{_=k.createElement("style"),_.innerHTML=i;var c=(s=v.$nonce$)!==null&&s!==void 0?s:qt(k);c!=null&&_.setAttribute("nonce",c),n.insertBefore(_,n.querySelector("link"))}a&&a.add(o)}}else n.adoptedStyleSheets.includes(i)||(n.adoptedStyleSheets=gt(gt([],n.adoptedStyleSheets,!0),[i],!1));return o},os=function(n){var e=n.$cmpMeta$,t=n.$hostElement$,r=e.$flags$,s=F("attachStyles",e.$tagName$),o=ss(t.shadowRoot?t.shadowRoot:t.getRootNode(),e);r&10&&(t["s-sc"]=o,t.classList.add(o+"-h")),s()},zt=function(n,e){return"sc-"+n.$tagName$},Et=function(n,e,t,r,s,o){if(t!==r){var i=bt(n,e),a=e.toLowerCase();if(e==="class"){var _=n.classList,c=yt(t),l=yt(r);_.remove.apply(_,c.filter((function(p){return p&&!l.includes(p)}))),_.add.apply(_,l.filter((function(p){return p&&!c.includes(p)})))}else if(e==="style"){for(var u in t)(!r||r[u]==null)&&(u.includes("-")?n.style.removeProperty(u):n.style[u]="");for(var u in r)(!t||r[u]!==t[u])&&(u.includes("-")?n.style.setProperty(u,r[u]):n.style[u]=r[u])}else if(e==="ref")r&&r(n);else if(!i&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):bt(be,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&v.rel(n,e,t,!1),r&&v.ael(n,e,r,!1);else{var d=Ge(r);if((i||d&&r!==null)&&!s)try{if(n.tagName.includes("-"))n[e]=r;else{var f=r??"";e==="list"?i=!1:(t==null||n[e]!=f)&&(n[e]=f)}}catch{}r==null||r===!1?(r!==!1||n.getAttribute(e)==="")&&n.removeAttribute(e):(!i||o&4||s)&&!d&&(r=r===!0?"":r,n.setAttribute(e,r))}}},is=/\s/,yt=function(n){return n?n.split(is):[]},Kt=function(n,e,t,r){var s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=n&&n.$attrs$||wt,i=e.$attrs$||wt;for(r in o)r in i||Et(s,r,o[r],void 0,t,e.$flags$);for(r in i)Et(s,r,o[r],i[r],t,e.$flags$)},Ue=function(n,e,t,r){var s=e.$children$[t],o=0,i,a;if(s.$text$!==null)i=s.$elm$=k.createTextNode(s.$text$);else{if(T||(T=s.$tag$==="svg"),i=s.$elm$=k.createElementNS(T?Qr:Jr,s.$tag$),T&&s.$tag$==="foreignObject"&&(T=!1),Kt(null,s,T),Xr(pe)&&i["s-si"]!==pe&&i.classList.add(i["s-si"]=pe),s.$children$)for(o=0;o<s.$children$.length;++o)a=Ue(n,s,o),a&&i.appendChild(a);s.$tag$==="svg"?T=!1:i.tagName==="foreignObject"&&(T=!0)}return i},Qt=function(n,e,t,r,s,o){var i=n,a;for(i.shadowRoot&&i.tagName===Ut&&(i=i.shadowRoot);s<=o;++s)r[s]&&(a=Ue(null,t,s),a&&(r[s].$elm$=a,i.insertBefore(a,e)))},Jt=function(n,e,t){for(var r=e;r<=t;++r){var s=n[r];if(s){var o=s.$elm$;Xt(s),o&&o.remove()}}},as=function(n,e,t,r){for(var s=0,o=0,i=e.length-1,a=e[0],_=e[i],c=r.length-1,l=r[0],u=r[c],d;s<=i&&o<=c;)a==null?a=e[++s]:_==null?_=e[--i]:l==null?l=r[++o]:u==null?u=r[--c]:de(a,l)?(se(a,l),a=e[++s],l=r[++o]):de(_,u)?(se(_,u),_=e[--i],u=r[--c]):de(a,u)?(se(a,u),n.insertBefore(a.$elm$,_.$elm$.nextSibling),a=e[++s],u=r[--c]):de(_,l)?(se(_,l),n.insertBefore(_.$elm$,a.$elm$),_=e[--i],l=r[++o]):(d=Ue(e&&e[o],t,o),l=r[++o],d&&a.$elm$.parentNode.insertBefore(d,a.$elm$));s>i?Qt(n,r[c+1]==null?null:r[c+1].$elm$,t,r,o,c):o>c&&Jt(e,s,i)},de=function(n,e){return n.$tag$===e.$tag$},se=function(n,e){var t=e.$elm$=n.$elm$,r=n.$children$,s=e.$children$,o=e.$tag$,i=e.$text$;i===null?(T=o==="svg"?!0:o==="foreignObject"?!1:T,Kt(n,e,T),r!==null&&s!==null?as(t,r,e,s):s!==null?(n.$text$!==null&&(t.textContent=""),Qt(t,null,e,s,0,s.length-1)):r!==null&&Jt(r,0,r.length-1),T&&o==="svg"&&(T=!1)):n.$text$!==i&&(t.data=i)},Xt=function(n){n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(Xt)},cs=function(n,e){var t=n.$hostElement$,r=n.$vnode$||Ye(null,null),s=es(e)?e:Zr(null,null,e);Ut=t.tagName,s.$tag$=null,s.$flags$|=4,n.$vnode$=s,s.$elm$=r.$elm$=t.shadowRoot||t,pe=t["s-sc"],se(r,s)},Zt=function(n,e){e&&!n.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(t){return n.$onRenderResolve$=t})))},ye=function(n,e){if(n.$flags$|=16,n.$flags$&4){n.$flags$|=512;return}Zt(n,n.$ancestorComponent$);var t=function(){return ls(n,e)};return As(t)},ls=function(n,e){var t=F("scheduleUpdate",n.$cmpMeta$.$tagName$),r=n.$lazyInstance$,s;return e&&(n.$flags$|=256,n.$queuedListeners$&&(n.$queuedListeners$.map((function(o){var i=o[0],a=o[1];return qe(r,i,a)})),n.$queuedListeners$=void 0)),t(),_s(s,(function(){return ds(n,r,e)}))},_s=function(n,e){return us(n)?n.then(e):e()},us=function(n){return n instanceof Promise||n&&n.then&&typeof n.then=="function"},ds=function(n,e,t){return Wt(void 0,void 0,void 0,(function(){var r,s,o,i,a,_,c;return Gt(this,(function(l){return s=n.$hostElement$,o=F("update",n.$cmpMeta$.$tagName$),i=s["s-rc"],t&&os(n),a=F("render",n.$cmpMeta$.$tagName$),fs(n,e),i&&(i.map((function(u){return u()})),s["s-rc"]=void 0),a(),o(),_=(r=s["s-p"])!==null&&r!==void 0?r:[],c=function(){return hs(n)},_.length===0?c():(Promise.all(_).then(c),n.$flags$|=4,_.length=0),[2]}))}))},fs=function(n,e,t){try{e=e.render(),n.$flags$&=-17,n.$flags$|=2,cs(n,e)}catch(r){x(r,n.$hostElement$)}return null},hs=function(n){n.$cmpMeta$.$tagName$;var e=n.$hostElement$,t=F(),r=n.$lazyInstance$,s=n.$ancestorComponent$;n.$flags$&64?t():(n.$flags$|=64,en(e),qe(r,"componentDidLoad"),t(),n.$onReadyResolve$(e),s||Vt()),n.$onInstanceResolve$(e),n.$onRenderResolve$&&(n.$onRenderResolve$(),n.$onRenderResolve$=void 0),n.$flags$&512&&ze((function(){return ye(n,!1)})),n.$flags$&=-517},Ds=function(n){{var e=K(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&ye(e,!1),t}},Vt=function(n){en(k.documentElement),ze((function(){return Mt(be,"appload",{detail:{namespace:Mr}})}))},qe=function(n,e,t){if(n&&n[e])try{return n[e](t)}catch(r){x(r)}},en=function(n){return n.classList.add("hydrated")},ps=function(n,e){return K(n).$instanceValues$.get(e)},ms=function(n,e,t,r){var s=K(n),o=s.$instanceValues$.get(e),i=s.$flags$,a=s.$lazyInstance$;t=ts(t,r.$members$[e][0]);var _=Number.isNaN(o)&&Number.isNaN(t),c=t!==o&&!_;(!(i&8)||o===void 0)&&c&&(s.$instanceValues$.set(e,t),a&&(i&18)===2&&ye(s,!1))},tn=function(n,e,t){if(e.$members$){var r=Object.entries(e.$members$),s=n.prototype;if(r.map((function(i){var a=i[0],_=i[1][0];_&31||t&2&&_&32?Object.defineProperty(s,a,{get:function(){return ps(this,a)},set:function(c){ms(this,a,c,e)},configurable:!0,enumerable:!0}):t&1&&_&64&&Object.defineProperty(s,a,{value:function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=K(this);return u.$onInstancePromise$.then((function(){var d;return(d=u.$lazyInstance$)[a].apply(d,c)}))}})})),t&1){var o=new Map;s.attributeChangedCallback=function(i,a,_){var c=this;v.jmp((function(){var l=o.get(i);if(c.hasOwnProperty(l))_=c[l],delete c[l];else if(s.hasOwnProperty(l)&&typeof c[l]=="number"&&c[l]==_)return;c[l]=_===null&&typeof c[l]=="boolean"?!1:_}))},n.observedAttributes=r.filter((function(i){i[0];var a=i[1];return a[0]&15})).map((function(i){var a=i[0],_=i[1],c=_[1]||a;return o.set(c,a),c}))}}return n},gs=function(n,e,t,r,s){return Wt(void 0,void 0,void 0,(function(){var o,i,a,_,c,l,u;return Gt(this,(function(d){switch(d.label){case 0:return(e.$flags$&32)!==0?[3,3]:(e.$flags$|=32,s=Ls(t),s.then?(o=zr(),[4,s]):[3,2]);case 1:s=d.sent(),o(),d.label=2;case 2:s.isProxied||(tn(s,t,2),s.isProxied=!0),i=F("createInstance",t.$tagName$),e.$flags$|=8;try{new s(e)}catch(f){x(f)}e.$flags$&=-9,i(),s.style&&(a=s.style,_=zt(t),Ee.has(_)||(c=F("registerStyles",t.$tagName$),rs(_,a,!!(t.$flags$&1)),c())),d.label=3;case 3:return l=e.$ancestorComponent$,u=function(){return ye(e,!0)},l&&l["s-rc"]?l["s-rc"].push(u):u(),[2]}}))}))},ws=function(n){if((v.$flags$&1)===0){var e=K(n),t=e.$cmpMeta$,r=F("connectedCallback",t.$tagName$);if(e.$flags$&1)nn(n,e,t.$listeners$);else{e.$flags$|=1;for(var s=n;s=s.parentNode||s.host;)if(s["s-p"]){Zt(e,e.$ancestorComponent$=s);break}t.$members$&&Object.entries(t.$members$).map((function(o){var i=o[0],a=o[1][0];if(a&31&&n.hasOwnProperty(i)){var _=n[i];delete n[i],n[i]=_}})),gs(n,e,t)}r()}},vs=function(n){if((v.$flags$&1)===0){var e=K(n),t=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map((function(r){return r()})),e.$rmListeners$=void 0),qe(t,"disconnectedCallback")}},Es=function(n,e){e===void 0&&(e={});var t,r=F(),s=[],o=e.exclude||[],i=be.customElements,a=k.head,_=a.querySelector("meta[charset]"),c=k.createElement("style"),l=[],u,d=!0;Object.assign(v,e),v.$resourcesUrl$=new URL(e.resourcesUrl||"./",k.baseURI).href,n.map((function(p){p[1].map((function(h){var m={$flags$:h[0],$tagName$:h[1],$members$:h[2],$listeners$:h[3]};m.$members$=h[2],m.$listeners$=h[3];var g=m.$tagName$,w=(function(j){qr(W,j);function W(R){var le=j.call(this,R)||this;return R=le,Ts(R,m),m.$flags$&1&&R.attachShadow({mode:"open"}),le}return W.prototype.connectedCallback=function(){var R=this;u&&(clearTimeout(u),u=null),d?l.push(this):v.jmp((function(){return ws(R)}))},W.prototype.disconnectedCallback=function(){var R=this;v.jmp((function(){return vs(R)}))},W.prototype.componentOnReady=function(){return K(this).$onReadyPromise$},W})(HTMLElement);m.$lazyBundleId$=p[0],!o.includes(g)&&!i.get(g)&&(s.push(g),i.define(g,tn(w,m,1)))}))}));{c.innerHTML=s+Kr,c.setAttribute("data-styles","");var f=(t=v.$nonce$)!==null&&t!==void 0?t:qt(k);f!=null&&c.setAttribute("nonce",f),a.insertBefore(c,_?_.nextSibling:a.firstChild)}d=!1,l.length?l.map((function(p){return p.connectedCallback()})):v.jmp((function(){return u=setTimeout(Vt,30)})),r()},nn=function(n,e,t,r){t&&t.map((function(s){var o=s[0],i=s[1],a=s[2],_=bs(n,o),c=ys(e,a),l=Is(o);v.ael(_,i,c,l),(e.$rmListeners$=e.$rmListeners$||[]).push((function(){return v.rel(_,i,c,l)}))}))},ys=function(n,e){return function(t){try{n.$flags$&256?n.$lazyInstance$[e](t):(n.$queuedListeners$=n.$queuedListeners$||[]).push([e,t])}catch(r){x(r)}}},bs=function(n,e){return e&16?k.body:n},Is=function(n){return(n&2)!==0},Me=new WeakMap,K=function(n){return Me.get(n)},Ps=function(n,e){return Me.set(e.$lazyInstance$=n,e)},Ts=function(n,e){var t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return t.$onInstancePromise$=new Promise((function(r){return t.$onInstanceResolve$=r})),t.$onReadyPromise$=new Promise((function(r){return t.$onReadyResolve$=r})),n["s-p"]=[],n["s-rc"]=[],nn(n,t,e.$listeners$),Me.set(n,t)},bt=function(n,e){return e in n},x=function(n,e){return(0,console.error)(n,e)},$e=new Map,Ls=function(n,e,t){var r=n.$tagName$.replace(/-/g,"_"),s=n.$lazyBundleId$,o=$e.get(s);if(o)return o[r];{var i=function(a){return $e.set(s,a),a[r]};switch(s){case"pwa-action-sheet":return Y(()=>import("./pwa-action-sheet.entry-DXCfzGXa.js"),[],import.meta.url).then(i,x);case"pwa-camera-modal":return Y(()=>import("./pwa-camera-modal.entry-zO0pAmaY.js"),[],import.meta.url).then(i,x);case"pwa-toast":return Y(()=>import("./pwa-toast.entry-TDMPVnXq.js"),[],import.meta.url).then(i,x);case"pwa-camera-modal-instance":return Y(()=>import("./pwa-camera-modal-instance.entry-BSCjGX-f.js"),[],import.meta.url).then(i,x);case"pwa-camera":return Y(()=>import("./pwa-camera.entry-CDKyiRO1.js"),[],import.meta.url).then(i,x)}}return Y(()=>import("./".concat(s,".entry.js").concat("")),[],import.meta.url).then((function(a){return $e.set(s,a),a[r]}),x)},Ee=new Map,be=typeof window<"u"?window:{},k=be.document||{head:{}},v={$flags$:0,$resourcesUrl$:"",jmp:function(n){return n()},raf:function(n){return requestAnimationFrame(n)},ael:function(n,e,t,r){return n.addEventListener(e,t,r)},rel:function(n,e,t,r){return n.removeEventListener(e,t,r)},ce:function(n,e){return new CustomEvent(n,e)}},rn=function(n){return Promise.resolve(n)},Rs=(function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),It=[],sn=[],Cs=function(n,e){return function(t){n.push(t),Pe||(Pe=!0,v.$flags$&4?ze(Be):v.raf(Be))}},Tt=function(n){for(var e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){x(t)}n.length=0},Be=function(){Tt(It),Tt(sn),(Pe=It.length>0)&&v.raf(Be)},ze=function(n){return rn().then(n)},As=Cs(sn),Ss=function(){return rn()},$s=function(n,e){return typeof window>"u"?Promise.resolve():Ss().then((function(){return Es([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],e)}))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var n=HTMLElement;window.HTMLElement=function(){return Reflect.construct(n,[],this.constructor)},HTMLElement.prototype=n.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,n)}})();const Ns=""+new URL("../GetItOnGooglePlay_Badge_Web_color_English.svg",import.meta.url).href;function xs(){return oe.isNativePlatform()?"":`
    <div id="app-links" class="flex-item">
    <p>Get the App</p>
        <p>
            <a href="https://play.google.com/store/apps/details?id=me.deanjenkins.grampoundDigitalTwin" target="_blank"><img src="${Ns}"></a>
        </p>
    </div>
    `}console.log("GDT Version:",$t.version);const Os=new Date().toLocaleString("en-GB",{timeZone:"Europe/London",hour12:!1});Yn("https://photos.grampound-pc.gov.uk/repack.php?id=config",1,JSON.stringify(jn)).then(n=>{console.log(Object.keys(n.data).length+" config objects returned")});document.querySelector("#app").innerHTML=`
  <div id="main">
    <a class="reload" href="./"><h1>Grampound</h1>
    <p class="subtitle">
    digital twin project
    </p></a>
    ${Rn()}

<h2>Maps and travel</h2>
  <ul class="flex-container">
    <a href="https://www.openstreetmap.org/#map=19/50.298719/-4.903400" target="_blank" class="flex-item">
      <img src="${Wn}" class="logo vanilla" alt="OpenStreetMap logo" />
      <p>Map of Grampound with Creed.</p>
    </a>

    ${Fr()}

    ${tr()}

    ${ir()}

    ${Gr()}
  </ul>


    <h2>What's on</h2>
    <ul class="flex-container">

      <a href="https://grampoundvillagehall.org.uk/calendar.php" target="_blank" class="flex-item">
  <img src="${Gn}" class="logo" alt="Grampound calendar logo" />
      <p>Calendar of events.</p>
      </a>

    </ul>

<h2>Photos and more</h2>
    <ul class="flex-container">

      ${cr()}

      <a href="https://www.geograph.org.uk/near/SW93484841" target="_blank" class="flex-item">
  <img src="${qn}" class="logo vanilla" alt="Geograph logo" />
      <p>Geograph photographs of Grampound.</p>
      </a>

      <a href="https://stcrida.co.uk/cs.php" target="_blank" class="flex-item">
  <img src="${Un}" class="logo green" alt="Creed Churchyard logo" />
      <p>Creed Churchyard search.</p>
      </a>

      </ul>

<h2>Environment</h2>
<p class="left">Updated ${Os}</p>
    <ul class="flex-container">

      ${Ar()}

      ${hr()}

      ${Br()}

      ${Or()}

    </ul>
  
<h2>More info</h2>
    <ul class="flex-container">

      ${lr()}

      ${pr()}

      <a href="https://github.com/rdjenkins/gdt" target="_blank" class="flex-item">
  <img src="${Mn}" class="logo" alt="GitHub Logo" />
      <p>Find this project on GitHub.</p>
      </a>
      
      ${xs()}
    </ul>

    <div class="acknowledge">
      <a href="#licenses-content" id="licenses">Important information <span class="licenses-more-icon">▼</span></a>
      <div id="licenses-content" class="hidden">
        <p><b>Acknowledgements</b></p>
        <table class="responsive-table">
          <tr>
            <td>Flood alert and river level data</td>
            <td><a href="https://environment.data.gov.uk/flood-monitoring/doc/reference" target="_blank">Environment Agency Real Time flood-monitoring API</a></td>
          </tr>
          <tr>
            <td>Weather alert</td>
            <td><a href="https://weather.metoffice.gov.uk/guides/rss" target="_blank">Met Office</a></td>
          </tr>
          <tr>
            <td>Weather summary</td>
            <td><a href="https://open-meteo.com/en/docs" target="_blank">Open-Meteo</a></td>
          </tr>
          <tr>
            <td>Sewage data</td>
            <td><a href="https://www.floodmapper.co.uk/" target="_blank">Floodmapper</a></td>
          </tr>
          <tr>
            <td>Air quality</td>
            <td><a href="https://www2.purpleair.com/" target="_blank">PurpleAir sensor network</a></td>
          </tr>
          <tr>
            <td>Open StreetMap data</td>
            <td><a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a></td>
          </tr>
         <tr>
            <td>Development</td>
            <td><a href="https://deanjenkins.me/#gdtapp" target="_blank">Developer's website</a></td>
          </tr>
        </table>

        <div id="disclaimer">
          <p><b>Disclaimer</b></p>
          <p>Grampound Digital Twin does not represent any
            government agency and is not intended to replace official information.
          </p>

          <p>It provides information from, and links to, publicly available UK government data including:
            <a href="https://environment.data.gov.uk/flood-monitoring/doc/reference">Environment Agency
            Real Time flood-monitoring API</a> for flood alert and river level data,
            UK <a href="https://weather.metoffice.gov.uk/guides/rss">Met Office</a> for weather
            alerts for the South West,
            and planned roadworks from <a href="https://www.cornwall.gov.uk/transport-parking-and-streets/roads-highways-and-pavements/roadworks/">Cornwall
            Council</a>.
          </p>
        </div>

      </div>


    </div>

    <p class="version">Version: ${$t.version}</p>

  </div>
`;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("licenses")?.addEventListener("click",n=>{n.preventDefault();const e=document.getElementById("licenses-content");e?.classList.toggle("hidden");const t=document.querySelector(".licenses-more-icon");e&&t&&(e.classList.contains("hidden")?t.textContent="▼":t.textContent="▲")})});window.addEventListener("load",()=>{$s()});export{we as E,Vr as H,He as W,pn as b,ks as c,Ds as f,ns as g,Zr as h,Ps as r};
