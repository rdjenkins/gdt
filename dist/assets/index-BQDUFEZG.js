(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const Qt=""+new URL("../OpenStreetMap-logo-with-text.svg",import.meta.url).href,Xt=""+new URL("../calendar.svg",import.meta.url).href,Jt=""+new URL("../creed-churchyard.png",import.meta.url).href,Zt=""+new URL("../geograph-logo.svg",import.meta.url).href,Vt=""+new URL("../github-mark.svg",import.meta.url).href,en="0.8.9",gt={version:en},tn=""+new URL("../ISO_7001_PI_TF_006.svg",import.meta.url).href,nn="modulepreload",rn=function(n,e){return new URL(n,e).href},Ye={},H=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");s=o(t.map(c=>{if(c=rn(c,r),c in Ye)return;Ye[c]=!0;const d=c.endsWith(".css"),_=d?'[rel="stylesheet"]':"";if(r)for(let p=l.length-1;p>=0;p--){const f=l[p];if(f.href===c&&(!d||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${_}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":nn,d||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return s.then(l=>{for(const i of l||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})};var X;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(X||(X={}));class ye extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const sn=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},on=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},s=()=>e!==null?e.name:sn(n),a=()=>s()!=="web",l=d=>{const _=o.get(d);return!!(_?.platforms.has(s())||i(d))},i=d=>{var _;return(_=t.PluginHeaders)===null||_===void 0?void 0:_.find(h=>h.name===d)},u=d=>n.console.error(d),o=new Map,c=(d,_={})=>{const h=o.get(d);if(h)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),h.proxy;const p=s(),f=i(d);let m;const g=async()=>(!m&&p in _?m=typeof _[p]=="function"?m=await _[p]():m=_[p]:e!==null&&!m&&"web"in _&&(m=typeof _.web=="function"?m=await _.web():m=_.web),m),v=(y,E)=>{var P,Y;if(f){const q=f?.methods.find($=>E===$.name);if(q)return q.rtype==="promise"?$=>t.nativePromise(d,E.toString(),$):($,ae)=>t.nativeCallback(d,E.toString(),$,ae);if(y)return(P=y[E])===null||P===void 0?void 0:P.bind(y)}else{if(y)return(Y=y[E])===null||Y===void 0?void 0:Y.bind(y);throw new ye(`"${d}" plugin is not implemented on ${p}`,X.Unimplemented)}},F=y=>{let E;const P=(...Y)=>{const q=g().then($=>{const ae=v($,y);if(ae){const ce=ae(...Y);return E=ce?.remove,ce}else throw new ye(`"${d}.${y}()" is not implemented on ${p}`,X.Unimplemented)});return y==="addListener"&&(q.remove=async()=>E()),q};return P.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:y,writable:!1,configurable:!1}),P},W=F("addListener"),L=F("removeListener"),oe=(y,E)=>{const P=W({eventName:y},E),Y=async()=>{const $=await P;L({eventName:y,callbackId:$},E)},q=new Promise($=>P.then(()=>$({remove:Y})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Y()},q},ve=new Proxy({},{get(y,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return f?oe:W;case"removeListener":return L;default:return F(E)}}});return r[d]=ve,o.set(d,{name:d,proxy:ve,platforms:new Set([...Object.keys(_),...f?[p]:[]])}),ve};return t.convertFileSrc||(t.convertFileSrc=d=>d),t.getPlatform=s,t.handleError=u,t.isNativePlatform=a,t.isPluginAvailable=l,t.registerPlugin=c,t.Exception=ye,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},an=n=>n.Capacitor=on(n),he=an(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),M=he.registerPlugin;class Ne{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,t);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const s=this.listeners[e];if(!s){if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(t),this.retainedEventArguments[e]=a}return}s.forEach(a=>a(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new he.Exception(e,X.Unimplemented)}unavailable(e="not available"){return new he.Exception(e,X.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const s=r.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const qe=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ge=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class cn extends Ne{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ge(s).trim(),a=Ge(a).trim(),t[s]=a}),t}async setCookie(e){try{const t=qe(e.key),r=qe(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${s}; path=${a}; ${l};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}M("CapacitorCookies",{web:()=>new cn});const ln=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>t(s),r.readAsDataURL(n)}),un=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(s=>s.toLocaleLowerCase()).reduce((s,a,l)=>(s[a]=n[e[l]],s),{})},dn=(n,e=!0)=>n?Object.entries(n).reduce((r,s)=>{const[a,l]=s;let i,u;return Array.isArray(l)?(u="",l.forEach(o=>{i=e?encodeURIComponent(o):o,u+=`${a}=${i}&`}),u.slice(0,-1)):(i=e?encodeURIComponent(l):l,u=`${a}=${i}`),`${r}&${u}`},"").substr(1):null,_n=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),s=un(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[l,i]of Object.entries(n.data||{}))a.set(l,i);t.body=a.toString()}else if(s.includes("multipart/form-data")||n.data instanceof FormData){const a=new FormData;if(n.data instanceof FormData)n.data.forEach((i,u)=>{a.append(u,i)});else for(const i of Object.keys(n.data))a.append(i,n.data[i]);t.body=a;const l=new Headers(t.headers);l.delete("content-type"),t.headers=l}else(s.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class hn extends Ne{async request(e){const t=_n(e,e.webFetchExtra),r=dn(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,a=await fetch(s,t),l=a.headers.get("content-type")||"";let{responseType:i="text"}=a.ok?e:{};l.includes("application/json")&&(i="json");let u,o;switch(i){case"arraybuffer":case"blob":o=await a.blob(),u=await ln(o);break;case"json":u=await a.json();break;default:u=await a.text()}const c={};return a.headers.forEach((d,_)=>{c[_]=d}),{data:u,headers:c,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}M("CapacitorHttp",{web:()=>new hn});var Ue;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Ue||(Ue={}));var ze;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(ze||(ze={}));class fn extends Ne{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}M("SystemBars",{web:()=>new fn});const pn=M("Toast",{web:()=>H(()=>import("./web-BLtr-fq8.js"),[],import.meta.url).then(n=>new n.ToastWeb)}),fe=new URLSearchParams(window.location.search),mn=!!fe.has("nolog"),gn=!!fe.has("QR"),be=fe.has("m")?fe.get("m"):"";async function b(n,e=""){if(mn)return console.log("GDT Logging disabled:",n||" ",e||" "),"";let t="";return t=await(await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`lg=${encodeURIComponent(n)}&u=${encodeURIComponent(e)}`})).text(),console.log("GDT Logging:",t),t}gn&&b("QR accessed");document.addEventListener("click",n=>{let t=n.target.closest("a");if(t&&t instanceof HTMLAnchorElement){let r=t.href.endsWith("#")?t.id+" choice":t.href;b("Hyperlink clicked: ",r)}});function wn(n,e){let t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.background="rgba(0,0,0,0.5)",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.zIndex="1000";let r=document.createElement("div");r.style.background="white",r.style.padding="2em",r.style.margin="1em",r.style.borderRadius="10px",r.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",r.style.textAlign="center",r.style.position="relative";let s=document.createElement("h2");s.textContent=n,s.style.textAlign="center",r.appendChild(s),e.forEach(l=>{let i=document.createElement("a");i.href=l.url,i.target="_blank",i.innerHTML=`<button style="margin:1em;">${l.text}</button>`,i.onclick=()=>{document.body.removeChild(t)},r.appendChild(i)});let a=document.createElement("button");a.textContent="✕",a.setAttribute("aria-label","Close"),a.style.position="absolute",a.style.top="0.2em",a.style.right="0.2em",a.style.background="transparent",a.style.border="none",a.style.fontSize="1.5em",a.style.cursor="pointer",a.onclick=()=>{document.body.removeChild(t)},r.appendChild(a),t.appendChild(r),document.body.appendChild(t)}async function N(n,e,t){let r=!1;const s=()=>{if(r)return;const a=document.getElementById(n);a?(console.log("adding "+n),a.addEventListener("click",l=>{l.preventDefault(),wn(e,t)}),r=!0):console.warn("Link not found: "+n)};if(document.readyState==="complete")s();else{const a=()=>{document.readyState==="complete"?s():setTimeout(a,100)};a(),document.addEventListener("DOMContentLoaded",s)}}function vn(n){const e=n.getDate(),t=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";return n.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/(\d+)/,`$1${t}`)}const Re=[];let Ee=!1;async function wt(){if(Ee||Re.length===0)return;Ee=!0;const n=Re.shift();await pn.show({text:n??""}),await new Promise(e=>setTimeout(e,3e3)),Ee=!1,wt()}async function T(n=""){n!==""&&(Re.push(n),wt())}be!==""&&be!==null&&T(be);function vt(){const n=document.body.scrollHeight;window.parent.postMessage({height:n},"*")}window.onload=()=>{vt()};window.onscroll=()=>{vt()};let Me,Ie=!1;const yn=900*1e3;document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?(console.log("Human has gone away."),Ie=!1,Me=window.setTimeout(()=>{console.log("Timer expired."),Ie=!0},yn)):document.visibilityState==="visible"&&(console.log("Human is here."),clearTimeout(Me),Ie&&(console.log("Reloading the page."),location.reload()))});let bn="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound,%20Truro,%20UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=Truro,%20UK&toLat=50.263195&toLng=-5.051041&toPlaceId=ChIJdRpa1XwQa0gRtAcdle9HY2E",En="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound, Truro, UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=St Austell, Saint Austell, UK&toLat=50.3403779&toLng=-4.7834252&toPlaceId=ChIJYwb4Jy1Aa0gRiCTxrSBmq2c",In="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004840%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Tn="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004707%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Ln="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=Truro&destination%5Blocation%5D%5Blat%5D=50.263317&destination%5Blocation%5D%5Blon%5D=-5.051811&time%5Bwhen%5D=now",$n="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=St+Austell&destination%5Blocation%5D%5Blat%5D=50.33814&destination%5Blocation%5D%5Blon%5D=-4.794184&time%5Bwhen%5D=now";function Rn(){return`
        <li class="flex-item">
        <img src="${tn}" alt="bus icon" class="icon"><br>
        <div style="margin-top:1em;">
            <div id="bus-links" style="margin-top:0.5em;">
                <a id='bus-link-truro' href="#" target="_blank"><button>To Truro</button></a>
                <a id='bus-link-st-austell' href="#" target="_blank"><button>To St Austell</button></a>
            </div>
            <p>Buses from Grampound.</p>
        </div>
        </li>
    `}N("bus-link-truro","Bus times to Truro",[{text:"Transport for Cornwall",url:Ln},{text:"First Bus",url:bn},{text:"Traveline SW",url:In}]);N("bus-link-st-austell","Bus times to St Austell",[{text:"Transport for Cornwall",url:$n},{text:"First Bus",url:En},{text:"Traveline SW",url:Tn}]);const Cn=""+new URL("../hiker.svg",import.meta.url).href,Sn=""+new URL("../creed_circuit_avoiding_most_of_fore_street.gpx",import.meta.url).href,xn=""+new URL("../fal_footpath__barteliver_wood__bareliver_hill.gpx",import.meta.url).href,An=""+new URL("../grampound_walk_pepo_trenowth.gpx",import.meta.url).href;function On(){return`
    <li class="flex-item">
    <img src="${Cn}" alt="hiker icon" class="icon"><br>
    <a id="fal-footpath" href="#" target="_blank">
        <button>Fal (40 mins)</button>
    </a>
    <a id="creed-circuit" href="#" target="_blank">
        <button>Creed Circuit (1 hr)</button>
    </a>
    <a id="trenowth" href="#" target="_blank">
        <button>Trenowth (1½ hrs)</button>
    </a>
    <p>Circular walks.</p>
    </li>
    `}N("creed-circuit","Creed Circuit Walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/creed-circuit-avoiding-most-of-fore-street_955200#15/50.2940/-4.8909"},{text:"Download GPX",url:Sn}]);N("fal-footpath","Fal Footpath Old Hill walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/fal-footpath-barteliver-wood-bareliver-hill_1295709#16/50.2973/-4.9067"},{text:"Download GPX",url:xn}]);N("trenowth","Trenowth walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/grampound-walk-pepo-trenowth_947847#14/50.3122/-4.8960"},{text:"Download GPX",url:An}]);const kn=""+new URL("../gwchp-logo-coloured-600x600.png",import.meta.url).href;function Nn(){return`
    <a id="ghp-link" href="#" target="_blank" class="flex-item">
        <img src="${kn}" class="logo green" alt="Grampound Heritage Project logo" />
        <p>Grampound Heritage Project photo archive.</p>
    </a>
    `}N("ghp-link","Photo Archive",[{text:"Photo search",url:"https://photos.grampound.org.uk/photos.php"},{text:"Slide show",url:"https://photos.grampound.org.uk/slideshow.php"}]);const yt="why-button";function Pn(){return`
    <li class="flex-item">
        <button id="${yt}">
            Why?
        </button>
        <p id="why-content">Keep hitting the why button to learn more.</p>
    </li>
    `}function Ke(n){let e=n.length;for(;e!=0;){let t=Math.floor(Math.random()*e);e--,[n[e],n[t]]=[n[t],n[e]]}}document.addEventListener("DOMContentLoaded",()=>{const n=["To help us find useful local information quickly.","To demonstrate how open data and digital tools can benefit our community.","To make environmental and travel data more accessible for Grampound.","To encourage us to engage with local resources and events.","To provide a single place for maps, weather, air and water quality, and more.","To support transparency and awareness about local environmental conditions.","To experiment with digital projects for rural areas.","To make it easier to plan journeys and walks around Grampound.","To showcase how technology can connect people with their local area.","To encourage contributions and improvements from anyone who wants to get involved.","To share some excellent digital resources that already exist for Grampound.","To show what is possible with open data and community effort.","To demonstrate how small digital projects can beat 'big tech' for local relevance.","This could be a public touch screen in the village hall or shop.","To help everyone find local info fast.","To show how sharing info online can help our town.","To make weather and nature facts easy to find for Grampound.","To get people excited about local events and places.","To have one website for maps, weather, and how clean our air and water is.","To be honest and open about our local environment.","To try out new tech ideas for places like ours.","To make planning walks and trips around Grampound simple.","To show how tech can help people connect with where they live.","To share other cool websites that already exist for Grampound.","To show what we can do when we share information and work together.","To prove a small local website can be more useful than big websites or apps for our town.","This could also be a public computer screen in the village hall or shop.","To find out what's happening in the village this week.","To prove a local site can be more useful than big tech apps.","To make planning walks, bus trips, and journeys simpler.","To be the one-stop website for everything in Grampound.","To help you find local info quickly and easily.","To show what we can achieve when we share information and work together.","To demonstrate 'digital sovereignty' - that small local projects can beat big tech."],e=document.getElementById(yt),t=document.getElementById("why-content");let r=[...n],s="";Ke(r);let a=Array("Why again?","But why?","Why though?","Please, why?","Why, why, why?","But really?");e&&t&&e.addEventListener("click",()=>{r.length>0||(b("Why sentences exhausted, reshuffling"),r=[...n],Ke(r)),s=r.pop()||"",e.innerText=a[Math.floor(Math.random()*a.length)],t.innerText=s,b("Why button clicked: ",s)})});const Dn=""+new URL("../PurpleAir-Cornwall-Map.png",import.meta.url).href;var Hn="Grampound";const Qe="PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI",jn="https://www.purpleair.com/pa.widget.js?key=GK7Z257AJL4IWPJC&module=US_EPA_AQI&conversion=C0&average=10&layer=US_EPA_AQI&container=PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI";var bt,Pe,Et,bt="<div id='"+Qe+"'>Loading nearest sensor ...</div>",Pe=Qe,Et=jn;function Bn(){return bt}function Fn(){return`
    <a href="https://map.purpleair.com/air-quality-standards-us-epa-aqi?opt=%2F1%2Flp%2Fa10%2Fp604800%2FcC0#8.63/50.2076/-5.023" target="_blank" class="flex-item">
        <img src="${Dn}" class="logo" alt="Air Quality, PurpleAir logo" />
        <p>${Bn()}</p>
        <p>Air quality in ${Hn}.</p>
    </a>
    `}document.addEventListener("DOMContentLoaded",()=>{const n=document.createElement("script");n.id=Pe+"_script",n.src=Et,document.body.appendChild(n)});document.addEventListener("DOMContentLoaded",()=>{const n=Pe;let e=!1;const t=new MutationObserver(()=>{const s=document.getElementById(n);if(s){let a=Array.from(s.querySelectorAll("span")).find(l=>{const i=l.textContent?.trim()||"",u=!isNaN(parseFloat(i)),o=window.getComputedStyle(l).fontSize;return u&&parseFloat(o)>=50});if(a){console.log("PurpleAir Pm2.5 span found");const l=parseFloat(a.innerHTML);if(!isNaN(l)&&l<50){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="green",i.style.color="white",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i)}if(!isNaN(l)&&l>=50&&l<100){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="yellow",i.style.color="black",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i),T("Poor Air Quality")}if(!isNaN(l)&&l>=100){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="red",i.style.color="white",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i),T("Very poor air quality")}e===!1&&(b(`Nearest PurpleAir sensor Pm2.5 value: ${l}`),e=!0)}s.querySelector("div.popup-error-help")&&(s.innerHTML="<button>Visit Purple Air Map</button>",b("PurpleAir response shows error element 'div.popup-error-help'"))}}),r=document.getElementById(n);r?t.observe(r,{childList:!0,subtree:!0}):console.error("PurpleAir widget not found.")});var It="message-button-for-gdt";function Wn(){return`
    <li class="flex-item">
        <button id=${It}>
            Message
        </button>
        <p>Send us a message, feedback, or offer support.</p>
    </li>
    `}document.addEventListener("DOMContentLoaded",()=>{let n=document.getElementById(It);n&&n.addEventListener("click",()=>{let e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let t=document.createElement("div");t.style.background="white",t.style.padding="1em",t.style.margin="1em",t.style.borderRadius="10px",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",t.style.textAlign="center",t.style.position="relative";let r=document.createElement("h2");r.textContent="Contact Grampound Digital Twin",r.style.textAlign="center",t.appendChild(r);let s=document.createElement("p");s.textContent="Please do not share confidential information.",s.style.textAlign="center",t.appendChild(s);let a=document.createElement("form");a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.gap="1em";let l=document.createElement("input");l.type="text",l.name="fn",l.placeholder="Your name",l.required=!1,l.style.width="100%",a.appendChild(l);let i=document.createElement("input");i.type="email",i.name="fe",i.placeholder="Your email (optional)",i.required=!1,i.style.width="100%",a.appendChild(i);let u=document.createElement("textarea");u.name="fm",u.placeholder="Your message",u.required=!0,u.rows=4,u.style.width="100%",a.appendChild(u);const o=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1;let d=document.createElement("label");d.textContent=`Checking you are human. What is ${o} + ${c}? `,d.style.marginTop="1em",d.htmlFor="arithmetic-test",a.appendChild(d);let _=document.createElement("input");_.type="number",_.id="arithmetic-test",_.required=!0,_.style.width="4em",a.appendChild(_);let h=document.createElement("button");h.type="submit",h.textContent="Send",h.style.marginTop="1em",h.disabled=!0,a.appendChild(h),_.addEventListener("input",()=>{h.disabled=Number(_.value)!==o+c});let p=document.createElement("div");p.style.marginTop="1em",p.style.color="green",a.appendChild(p),a.onsubmit=async m=>{m.preventDefault(),h.disabled=!0,p.textContent="Sending...";try{const v=await(await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`fn=${encodeURIComponent(l.value)}&fe=${encodeURIComponent(i.value)}&fm=${encodeURIComponent(u.value)}`})).text();p.textContent="Message sent! Thank you.",console.log("Message sent:",v),h.disabled=!1,a.reset()}catch{p.textContent="Error sending message. Please try again.",h.disabled=!1}},t.appendChild(a);let f=document.createElement("button");f.textContent="✕",f.setAttribute("aria-label","Close"),f.style.position="absolute",f.style.top="0.2em",f.style.right="0.2em",f.style.background="transparent",f.style.border="none",f.style.fontSize="1.5em",f.style.cursor="pointer",f.onclick=()=>{document.body.removeChild(e)},t.appendChild(f),e.appendChild(t),document.body.appendChild(e)})});function Yn(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Q={};const ue=2,O=4,D=4,Tt=4,j=new Int32Array(2),Ce=new Float32Array(j.buffer),Se=new Float64Array(j.buffer),ne=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var pe;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(pe||(pe={}));class se{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new se(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return j[0]=this.readInt32(e),Ce[0]}readFloat64(e){return j[ne?0:1]=this.readInt32(e),j[ne?1:0]=this.readInt32(e+4),Se[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))}writeUint64(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))}writeFloat32(e,t){Ce[0]=t,this.writeInt32(e,j[0])}writeFloat64(e,t){Se[0]=t,this.writeInt32(e,j[ne?0:1]),this.writeInt32(e+4,j[ne?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+O+D)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<D;t++)e+=String.fromCharCode(this.readInt8(this.position_+O+t));return e}__offset(e,t){const r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const r=this.readInt32(e);e+=O;const s=this.bytes_.subarray(e,e+r);return t===pe.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+O}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=D)throw new Error("FlatBuffers: file identifier must be length "+D);for(let t=0;t<D;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+O+t))return!1;return!0}createScalarList(e,t){const r=[];for(let s=0;s<t;++s){const a=e(s);a!==null&&r.push(a)}return r}createObjList(e,t){const r=[];for(let s=0;s<t;++s){const a=e(s);a!==null&&r.push(a.unpack())}return r}}class De{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let t;e?t=e:t=1024,this.bb=se.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<r+e+t;){const s=this.bb.capacity();this.bb=De.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(r)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,r){(this.force_defaults||t!==r)&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,r){t!=r&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=t<<1,s=se.allocate(r);return s.setPosition(r-t),s.bytes().set(e.bytes(),r-t),s}addOffset(e){this.prep(O,0),this.writeInt32(this.offset()-e+O)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const r=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);const s=2;this.addInt16(e-this.object_start);const a=(r+s)*ue;this.addInt16(a);let l=0;const i=this.space;e:for(t=0;t<this.vtables.length;t++){const u=this.bb.capacity()-this.vtables[t];if(a==this.bb.readInt16(u)){for(let o=ue;o<a;o+=ue)if(this.bb.readInt16(i+o)!=this.bb.readInt16(u+o))continue e;l=this.vtables[t];break}}return l?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,l-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,r){const s=r?Tt:0;if(t){const a=t;if(this.prep(this.minalign,O+D+s),a.length!=D)throw new TypeError("FlatBuffers: file identifier must be length "+D);for(let l=D-1;l>=0;l--)this.writeInt8(a.charCodeAt(l))}this.prep(this.minalign,O+s),this.addOffset(e),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){const r=this.bb.capacity()-e,s=r-this.bb.readInt32(r);if(!(t<this.bb.readInt16(s)&&this.bb.readInt16(s+t)!=0))throw new TypeError("FlatBuffers: field "+t+" must be set")}startVector(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(O,e*t),this.prep(r,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){if(e==null)return 0;let t;return e instanceof Uint8Array?t=e:t=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const t=[];for(let r=0;r<e.length;++r){const s=e[r];if(s!==null)t.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const qn=Object.freeze(Object.defineProperty({__proto__:null,Builder:De,ByteBuffer:se,get Encoding(){return pe},FILE_IDENTIFIER_LENGTH:D,SIZEOF_INT:O,SIZEOF_SHORT:ue,SIZE_PREFIX_LENGTH:Tt,float32:Ce,float64:Se,int32:j,isLittleEndian:ne},Symbol.toStringTag,{value:"Module"})),ie=Yn(qn);var R={},J={},Xe;function Gn(){if(Xe)return J;Xe=1,Object.defineProperty(J,"__esModule",{value:!0}),J.Model=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",e[e.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",e[e.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",e[e.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",e[e.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",e[e.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",e[e.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",e[e.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",e[e.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",e[e.ncep_nam_conus=104]="ncep_nam_conus",e[e.icon_d2_ruc=105]="icon_d2_ruc",e[e.ecmwf_seas5=106]="ecmwf_seas5",e[e.ecmwf_ec46=107]="ecmwf_ec46",e[e.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",e[e.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",e[e.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",e[e.gem_hrdps_west=111]="gem_hrdps_west"})(n||(J.Model=n={})),J}var C={},S={},Z={},Je;function Un(){if(Je)return Z;Je=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.Aggregation=void 0;var n;return(function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread",e[e.anomaly=12]="anomaly",e[e.sot10=13]="sot10",e[e.sot90=14]="sot90",e[e.efi=15]="efi"})(n||(Z.Aggregation=n={})),Z}var V={},Ze;function zn(){if(Ze)return V;Ze=1,Object.defineProperty(V,"__esModule",{value:!0}),V.Probability=void 0;var n;return(function(e){e[e.none=0]="none",e[e.gt0=1]="gt0",e[e.gt0p1=2]="gt0p1",e[e.gt1=3]="gt1",e[e.gt2=4]="gt2",e[e.gt3=5]="gt3",e[e.gt4=6]="gt4",e[e.gt5=7]="gt5",e[e.gt8=8]="gt8",e[e.gt10=9]="gt10",e[e.gt15=10]="gt15",e[e.gt20=11]="gt20",e[e.gt25=12]="gt25",e[e.gt30=13]="gt30",e[e.gt35=14]="gt35",e[e.gt40=15]="gt40",e[e.gt50=16]="gt50",e[e.gt60=17]="gt60",e[e.gt75=18]="gt75",e[e.gt80=19]="gt80",e[e.gt100=20]="gt100",e[e.lt0=21]="lt0",e[e.lt0p1=22]="lt0p1",e[e.lt1=23]="lt1",e[e.ltm1=24]="ltm1",e[e.ltm2=25]="ltm2",e[e.ltm3=26]="ltm3",e[e.ltm4=27]="ltm4",e[e.ltm5=28]="ltm5",e[e.ltm8=29]="ltm8",e[e.ltm10=30]="ltm10",e[e.ltm15=31]="ltm15",e[e.ltm20=32]="ltm20",e[e.gt1stdev=33]="gt1stdev",e[e.gt1p5stdev=34]="gt1p5stdev",e[e.gt2stdev=35]="gt2stdev",e[e.lt1stdev=36]="lt1stdev",e[e.lt1p5stdev=37]="lt1p5stdev",e[e.lt2stdev=38]="lt2stdev"})(n||(V.Probability=n={})),V}var ee={},Ve;function Mn(){if(Ve)return ee;Ve=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.Unit=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million",e[e.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(n||(ee.Unit=n={})),ee}var te={},et;function Kn(){if(et)return te;et=1,Object.defineProperty(te,"__esModule",{value:!0}),te.Variable=void 0;var n;return(function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",e[e.wind_u_component=149]="wind_u_component",e[e.wind_v_component=150]="wind_v_component",e[e.temperature_max24h=151]="temperature_max24h",e[e.temperature_min24h=152]="temperature_min24h",e[e.temperature_mean24h=153]="temperature_mean24h",e[e.snow_density=154]="snow_density",e[e.longwave_radiation=155]="longwave_radiation",e[e.sea_ice_cover=156]="sea_ice_cover",e[e.k_index=157]="k_index",e[e.roughness_length=158]="roughness_length",e[e.potential_evapotranspiration=159]="potential_evapotranspiration",e[e.wave_peak_period=160]="wave_peak_period",e[e.temperature_max6h=161]="temperature_max6h",e[e.temperature_min6h=162]="temperature_min6h"})(n||(te.Variable=n={})),te}var tt;function Lt(){if(tt)return S;tt=1;var n=S&&S.__createBinding||(Object.create?(function(o,c,d,_){_===void 0&&(_=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(o,_,h)}):(function(o,c,d,_){_===void 0&&(_=d),o[_]=c[d]})),e=S&&S.__setModuleDefault||(Object.create?(function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}):function(o,c){o.default=c}),t=S&&S.__importStar||(function(){var o=function(c){return o=Object.getOwnPropertyNames||function(d){var _=[];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(_[_.length]=h);return _},o(c)};return function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var _=o(c),h=0;h<_.length;h++)_[h]!=="default"&&n(d,c,_[h]);return e(d,c),d}})();Object.defineProperty(S,"__esModule",{value:!0}),S.VariableWithValues=void 0;const r=t(ie),s=Un(),a=zn(),l=Mn(),i=Kn();class u{constructor(){this.bb=null,this.bb_pos=0}__init(c,d){return this.bb_pos=c,this.bb=d,this}static getRootAsVariableWithValues(c,d){return(d||new u).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsVariableWithValues(c,d){return c.setPosition(c.position()+r.SIZE_PREFIX_LENGTH),(d||new u).__init(c.readInt32(c.position())+c.position(),c)}variable(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readUint8(this.bb_pos+c):i.Variable.undefined}unit(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readUint8(this.bb_pos+c):l.Unit.undefined}value(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readFloat32(this.bb_pos+c):0}values(c){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readFloat32(this.bb.__vector(this.bb_pos+d)+c*4):0}valuesLength(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.__vector_len(this.bb_pos+c):0}valuesArray(){const c=this.bb.__offset(this.bb_pos,10);return c?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}valuesInt64(c){const d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+c*8):BigInt(0)}valuesInt64Length(){const c=this.bb.__offset(this.bb_pos,12);return c?this.bb.__vector_len(this.bb_pos+c):0}altitude(){const c=this.bb.__offset(this.bb_pos,14);return c?this.bb.readInt16(this.bb_pos+c):0}aggregation(){const c=this.bb.__offset(this.bb_pos,16);return c?this.bb.readUint8(this.bb_pos+c):s.Aggregation.none}pressureLevel(){const c=this.bb.__offset(this.bb_pos,18);return c?this.bb.readInt16(this.bb_pos+c):0}depth(){const c=this.bb.__offset(this.bb_pos,20);return c?this.bb.readInt16(this.bb_pos+c):0}depthTo(){const c=this.bb.__offset(this.bb_pos,22);return c?this.bb.readInt16(this.bb_pos+c):0}ensembleMember(){const c=this.bb.__offset(this.bb_pos,24);return c?this.bb.readInt16(this.bb_pos+c):0}previousDay(){const c=this.bb.__offset(this.bb_pos,26);return c?this.bb.readInt16(this.bb_pos+c):0}probability(){const c=this.bb.__offset(this.bb_pos,28);return c?this.bb.readUint8(this.bb_pos+c):a.Probability.none}}return S.VariableWithValues=u,S}var nt;function Qn(){if(nt)return C;nt=1;var n=C&&C.__createBinding||(Object.create?(function(l,i,u,o){o===void 0&&(o=u);var c=Object.getOwnPropertyDescriptor(i,u);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(l,o,c)}):(function(l,i,u,o){o===void 0&&(o=u),l[o]=i[u]})),e=C&&C.__setModuleDefault||(Object.create?(function(l,i){Object.defineProperty(l,"default",{enumerable:!0,value:i})}):function(l,i){l.default=i}),t=C&&C.__importStar||(function(){var l=function(i){return l=Object.getOwnPropertyNames||function(u){var o=[];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[o.length]=c);return o},l(i)};return function(i){if(i&&i.__esModule)return i;var u={};if(i!=null)for(var o=l(i),c=0;c<o.length;c++)o[c]!=="default"&&n(u,i,o[c]);return e(u,i),u}})();Object.defineProperty(C,"__esModule",{value:!0}),C.VariablesWithMonth=void 0;const r=t(ie),s=Lt();class a{constructor(){this.bb=null,this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsVariablesWithMonth(i,u){return(u||new a).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsVariablesWithMonth(i,u){return i.setPosition(i.position()+r.SIZE_PREFIX_LENGTH),(u||new a).__init(i.readInt32(i.position())+i.position(),i)}year(){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt16(this.bb_pos+i):0}month(){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt8(this.bb_pos+i):0}count(){const i=this.bb.__offset(this.bb_pos,8);return i?this.bb.readInt32(this.bb_pos+i):0}variables(i,u){const o=this.bb.__offset(this.bb_pos,10);return o?(u||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+i*4),this.bb):null}variablesLength(){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__vector_len(this.bb_pos+i):0}}return C.VariablesWithMonth=a,C}var x={},rt;function Xn(){if(rt)return x;rt=1;var n=x&&x.__createBinding||(Object.create?(function(l,i,u,o){o===void 0&&(o=u);var c=Object.getOwnPropertyDescriptor(i,u);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(l,o,c)}):(function(l,i,u,o){o===void 0&&(o=u),l[o]=i[u]})),e=x&&x.__setModuleDefault||(Object.create?(function(l,i){Object.defineProperty(l,"default",{enumerable:!0,value:i})}):function(l,i){l.default=i}),t=x&&x.__importStar||(function(){var l=function(i){return l=Object.getOwnPropertyNames||function(u){var o=[];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[o.length]=c);return o},l(i)};return function(i){if(i&&i.__esModule)return i;var u={};if(i!=null)for(var o=l(i),c=0;c<o.length;c++)o[c]!=="default"&&n(u,i,o[c]);return e(u,i),u}})();Object.defineProperty(x,"__esModule",{value:!0}),x.VariablesWithTime=void 0;const r=t(ie),s=Lt();class a{constructor(){this.bb=null,this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsVariablesWithTime(i,u){return(u||new a).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsVariablesWithTime(i,u){return i.setPosition(i.position()+r.SIZE_PREFIX_LENGTH),(u||new a).__init(i.readInt32(i.position())+i.position(),i)}time(){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt64(this.bb_pos+i):BigInt("0")}timeEnd(){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt64(this.bb_pos+i):BigInt("0")}interval(){const i=this.bb.__offset(this.bb_pos,8);return i?this.bb.readInt32(this.bb_pos+i):0}variables(i,u){const o=this.bb.__offset(this.bb_pos,10);return o?(u||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+i*4),this.bb):null}variablesLength(){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__vector_len(this.bb_pos+i):0}}return x.VariablesWithTime=a,x}var st;function Jn(){if(st)return R;st=1;var n=R&&R.__createBinding||(Object.create?(function(u,o,c,d){d===void 0&&(d=c);var _=Object.getOwnPropertyDescriptor(o,c);(!_||("get"in _?!o.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(u,d,_)}):(function(u,o,c,d){d===void 0&&(d=c),u[d]=o[c]})),e=R&&R.__setModuleDefault||(Object.create?(function(u,o){Object.defineProperty(u,"default",{enumerable:!0,value:o})}):function(u,o){u.default=o}),t=R&&R.__importStar||(function(){var u=function(o){return u=Object.getOwnPropertyNames||function(c){var d=[];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(d[d.length]=_);return d},u(o)};return function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var d=u(o),_=0;_<d.length;_++)d[_]!=="default"&&n(c,o,d[_]);return e(c,o),c}})();Object.defineProperty(R,"__esModule",{value:!0}),R.WeatherApiResponse=void 0;const r=t(ie),s=Gn(),a=Qn(),l=Xn();class i{constructor(){this.bb=null,this.bb_pos=0}__init(o,c){return this.bb_pos=o,this.bb=c,this}static getRootAsWeatherApiResponse(o,c){return(c||new i).__init(o.readInt32(o.position())+o.position(),o)}static getSizePrefixedRootAsWeatherApiResponse(o,c){return o.setPosition(o.position()+r.SIZE_PREFIX_LENGTH),(c||new i).__init(o.readInt32(o.position())+o.position(),o)}latitude(){const o=this.bb.__offset(this.bb_pos,4);return o?this.bb.readFloat32(this.bb_pos+o):0}longitude(){const o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readFloat32(this.bb_pos+o):0}elevation(){const o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readFloat32(this.bb_pos+o):0}generationTimeMilliseconds(){const o=this.bb.__offset(this.bb_pos,10);return o?this.bb.readFloat32(this.bb_pos+o):0}locationId(){const o=this.bb.__offset(this.bb_pos,12);return o?this.bb.readInt64(this.bb_pos+o):BigInt("0")}model(){const o=this.bb.__offset(this.bb_pos,14);return o?this.bb.readUint8(this.bb_pos+o):s.Model.undefined}utcOffsetSeconds(){const o=this.bb.__offset(this.bb_pos,16);return o?this.bb.readInt32(this.bb_pos+o):0}timezone(o){const c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb_pos+c,o):null}timezoneAbbreviation(o){const c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__string(this.bb_pos+c,o):null}current(o){const c=this.bb.__offset(this.bb_pos,22);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}daily(o){const c=this.bb.__offset(this.bb_pos,24);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}hourly(o){const c=this.bb.__offset(this.bb_pos,26);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}minutely15(o){const c=this.bb.__offset(this.bb_pos,28);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}monthly(o){const c=this.bb.__offset(this.bb_pos,30);return c?(o||new a.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}}return R.WeatherApiResponse=i,R}var it;function Zn(){if(it)return Q;it=1;var n=Q&&Q.__awaiter||function(l,i,u,o){function c(d){return d instanceof u?d:new u(function(_){_(d)})}return new(u||(u=Promise))(function(d,_){function h(m){try{f(o.next(m))}catch(g){_(g)}}function p(m){try{f(o.throw(m))}catch(g){_(g)}}function f(m){m.done?d(m.value):c(m.value).then(h,p)}f((o=o.apply(l,i||[])).next())})};Object.defineProperty(Q,"__esModule",{value:!0}),Q.fetchWeatherApi=a;const e=ie,t=Jn(),r=l=>new Promise(i=>setTimeout(i,l));function s(l){return n(this,arguments,void 0,function*(i,u=3,o=.5,c=2,d={}){const _=[500,502,504],h=[400,429];let p=0,f=yield fetch(i,d);for(;_.includes(f.status);){if(p++,p>=u)throw new Error(f.statusText);const m=Math.min(o*Math.pow(2,p),c)*1e3;yield r(m),f=yield fetch(i,d)}if(h.includes(f.status)){const m=yield f.json();throw"reason"in m?new Error(m.reason):new Error(f.statusText)}return f})}function a(l,i){return n(this,arguments,void 0,function*(u,o,c=3,d=.2,_=2,h={}){const p=new URLSearchParams(o);p.set("format","flatbuffers");const f=yield s(`${u}?${p.toString()}`,c,d,_,h),m=new e.ByteBuffer(new Uint8Array(yield f.arrayBuffer())),g=[];let v=0;for(;v<m.capacity();){m.setPosition(v);const F=m.readInt32(m.position());g.push(t.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(m)),v+=F+4}return g})}return Q}var Vn=Zn();const ot={0:{day:{description:"Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Clear",image:"weather-codes/01n@2x.png"}},1:{day:{description:"Mainly Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Mainly Clear",image:"weather-codes/01n@2x.png"}},2:{day:{description:"Partly Cloudy",image:"weather-codes/02d@2x.png"},night:{description:"Partly Cloudy",image:"weather-codes/02n@2x.png"}},3:{day:{description:"Cloudy",image:"weather-codes/03d@2x.png"},night:{description:"Cloudy",image:"weather-codes/03n@2x.png"}},45:{day:{description:"Foggy",image:"weather-codes/50d@2x.png"},night:{description:"Foggy",image:"weather-codes/50n@2x.png"}},48:{day:{description:"Rime Fog",image:"weather-codes/50d@2x.png"},night:{description:"Rime Fog",image:"weather-codes/50n@2x.png"}},51:{day:{description:"Light Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Drizzle",image:"weather-codes/09n@2x.png"}},53:{day:{description:"Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Drizzle",image:"weather-codes/09n@2x.png"}},55:{day:{description:"Heavy Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Drizzle",image:"weather-codes/09n@2x.png"}},56:{day:{description:"Light Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Freezing Drizzle",image:"weather-codes/09n@2x.png"}},57:{day:{description:"Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Freezing Drizzle",image:"weather-codes/09n@2x.png"}},61:{day:{description:"Light Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Rain",image:"weather-codes/10n@2x.png"}},63:{day:{description:"Rain",image:"weather-codes/10d@2x.png"},night:{description:"Rain",image:"weather-codes/10n@2x.png"}},65:{day:{description:"Heavy Rain",image:"weather-codes/10d@2x.png"},night:{description:"Heavy Rain",image:"weather-codes/10n@2x.png"}},66:{day:{description:"Light Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Freezing Rain",image:"weather-codes/10n@2x.png"}},67:{day:{description:"Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Freezing Rain",image:"weather-codes/10n@2x.png"}},71:{day:{description:"Light Snow",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow",image:"weather-codes/13n@2x.png"}},73:{day:{description:"Snow",image:"weather-codes/13d@2x.png"},night:{description:"Snow",image:"weather-codes/13n@2x.png"}},75:{day:{description:"Heavy Snow",image:"weather-codes/13d@2x.png"},night:{description:"Heavy Snow",image:"weather-codes/13n@2x.png"}},77:{day:{description:"Snow Grains",image:"weather-codes/13d@2x.png"},night:{description:"Snow Grains",image:"weather-codes/13n@2x.png"}},80:{day:{description:"Light Showers",image:"weather-codes/09d@2x.png"},night:{description:"Light Showers",image:"weather-codes/09n@2x.png"}},81:{day:{description:"Showers",image:"weather-codes/09d@2x.png"},night:{description:"Showers",image:"weather-codes/09n@2x.png"}},82:{day:{description:"Heavy Showers",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Showers",image:"weather-codes/09n@2x.png"}},85:{day:{description:"Light Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow Showers",image:"weather-codes/13n@2x.png"}},86:{day:{description:"Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Snow Showers",image:"weather-codes/13n@2x.png"}},95:{day:{description:"Thunderstorm",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm",image:"weather-codes/11n@2x.png"}},96:{day:{description:"Light Thunderstorms With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Light Thunderstorms With Hail",image:"weather-codes/11n@2x.png"}},99:{day:{description:"Thunderstorm With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm With Hail",image:"weather-codes/11n@2x.png"}}},$t="weather-info",Rt="weather-warning";function er(){return`
    <a href="#" id="weather-links" target="_blank" class="flex-item">
        <p id="${$t}">
            Weather (UK Met Office)
        </p>
        <span id="${Rt}"></span>
    </a>
    `}const tr={latitude:50.2993,longitude:-4.9005,models:"ukmo_seamless",current:["weather_code","temperature_2m","wind_speed_10m","rain","is_day"],timezone:"Europe/London",forecast_days:1,wind_speed_unit:"ms"},nr="https://api.open-meteo.com/v1/forecast";(async()=>{const e=(await Vn.fetchWeatherApi(nr,tr))[0],t=e.latitude(),r=e.longitude(),s=e.elevation(),a=e.timezone(),l=e.timezoneAbbreviation(),i=e.utcOffsetSeconds();console.log(`
Coordinates: ${t}°N ${r}°E`,`
Elevation: ${s}m asl`,`
Timezone: ${a} ${l}`,`
Timezone difference to GMT+0: ${i}s`);const u=e.current(),o={current:{time:new Date((Number(u.time())+i)*1e3),weather_code:u.variables(0).value(),temperature_2m:u.variables(1).value(),wind_speed_10m:u.variables(2).value(),rain:u.variables(3).value(),is_day:u.variables(4).value()}},c=o.current.weather_code;let d="",_="",h="";if(ot&&typeof c=="number"){const g=Object.entries(ot).find(([v])=>Number(v)===c);if(g){const[,v]=g;o.current.is_day===1?(d=v.day.description,_=v.day.image,h="lightblue"):(d=v.night.description,_=v.night.image,h="lightgray")}}console.log(`
Current time: ${o.current.time}`,`
Current weather_code: ${o.current.weather_code}`,`
Current weather description: ${d}`,`
Current temperature_2m: ${o.current.temperature_2m}`,`
Current wind_speed_10m: ${o.current.wind_speed_10m}`,`
Current rain: ${o.current.rain}`,`
Is it day? ${o.current.is_day===1?"Yes":"No"}`);const p=o.current.wind_speed_10m<=.2?"calm":o.current.wind_speed_10m<=1.5?"light air":o.current.wind_speed_10m<=3.3?"light breeze":o.current.wind_speed_10m<=5.4?"gentle breeze":o.current.wind_speed_10m<=7.9?"moderate breeze":o.current.wind_speed_10m<=10.7?"fresh breeze":o.current.wind_speed_10m<=13.8?"strong breeze":o.current.wind_speed_10m<=17.1?"near gale":o.current.wind_speed_10m<=20.7?"gale":o.current.wind_speed_10m<=24.4?"severe gale":o.current.wind_speed_10m<=28.4?"storm":o.current.wind_speed_10m<=32.6?"violent storm":"hurricane",f=o.current.rain===0?"no rain":o.current.rain<2.5?"light rain":o.current.rain<7.6?"moderate rain":o.current.rain<50?"heavy rain":o.current.rain<100?"very heavy rain":"extreme rain",m=document.getElementById($t);if(m){const g=`${d} ${Math.round(o.current.temperature_2m)}°C<br>
    wind ${Math.round(o.current.wind_speed_10m)} m/s (${p})<br>
    rain ${o.current.rain.toFixed(1)} mm (${f})`;m.innerHTML=`<img src="${_}" alt="${d}" class="logo grey" style="background:${h};border-radius:10px;" /><br>
    ${g}`,b(`${g}`)}})();const Te=[{text:"UK Met Office",url:"https://weather.metoffice.gov.uk/forecast/gbuqpg6k1#?nearestTo=Grampound%20(Cornwall)"},{text:"YR.no",url:"https://www.yr.no/en/forecast/daily-table/2-2648227/United%20Kingdom/England/Cornwall/Grampound"}];(async()=>{try{const e=await(await fetch("https://photos.grampound-pc.gov.uk/repack.php?id=weatherWarningRSS")).json();if(e.length>0){const t=document.getElementById(Rt);t&&(e.length===1?(t.innerHTML+='<span style="color:orange;font-weight:bold;">⚠️ Weather Warning</span>',T("⚠️ Weather Warning")):(t.innerHTML+=`<span style="color:orange;font-weight:bold;">⚠️ ${e.length} Weather Warnings</span>`,T(`${e.length} ⚠️ Weather Warnings`)));const r=e.sort(([,,,s],[,,,a])=>new Date(s).getTime()-new Date(a).getTime()).map(([s,a,,l])=>({text:`(${vn(new Date(l))}) ${s}`,url:a}));N("weather-links","Forecasts",[...Te,...r])}else N("weather-links","Forecasts",Te)}catch(n){console.error("Error fetching weather warnings:",n),N("weather-links","Forecasts",Te)}})();const rr="https://check-for-flooding.service.gov.uk/target-area/114WAFT1W02A00",Ct="flood-info",St="flood-warning-button";function sr(){return`
    <a href="${rr}" target="_blank" class="flex-item">
        <button id="${St}">Check for flood warnings for Grampound.</button>
        <p id="${Ct}">
            River data loading...
        </p>
    </a>
    `}function at(n=50,e=8,t=22){return n=Math.round((t-2)*(n/100)),`
    <svg width="${e}px" height = "${t}px" xmlns = "http://www.w3.org/2000/svg" >
        <rect x="0" y="0" width="${e}" height="${t}" fill="#e0e0e0" stroke="#000" stroke-width="1" />
        <rect x="1" y="${t-n-1}" width = "${e-2}" height="${n}" fill="#385E8B" />
    </svg>
    `}(async()=>{try{const e=await(await fetch("https://photos.grampound.org.uk/repack.php?id=EAfloodgaugeWidget")).text(),t=document.getElementById(St);t&&e.trim()!==""&&(t.innerHTML="Check for Gov.uk flood alerts<br><br>"+e);const r=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();r===""?b("EA flood gauge: ","none"):(b("EA flood gauge: ",r),T("Flood warning"))}catch(n){console.error("Error fetching flood gauge widget:",n)}})();(async()=>{const n="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=trenowth",e="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=tregony";let t,r;try{const[_,h]=await Promise.all([fetch(n),fetch(e)]);t=await _.json(),r=await h.json()}catch(_){console.error("Error fetching river level data:",_)}const s=document.getElementById(Ct);var a="River Fal height",l=!1;if(t&&typeof t.riverHeight=="number"&&typeof t.riverHeightHigh=="number"&&typeof t.riverHeightLow=="number"){if(t.riverHeight>=t.riverHeightHigh)a=a+'<br><span style="color:red">Trenowth '+t.riverHeight+" m (HIGH)</span>",T("River Fal level HIGH at Trenowth");else if(t.riverHeight<=t.riverHeightLow)a=a+'<br><span style="color:red">Trenowth '+t.riverHeight+" m (LOW)</span>",T("River Fal level LOW at Trenowth");else{var i=t.riverHeightHigh-t.riverHeightLow;i===0&&(i=1e-4);var u=t.riverHeight-t.riverHeightLow,o=Math.round(100*(u/i));a=a+"<br>Trenowth "+t.riverHeight.toFixed(2)+" m"+at(o)}l=!0}if(r&&typeof r.riverHeight=="number"&&typeof r.riverHeightHigh=="number"&&typeof r.riverHeightLow=="number"){if(r.riverHeight>=r.riverHeightHigh)a=a+'<br><span style="color:red">Tregony '+r.riverHeight+" m (HIGH)</span>",T("River Fal level HIGH at Tregony");else if(r.riverHeight<=r.riverHeightLow)a=a+'<br><span style="color:red">Tregony '+r.riverHeight+" m (LOW)</span>",T("River Fal level LOW at Tregony");else{var i=r.riverHeightHigh-r.riverHeightLow;i===0&&(i=1e-4);var u=r.riverHeight-r.riverHeightLow,c=Math.round(100*(u/i));a=a+"<br>Tregony "+r.riverHeight.toFixed(2)+" m"+at(c)}l=!0}const d=a.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();l?s?(s.innerHTML=a,b(d)):console.log(a):(s&&(s.innerHTML="River level data not available",b("invalid river level data")),console.error("Invalid river level data"))})();async function ir(){return await(await fetch("https://photos.grampound.org.uk/repack.php?id=grampoundwaterDOM")).text()}let Le="";function or(){return""}document.addEventListener("DOMContentLoaded",()=>{ir().then(n=>{Le=n;const e=document.querySelector("#water-quality-traffic-light");e&&(e.innerHTML=Le+'<div style="margin-left: 10px;">Get more detail on Floodmapper<br>or SWW ↗</div>',ar(Le)&&T("⚠️ Sewage alert in River Fal"))})});function ar(n){const e=/<div[^>]*style="[^"]*background-color:red[^"]*opacity:(\d*\.?\d*)[^"]*"/,t=n.match(e);return t&&t[1]!==void 0?parseFloat(t[1])===1:!1}const cr=""+new URL("../Water-quality-sewage.png",import.meta.url).href;function lr(){return`
    <a href="#" id="sewage-links" target="_blank" class="flex-item">
        <div id="water-quality-traffic-light">
            ${or()}
            <img src="${cr}" class="logo" alt="Sewage discharges logo" />
        </div>
        <p>Water quality for the River Fal.</p>
    </a>
    `}N("sewage-links","Sewage map",[{text:"Floodmapper",url:"https://www.floodmapper.co.uk/data-explorer/search-sewage-report/1bfb1dc2-aaf8-11ee-baa2-0242ac140003/Grampound"},{text:"SWW overflow map",url:"https://www.southwestwater.co.uk/environment/rivers-and-bathing-waters/waterfitlive/storm-overflow-map"}]);const xt="search-container",ur="search-box",At="search-button";function dr(){return`
    <li class="flex-item">
        <div id="${xt}"></div>
        <p>Search for an address or place in Grampound with Creed.</p>
    </li>
    `}let K=document.createElement("input");K.type="text";K.id=`${ur}`;K.placeholder="Find an address or place...";let z=document.createElement("button");z.textContent="Search";z.id=`${At}`;z.onclick=()=>{const e=`https://www.openstreetmap.org/search?query=${encodeURIComponent(`${K.value} "Grampound with Creed"`)}&zoom=19&minlon=-4.903727173805238&minlat=50.298594007719345&maxlon=-4.900551438331605&maxlat=50.29984131703836#map=17/50.298894/-4.900718`;window.open(e,"_blank")};K.addEventListener("keydown",n=>{n.key==="Enter"&&typeof z.onclick=="function"&&z.click()});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("#app");if(n){const e=document.createElement("div");e.style.marginBottom="1em",e.appendChild(K),e.appendChild(z),n.prepend(e)}});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(`#${xt}`);n&&(n.appendChild(K),n.appendChild(z),n.style.marginBottom="1em")});document.addEventListener("click",n=>{if(n.target.id===At){var t=document.getElementById("search-box");b(t?"Search button clicked: "+t.value.trim():"Search button clicked.")}});var ct;(function(n){n[n.Sunday=1]="Sunday",n[n.Monday=2]="Monday",n[n.Tuesday=3]="Tuesday",n[n.Wednesday=4]="Wednesday",n[n.Thursday=5]="Thursday",n[n.Friday=6]="Friday",n[n.Saturday=7]="Saturday"})(ct||(ct={}));const de=M("LocalNotifications",{web:()=>H(()=>import("./web-upmUen7G.js"),[],import.meta.url).then(n=>new n.LocalNotificationsWeb)}),_r=M("FCM",{web:()=>H(()=>import("./web-D9xJ3G1b.js"),[],import.meta.url).then(n=>new n.FCMWeb)}),G=M("PushNotifications",{});function hr(){return`
    <button id='notifyButton' title="Notices will help keep you updated.">add notices</button>
    `}function fr(){de.schedule({notifications:[{title:"Thank you",body:"Thank you for allowing notices from Grampound Digital Twin!",id:1,schedule:{at:new Date(Date.now()+1e3*5)},sound:"",attachments:[],actionTypeId:"",extra:null}]})}function pr(n){const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let t=document.createElement("div");t.style.background="white",t.style.padding="2em",t.style.margin="1em",t.style.borderRadius="10px",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",t.style.textAlign="center",t.style.position="relative";let r=document.createElement("h2");r.textContent="Can the Digital Twin send you notifications?",r.style.textAlign="center",t.appendChild(r);let s=document.createElement("div");s.innerHTML=`
                        <p>Notices will help keep you up to date.</p>

                        <button class="modal-ok">OK keep me posted!</button>
                        <button class="modal-close">No, not now</button>
                `,t.appendChild(s),e.appendChild(t),document.body.appendChild(e),e.querySelector(".modal-close")?.addEventListener("click",()=>{e.remove()}),e.querySelector(".modal-ok")?.addEventListener("click",()=>{e.remove(),n.click()})}document.addEventListener("DOMContentLoaded",async()=>{const n=document.getElementById("notifyButton");if(!he.isNativePlatform()){n&&n.remove(),console.log("Notifications not supported on web platform");return}const e=await de.checkPermissions();n&&(e.display==="prompt"&&(pr(n),n.addEventListener("click",async()=>{e.display!=="granted"&&(await de.requestPermissions(),gr(),(await de.checkPermissions()).display==="granted"&&(n.remove(),fr()))})),e.display==="denied"&&(b("notifications previously denied"),n.remove()),e.display==="granted"&&n.remove())});async function mr(){await G.addListener("registration",n=>{console.info("Registration token: ",n.value)}),await G.addListener("registrationError",n=>{console.error("Registration error: ",n.error)}),await G.addListener("pushNotificationReceived",n=>{console.log("Push notification received: ",n)}),await G.addListener("pushNotificationActionPerformed",n=>{console.log("Push notification action performed",n.actionId,n.inputValue)})}async function gr(){try{let e=await G.checkPermissions();if(e.receive==="prompt"&&(e=await G.requestPermissions()),e.receive!=="granted")throw new Error("User denied permissions!");await G.register(),_r.subscribeTo({topic:"gdt"}).then(t=>console.log('subscribed to topic "gdt"'+t)).catch(t=>console.log(t))}catch{console.log("Error registering for push notifications (probably running in a browser)")}}async function wr(){const n=await G.getDeliveredNotifications();console.log("delivered notifications",n)}(async()=>{try{await mr(),await wr()}catch{console.log("Error adding push notifications (probably running in a browser)")}})();const vr=""+new URL("../traffic.svg",import.meta.url).href,xe="traffic-incidents",yr="https://photos.grampound-pc.gov.uk/repack.php?id=trafficCheck";function br(){return`
    <a href="#" id="traffic-links" target="_blank" class="flex-item">
            <img src="${vr}" class="logo" alt="Sewage discharges logo" />
        <p>Traffic updates for Cornwall</p>
        <div id="${xe}"></div>
    </a>
    `}async function Er(){try{const e=await(await fetch(yr)).text();if(console.log("fetched police traffic updates"),e===""||e.includes("error")){b("Error fetching police traffic updates");return}if(e==="0"){console.log("No police traffic updates found");const t=document.getElementById(xe);t&&(t.innerHTML='<span style="color:green;font-weight:bold;">No traffic incidents</span>')}if(e==="1"){const t=document.getElementById(xe);t&&(t.innerHTML='<span style="color:orange;font-weight:bold;">⚠️ Traffic incidents</span>'),T("⚠️ Police traffic incidents found")}}catch(n){console.error("Error fetching police traffic updates:",n)}}window.onload=()=>{Er()};N("traffic-links","Traffic updates",[{text:"Police incidents",url:"https://news.devon-cornwall.police.uk/traffic-watch/"},{text:"Planned roadworks & events",url:"https://api-gb.one.network/embedded/?lon=-4.90025&lat=50.29854&zoom=13&options={%22organisationID%22%3A1025%2C%22embedded%22%3Atrue%2C%22data%22%3A{%22layersActive%22%3A[%22INCIDENTS_LIVE_INCIDENT%22%2C%22INCIDENTS_LIVE_ACCIDENT%22%2C%22INCIDENTS_LIVE_TRAFFIC_CONGESTION%22%2C%22INCIDENTS_LIVE_HEALTH_EMERGENCY%22%2C%22INCIDENTS_LIVE_ROADCLOSURE%22%2C%22INCIDENTS_LIVE_LANECLOSURE%22%2C%22INCIDENTS_LIVE_HGVCLOSURE%22%2C%22INCIDENTS_LIVE_INFRASTRUCTURE_ISSUE%22%2C%22TM_LAYER_ROADCLOSURE_LIVE%22%2C%22TM_LAYER_DIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_HGVDIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_TEMPORARYONEWAY_LIVE%22%2C%22TM_LAYER_BRIDGECLOSURE_LIVE%22%2C%22TM_LAYER_LANECLOSURE_LIVE%22%2C%22TM_LAYER_ROADAHEADCLOSED_LIVE%22%2C%22TM_LAYER_ACCESS_ONLY_LIVE%22%2C%22TM_LAYER_GRITTING_LIVE%22%2C%22TM_LAYER_WIDENED_FOOTPATH_LIVE%22%2C%22TM_LAYER_FOOTWAYCLOSURE_LIVE%22%2C%22TM_LAYER_TOWAWAYZONE_LIVE%22%2C%22TM_LAYER_CLEARWAY_LIVE%22%2C%22TM_LAYER_NOUTURN_LIVE%22%2C%22TM_LAYER_NOLEFTTURN_LIVE%22%2C%22TM_LAYER_NORIGHTTURN_LIVE%22%2C%22TM_LAYER_NOVEHICLEACCESS_LIVE%22%2C%22TM_LAYER_REVERSALONEWAY_LIVE%22%2C%22TM_LAYER_TEMPORARYSPEEDLIMIT_LIVE%22%2C%22TM_LAYER_HEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WIDTHRESTRICTION_LIVE%22%2C%22TM_LAYER_LENGTHRESTRICTION_LIVE%22%2C%22TM_LAYER_TEMPPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSION_BUSWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONONEWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSIONWEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_PREFERRED_ACCESS_LIVE%22%2C%22TM_LAYER_EMERGENCY_ACCESS_ROUTE_LIVE%22%2C%22TM_LAYER_PEDESTRIAN_ZONE_LIVE%22%2C%22TM_LAYER_CLOSURE_CROSSING_LIVE%22%2C%22TM_LAYER_CYCLE_LANE_LIVE%22%2C%22TM_LAYER_TWOWAYSIGNALS_LIVE%22%2C%22TM_LAYER_MULTIWAYSIGNALS_LIVE%22%2C%22TM_LAYER_STOPANDGO_LIVE%22%2C%22TM_LAYER_GIVEANDTAKE_LIVE%22%2C%22TM_LAYER_PRIORITYSIGNS_LIVE%22%2C%22TM_LAYER_CONVOYWORKING_LIVE%22%2C%22TM_LAYER_WORKSSTOP_LIVE%22%2C%22ROADWORKS_CURRENT%22%2C%22TM_LAYER_ENTITY_AGRICULTURAL_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_AIR_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_CARNIVAL_PARADE_STREET_LIVE%22%2C%22TM_LAYER_ENTITY_CHRISTMAS_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_CRUISE_SHIP_LIVE%22%2C%22TM_LAYER_ENTITY_CYCLING_LIVE%22%2C%22TM_LAYER_ENTITY_ENTERTAINMENT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_FESTIVAL_LIVE%22%2C%22TM_LAYER_ENTITY_FILMING_LIVE%22%2C%22TM_LAYER_ENTITY_FOOTBALL_LIVE%22%2C%22TM_LAYER_ENTITY_FUNERAL_LIVE%22%2C%22TM_LAYER_ENTITY_HORSE_RACING_LIVE%22%2C%22TM_LAYER_ENTITY_MARKET_LIVE%22%2C%22TM_LAYER_ENTITY_MOTOR_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_POLLING_STATION_LIVE%22%2C%22TM_LAYER_ENTITY_REMEMBRANCE_PARADE_LIVE%22%2C%22TM_LAYER_ENTITY_ROYAL_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_RUGBY_LIVE%22%2C%22TM_LAYER_ENTITY_RUNNING_LIVE%22%2C%22TM_LAYER_ENTITY_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_OTHER_PUBLIC_EVENTS_LIVE%22]}%2C%22embedID%22%3A%22B9I9JDD9J9%22%2C%22system%22%3A{%22delayedLoad%22%3Afalse%2C%22historicWorksEnabled%22%3Afalse%2C%22tileServer%22%3A%22%24{region}-prd-%24{source}%24{randomizer}.one.network%22}%2C%22dateRange%22%3A%22today%22}"},{text:"Google traffic",url:"https://www.google.com/maps/@50.3053698,-4.9023496,12z/data=!5m1!1e1?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"}]);var Ir=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ot=function(n,e,t,r){function s(a){return a instanceof t?a:new t((function(l){l(a)}))}return new(t||(t=Promise))((function(a,l){function i(c){try{o(r.next(c))}catch(d){l(d)}}function u(c){try{o(r.throw(c))}catch(d){l(d)}}function o(c){c.done?a(c.value):s(c.value).then(i,u)}o((r=r.apply(n,e||[])).next())}))},kt=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(o){return function(c){return u([o,c])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(t=0)),t;)try{if(r=1,s&&(a=o[0]&2?s.return:o[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,o[1])).done)return a;switch(s=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return t.label++,{value:o[1],done:!1};case 5:t.label++,s=o[1],o=[0];continue;case 7:o=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){t.label=o[1];break}if(o[0]===6&&t.label<a[1]){t.label=a[1],a=o;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(o);break}a[2]&&t.ops.pop(),t.trys.pop();continue}o=e.call(n,t)}catch(c){o=[6,c],s=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},lt=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))},Tr="ionicpwaelements",_e,Nt,I=!1,Ae=!1,B=function(n,e){return function(){}},Lr=function(n,e){return function(){}},$r="{visibility:hidden}.hydrated{visibility:inherit}",ut={},Rr="http://www.w3.org/2000/svg",Cr="http://www.w3.org/1999/xhtml",Sr=function(n){return n!=null},He=function(n){return n=typeof n,n==="object"||n==="function"};function Pt(n){var e,t,r;return(r=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&r!==void 0?r:void 0}var xr=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var s=null,a=!1,l=!1,i=[],u=function(d){for(var _=0;_<d.length;_++)s=d[_],Array.isArray(s)?u(s):s!=null&&typeof s!="boolean"&&((a=typeof n!="function"&&!He(s))&&(s=String(s)),a&&l?i[i.length-1].$text$+=s:i.push(a?Oe(null,s):s),l=a)};if(u(t),e){var o=e.className||e.class;o&&(e.class=typeof o!="object"?o:Object.keys(o).filter((function(d){return o[d]})).join(" "))}var c=Oe(n,null);return c.$attrs$=e,i.length>0&&(c.$children$=i),c},Oe=function(n,e){var t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t},Ar={},Or=function(n){return n&&n.$tag$===Ar},kr=function(n,e){return n!=null&&!He(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n},Nr=function(n){return U(n).$hostElement$},us=function(n,e,t){var r=Nr(n);return{emit:function(s){return Dt(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:s})}}},Dt=function(n,e,t){var r=w.ce(e,t);return n.dispatchEvent(r),r},dt=new WeakMap,Pr=function(n,e,t){var r=me.get(n);ss&&t?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,me.set(n,r)},Dr=function(n,e,t,r){var s,a=Ht(e),l=me.get(a);if(n=n.nodeType===11?n:k,l)if(typeof l=="string"){n=n.head||n;var i=dt.get(n),u=void 0;if(i||dt.set(n,i=new Set),!i.has(a)){{u=k.createElement("style"),u.innerHTML=l;var o=(s=w.$nonce$)!==null&&s!==void 0?s:Pt(k);o!=null&&u.setAttribute("nonce",o),n.insertBefore(u,n.querySelector("link"))}i&&i.add(a)}}else n.adoptedStyleSheets.includes(l)||(n.adoptedStyleSheets=lt(lt([],n.adoptedStyleSheets,!0),[l],!1));return a},Hr=function(n){var e=n.$cmpMeta$,t=n.$hostElement$,r=e.$flags$,s=B("attachStyles",e.$tagName$),a=Dr(t.shadowRoot?t.shadowRoot:t.getRootNode(),e);r&10&&(t["s-sc"]=a,t.classList.add(a+"-h")),s()},Ht=function(n,e){return"sc-"+n.$tagName$},_t=function(n,e,t,r,s,a){if(t!==r){var l=ft(n,e),i=e.toLowerCase();if(e==="class"){var u=n.classList,o=ht(t),c=ht(r);u.remove.apply(u,o.filter((function(p){return p&&!c.includes(p)}))),u.add.apply(u,c.filter((function(p){return p&&!o.includes(p)})))}else if(e==="style"){for(var d in t)(!r||r[d]==null)&&(d.includes("-")?n.style.removeProperty(d):n.style[d]="");for(var d in r)(!t||r[d]!==t[d])&&(d.includes("-")?n.style.setProperty(d,r[d]):n.style[d]=r[d])}else if(e==="ref")r&&r(n);else if(!l&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):ft(we,i)?e=i.slice(2):e=i[2]+e.slice(3),t&&w.rel(n,e,t,!1),r&&w.ael(n,e,r,!1);else{var _=He(r);if((l||_&&r!==null)&&!s)try{if(n.tagName.includes("-"))n[e]=r;else{var h=r??"";e==="list"?l=!1:(t==null||n[e]!=h)&&(n[e]=h)}}catch{}r==null||r===!1?(r!==!1||n.getAttribute(e)==="")&&n.removeAttribute(e):(!l||a&4||s)&&!_&&(r=r===!0?"":r,n.setAttribute(e,r))}}},jr=/\s/,ht=function(n){return n?n.split(jr):[]},jt=function(n,e,t,r){var s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,a=n&&n.$attrs$||ut,l=e.$attrs$||ut;for(r in a)r in l||_t(s,r,a[r],void 0,t,e.$flags$);for(r in l)_t(s,r,a[r],l[r],t,e.$flags$)},je=function(n,e,t,r){var s=e.$children$[t],a=0,l,i;if(s.$text$!==null)l=s.$elm$=k.createTextNode(s.$text$);else{if(I||(I=s.$tag$==="svg"),l=s.$elm$=k.createElementNS(I?Rr:Cr,s.$tag$),I&&s.$tag$==="foreignObject"&&(I=!1),jt(null,s,I),Sr(_e)&&l["s-si"]!==_e&&l.classList.add(l["s-si"]=_e),s.$children$)for(a=0;a<s.$children$.length;++a)i=je(n,s,a),i&&l.appendChild(i);s.$tag$==="svg"?I=!1:l.tagName==="foreignObject"&&(I=!0)}return l},Bt=function(n,e,t,r,s,a){var l=n,i;for(l.shadowRoot&&l.tagName===Nt&&(l=l.shadowRoot);s<=a;++s)r[s]&&(i=je(null,t,s),i&&(r[s].$elm$=i,l.insertBefore(i,e)))},Ft=function(n,e,t){for(var r=e;r<=t;++r){var s=n[r];if(s){var a=s.$elm$;Wt(s),a&&a.remove()}}},Br=function(n,e,t,r){for(var s=0,a=0,l=e.length-1,i=e[0],u=e[l],o=r.length-1,c=r[0],d=r[o],_;s<=l&&a<=o;)i==null?i=e[++s]:u==null?u=e[--l]:c==null?c=r[++a]:d==null?d=r[--o]:le(i,c)?(re(i,c),i=e[++s],c=r[++a]):le(u,d)?(re(u,d),u=e[--l],d=r[--o]):le(i,d)?(re(i,d),n.insertBefore(i.$elm$,u.$elm$.nextSibling),i=e[++s],d=r[--o]):le(u,c)?(re(u,c),n.insertBefore(u.$elm$,i.$elm$),u=e[--l],c=r[++a]):(_=je(e&&e[a],t,a),c=r[++a],_&&i.$elm$.parentNode.insertBefore(_,i.$elm$));s>l?Bt(n,r[o+1]==null?null:r[o+1].$elm$,t,r,a,o):a>o&&Ft(e,s,l)},le=function(n,e){return n.$tag$===e.$tag$},re=function(n,e){var t=e.$elm$=n.$elm$,r=n.$children$,s=e.$children$,a=e.$tag$,l=e.$text$;l===null?(I=a==="svg"?!0:a==="foreignObject"?!1:I,jt(n,e,I),r!==null&&s!==null?Br(t,r,e,s):s!==null?(n.$text$!==null&&(t.textContent=""),Bt(t,null,e,s,0,s.length-1)):r!==null&&Ft(r,0,r.length-1),I&&a==="svg"&&(I=!1)):n.$text$!==l&&(t.data=l)},Wt=function(n){n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(Wt)},Fr=function(n,e){var t=n.$hostElement$,r=n.$vnode$||Oe(null,null),s=Or(e)?e:xr(null,null,e);Nt=t.tagName,s.$tag$=null,s.$flags$|=4,n.$vnode$=s,s.$elm$=r.$elm$=t.shadowRoot||t,_e=t["s-sc"],re(r,s)},Yt=function(n,e){e&&!n.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(t){return n.$onRenderResolve$=t})))},ge=function(n,e){if(n.$flags$|=16,n.$flags$&4){n.$flags$|=512;return}Yt(n,n.$ancestorComponent$);var t=function(){return Wr(n,e)};return os(t)},Wr=function(n,e){var t=B("scheduleUpdate",n.$cmpMeta$.$tagName$),r=n.$lazyInstance$,s;return e&&(n.$flags$|=256,n.$queuedListeners$&&(n.$queuedListeners$.map((function(a){var l=a[0],i=a[1];return Be(r,l,i)})),n.$queuedListeners$=void 0)),t(),Yr(s,(function(){return Gr(n,r,e)}))},Yr=function(n,e){return qr(n)?n.then(e):e()},qr=function(n){return n instanceof Promise||n&&n.then&&typeof n.then=="function"},Gr=function(n,e,t){return Ot(void 0,void 0,void 0,(function(){var r,s,a,l,i,u,o;return kt(this,(function(c){return s=n.$hostElement$,a=B("update",n.$cmpMeta$.$tagName$),l=s["s-rc"],t&&Hr(n),i=B("render",n.$cmpMeta$.$tagName$),Ur(n,e),l&&(l.map((function(d){return d()})),s["s-rc"]=void 0),i(),a(),u=(r=s["s-p"])!==null&&r!==void 0?r:[],o=function(){return zr(n)},u.length===0?o():(Promise.all(u).then(o),n.$flags$|=4,u.length=0),[2]}))}))},Ur=function(n,e,t){try{e=e.render(),n.$flags$&=-17,n.$flags$|=2,Fr(n,e)}catch(r){A(r,n.$hostElement$)}return null},zr=function(n){n.$cmpMeta$.$tagName$;var e=n.$hostElement$,t=B(),r=n.$lazyInstance$,s=n.$ancestorComponent$;n.$flags$&64?t():(n.$flags$|=64,Gt(e),Be(r,"componentDidLoad"),t(),n.$onReadyResolve$(e),s||qt()),n.$onInstanceResolve$(e),n.$onRenderResolve$&&(n.$onRenderResolve$(),n.$onRenderResolve$=void 0),n.$flags$&512&&We((function(){return ge(n,!1)})),n.$flags$&=-517},ds=function(n){{var e=U(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&ge(e,!1),t}},qt=function(n){Gt(k.documentElement),We((function(){return Dt(we,"appload",{detail:{namespace:Tr}})}))},Be=function(n,e,t){if(n&&n[e])try{return n[e](t)}catch(r){A(r)}},Gt=function(n){return n.classList.add("hydrated")},Mr=function(n,e){return U(n).$instanceValues$.get(e)},Kr=function(n,e,t,r){var s=U(n),a=s.$instanceValues$.get(e),l=s.$flags$,i=s.$lazyInstance$;t=kr(t,r.$members$[e][0]);var u=Number.isNaN(a)&&Number.isNaN(t),o=t!==a&&!u;(!(l&8)||a===void 0)&&o&&(s.$instanceValues$.set(e,t),i&&(l&18)===2&&ge(s,!1))},Ut=function(n,e,t){if(e.$members$){var r=Object.entries(e.$members$),s=n.prototype;if(r.map((function(l){var i=l[0],u=l[1][0];u&31||t&2&&u&32?Object.defineProperty(s,i,{get:function(){return Mr(this,i)},set:function(o){Kr(this,i,o,e)},configurable:!0,enumerable:!0}):t&1&&u&64&&Object.defineProperty(s,i,{value:function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var d=U(this);return d.$onInstancePromise$.then((function(){var _;return(_=d.$lazyInstance$)[i].apply(_,o)}))}})})),t&1){var a=new Map;s.attributeChangedCallback=function(l,i,u){var o=this;w.jmp((function(){var c=a.get(l);if(o.hasOwnProperty(c))u=o[c],delete o[c];else if(s.hasOwnProperty(c)&&typeof o[c]=="number"&&o[c]==u)return;o[c]=u===null&&typeof o[c]=="boolean"?!1:u}))},n.observedAttributes=r.filter((function(l){l[0];var i=l[1];return i[0]&15})).map((function(l){var i=l[0],u=l[1],o=u[1]||i;return a.set(o,i),o}))}}return n},Qr=function(n,e,t,r,s){return Ot(void 0,void 0,void 0,(function(){var a,l,i,u,o,c,d;return kt(this,(function(_){switch(_.label){case 0:return(e.$flags$&32)!==0?[3,3]:(e.$flags$|=32,s=rs(t),s.then?(a=Lr(),[4,s]):[3,2]);case 1:s=_.sent(),a(),_.label=2;case 2:s.isProxied||(Ut(s,t,2),s.isProxied=!0),l=B("createInstance",t.$tagName$),e.$flags$|=8;try{new s(e)}catch(h){A(h)}e.$flags$&=-9,l(),s.style&&(i=s.style,u=Ht(t),me.has(u)||(o=B("registerStyles",t.$tagName$),Pr(u,i,!!(t.$flags$&1)),o())),_.label=3;case 3:return c=e.$ancestorComponent$,d=function(){return ge(e,!0)},c&&c["s-rc"]?c["s-rc"].push(d):d(),[2]}}))}))},Xr=function(n){if((w.$flags$&1)===0){var e=U(n),t=e.$cmpMeta$,r=B("connectedCallback",t.$tagName$);if(e.$flags$&1)zt(n,e,t.$listeners$);else{e.$flags$|=1;for(var s=n;s=s.parentNode||s.host;)if(s["s-p"]){Yt(e,e.$ancestorComponent$=s);break}t.$members$&&Object.entries(t.$members$).map((function(a){var l=a[0],i=a[1][0];if(i&31&&n.hasOwnProperty(l)){var u=n[l];delete n[l],n[l]=u}})),Qr(n,e,t)}r()}},Jr=function(n){if((w.$flags$&1)===0){var e=U(n),t=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map((function(r){return r()})),e.$rmListeners$=void 0),Be(t,"disconnectedCallback")}},Zr=function(n,e){e===void 0&&(e={});var t,r=B(),s=[],a=e.exclude||[],l=we.customElements,i=k.head,u=i.querySelector("meta[charset]"),o=k.createElement("style"),c=[],d,_=!0;Object.assign(w,e),w.$resourcesUrl$=new URL(e.resourcesUrl||"./",k.baseURI).href,n.map((function(p){p[1].map((function(f){var m={$flags$:f[0],$tagName$:f[1],$members$:f[2],$listeners$:f[3]};m.$members$=f[2],m.$listeners$=f[3];var g=m.$tagName$,v=(function(F){Ir(W,F);function W(L){var oe=F.call(this,L)||this;return L=oe,ns(L,m),m.$flags$&1&&L.attachShadow({mode:"open"}),oe}return W.prototype.connectedCallback=function(){var L=this;d&&(clearTimeout(d),d=null),_?c.push(this):w.jmp((function(){return Xr(L)}))},W.prototype.disconnectedCallback=function(){var L=this;w.jmp((function(){return Jr(L)}))},W.prototype.componentOnReady=function(){return U(this).$onReadyPromise$},W})(HTMLElement);m.$lazyBundleId$=p[0],!a.includes(g)&&!l.get(g)&&(s.push(g),l.define(g,Ut(v,m,1)))}))}));{o.innerHTML=s+$r,o.setAttribute("data-styles","");var h=(t=w.$nonce$)!==null&&t!==void 0?t:Pt(k);h!=null&&o.setAttribute("nonce",h),i.insertBefore(o,u?u.nextSibling:i.firstChild)}_=!1,c.length?c.map((function(p){return p.connectedCallback()})):w.jmp((function(){return d=setTimeout(qt,30)})),r()},zt=function(n,e,t,r){t&&t.map((function(s){var a=s[0],l=s[1],i=s[2],u=es(n,a),o=Vr(e,i),c=ts(a);w.ael(u,l,o,c),(e.$rmListeners$=e.$rmListeners$||[]).push((function(){return w.rel(u,l,o,c)}))}))},Vr=function(n,e){return function(t){try{n.$flags$&256?n.$lazyInstance$[e](t):(n.$queuedListeners$=n.$queuedListeners$||[]).push([e,t])}catch(r){A(r)}}},es=function(n,e){return e&16?k.body:n},ts=function(n){return(n&2)!==0},Fe=new WeakMap,U=function(n){return Fe.get(n)},_s=function(n,e){return Fe.set(e.$lazyInstance$=n,e)},ns=function(n,e){var t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return t.$onInstancePromise$=new Promise((function(r){return t.$onInstanceResolve$=r})),t.$onReadyPromise$=new Promise((function(r){return t.$onReadyResolve$=r})),n["s-p"]=[],n["s-rc"]=[],zt(n,t,e.$listeners$),Fe.set(n,t)},ft=function(n,e){return e in n},A=function(n,e){return(0,console.error)(n,e)},$e=new Map,rs=function(n,e,t){var r=n.$tagName$.replace(/-/g,"_"),s=n.$lazyBundleId$,a=$e.get(s);if(a)return a[r];{var l=function(i){return $e.set(s,i),i[r]};switch(s){case"pwa-action-sheet":return H(()=>import("./pwa-action-sheet.entry-CIr5Aclh.js"),[],import.meta.url).then(l,A);case"pwa-camera-modal":return H(()=>import("./pwa-camera-modal.entry-DE5vDik1.js"),[],import.meta.url).then(l,A);case"pwa-toast":return H(()=>import("./pwa-toast.entry-bwQ_F2xh.js"),[],import.meta.url).then(l,A);case"pwa-camera-modal-instance":return H(()=>import("./pwa-camera-modal-instance.entry-6vvgnSNa.js"),[],import.meta.url).then(l,A);case"pwa-camera":return H(()=>import("./pwa-camera.entry-tAvySeiE.js"),[],import.meta.url).then(l,A)}}return H(()=>import("./".concat(s,".entry.js").concat("")),[],import.meta.url).then((function(i){return $e.set(s,i),i[r]}),A)},me=new Map,we=typeof window<"u"?window:{},k=we.document||{head:{}},w={$flags$:0,$resourcesUrl$:"",jmp:function(n){return n()},raf:function(n){return requestAnimationFrame(n)},ael:function(n,e,t,r){return n.addEventListener(e,t,r)},rel:function(n,e,t,r){return n.removeEventListener(e,t,r)},ce:function(n,e){return new CustomEvent(n,e)}},Mt=function(n){return Promise.resolve(n)},ss=(function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),pt=[],Kt=[],is=function(n,e){return function(t){n.push(t),Ae||(Ae=!0,w.$flags$&4?We(ke):w.raf(ke))}},mt=function(n){for(var e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){A(t)}n.length=0},ke=function(){mt(pt),mt(Kt),(Ae=pt.length>0)&&w.raf(ke)},We=function(n){return Mt().then(n)},os=is(Kt),as=function(){return Mt()},cs=function(n,e){return typeof window>"u"?Promise.resolve():as().then((function(){return Zr([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],e)}))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var n=HTMLElement;window.HTMLElement=function(){return Reflect.construct(n,[],this.constructor)},HTMLElement.prototype=n.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,n)}})();console.log("GDT Version:",gt.version);const ls=new Date().toLocaleString("en-GB",{timeZone:"Europe/London",hour12:!1});document.querySelector("#app").innerHTML=`
  <div>
    <h1>Grampound</h1>
    <p class="subtitle">
    digital twin project
    </p>
    ${hr()}

<h2>Maps and travel</h2>
  <ul class="flex-container">
    <a href="https://www.openstreetmap.org/#map=19/50.298719/-4.903400" target="_blank" class="flex-item">
      <img src="${Qt}" class="logo vanilla" alt="OpenStreetMap logo" />
      <p>Map of Grampound with Creed.</p>
    </a>

    ${dr()}

    ${Rn()}

    ${On()}

    ${br()}
  </ul>


    <h2>What's on</h2>
    <ul class="flex-container">

      <a href="https://grampoundvillagehall.org.uk/calendar.php" target="_blank" class="flex-item">
  <img src="${Xt}" class="logo" alt="Grampound calendar logo" />
      <p>Calendar of events.</p>
      </a>

    </ul>

<h2>Photos and more</h2>
    <ul class="flex-container">

      ${Nn()}

      <a href="https://www.geograph.org.uk/near/SW93484841" target="_blank" class="flex-item">
  <img src="${Zt}" class="logo vanilla" alt="Geograph logo" />
      <p>Geograph photographs of Grampound.</p>
      </a>

      <a href="https://stcrida.co.uk/cs.php" target="_blank" class="flex-item">
  <img src="${Jt}" class="logo green" alt="Creed Churchyard logo" />
      <p>Creed Churchyard search.</p>
      </a>

      </ul>

<h2>Environment</h2>
<p class="left">Updated ${ls}</p>
    <ul class="flex-container">

      ${er()}

      ${Fn()}

      ${lr()}

      ${sr()}

    </ul>
  
<h2>More info</h2>
    <ul class="flex-container">

      ${Pn()}

      ${Wn()}

      <a href="https://github.com/rdjenkins/gdt" target="_blank" class="flex-item">
  <img src="${Vt}" class="logo" alt="GitHub Logo" />
      <p>Find this project on GitHub.</p>
      </a>
      
    </ul>

    <div class="acknowledge">
      <a href="#licenses-content" id="licenses">Important information <span class="licenses-more-icon">▼</span></a>
      <div id="licenses-content" class="hidden">
        <p><b>Acknowledgements</b></p>
        <table class="responsive-table">
          <tr>
            <td>Flood alert and river level data</td>
            <td><a href="https://environment.data.gov.uk/flood-monitoring/doc/reference" target="_blank">Environment Agency Real Time flood-monitoring API</a></td>
          </tr>
          <tr>
            <td>Weather alert</td>
            <td><a href="https://weather.metoffice.gov.uk/guides/rss" target="_blank">Met Office</a></td>
          </tr>
          <tr>
            <td>Weather summary</td>
            <td><a href="https://open-meteo.com/en/docs" target="_blank">Open-Meteo</a></td>
          </tr>
          <tr>
            <td>Sewage data</td>
            <td><a href="https://www.floodmapper.co.uk/" target="_blank">Floodmapper</a></td>
          </tr>
          <tr>
            <td>Air quality</td>
            <td><a href="https://www2.purpleair.com/" target="_blank">PurpleAir sensor network</a></td>
          </tr>
          <tr>
            <td>Open StreetMap data</td>
            <td><a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a></td>
          </tr>
         <tr>
            <td>Development</td>
            <td><a href="https://deanjenkins.me/#gdtapp" target="_blank">Developer's website</a></td>
          </tr>
        </table>

        <div id="disclaimer">
          <p><b>Disclaimer</b></p>
          <p>Grampound Digital Twin does not represent any
            government agency and is not intended to replace official information.
          </p>

          <p>It provides information from, and links to, publicly available UK government data including:
            <a href="https://environment.data.gov.uk/flood-monitoring/doc/reference">Environment Agency
            Real Time flood-monitoring API</a> for flood alert and river level data,
            UK <a href="https://weather.metoffice.gov.uk/guides/rss">Met Office</a> for weather
            alerts for the South West,
            and planned roadworks from <a href="https://www.cornwall.gov.uk/transport-parking-and-streets/roads-highways-and-pavements/roadworks/">Cornwall
            Council</a>.
          </p>
        </div>

      </div>


    </div>

    <p class="version">Version: ${gt.version}</p>

  </div>
`;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("licenses")?.addEventListener("click",n=>{n.preventDefault();const e=document.getElementById("licenses-content");e?.classList.toggle("hidden");const t=document.querySelector(".licenses-more-icon");e&&t&&(e.classList.contains("hidden")?t.textContent="▼":t.textContent="▲")})});window.addEventListener("load",()=>{cs()});export{Ar as H,Ne as W,us as c,ds as f,Nr as g,xr as h,_s as r};
