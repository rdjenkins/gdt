(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(a){if(a.ep)return;a.ep=!0;const h=n(a);fetch(a.href,h)}})();const ae="/gdt/OpenStreetMap-logo-with-text.svg",_e="/gdt/gwchp-logo-coloured-600x600.png",ce="/gdt/calendar.svg",pe="/gdt/PurpleAir-Cornwall-Map.png",he="/gdt/Water-quality-sewage.png",ue="/gdt/creed-churchyard.png",de="/gdt/geograph-logo.svg",le="/gdt/github-mark.svg",me="/gdt/ISO_7001_PI_TF_006.svg",fe="/gdt/hiker.svg",ge="0.5.5",ee={version:ge};function we(_){if(Object.prototype.hasOwnProperty.call(_,"__esModule"))return _;var e=_.default;if(typeof e=="function"){var n=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(_).forEach(function(o){var a=Object.getOwnPropertyDescriptor(_,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return _[o]}})}),n}var j={};const B=2,y=4,I=4,te=4,S=new Int32Array(2),$=new Float32Array(S.buffer),W=new Float64Array(S.buffer),q=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var z;(function(_){_[_.UTF8_BYTES=1]="UTF8_BYTES",_[_.UTF16_STRING=2]="UTF16_STRING"})(z||(z={}));class A{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new A(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return S[0]=this.readInt32(e),$[0]}readFloat64(e){return S[q?0:1]=this.readInt32(e),S[q?1:0]=this.readInt32(e+4),W[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){$[0]=n,this.writeInt32(e,S[0])}writeFloat64(e,n){W[0]=n,this.writeInt32(e,S[q?0:1]),this.writeInt32(e+4,S[q?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+y+I)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<I;n++)e+=String.fromCharCode(this.readInt8(this.position_+y+n));return e}__offset(e,n){const o=e-this.readInt32(e);return n<this.readInt16(o)?this.readInt16(o+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const o=this.readInt32(e);e+=y;const a=this.bytes_.subarray(e,e+o);return n===z.UTF8_BYTES?a:this.text_decoder_.decode(a)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+y}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=I)throw new Error("FlatBuffers: file identifier must be length "+I);for(let n=0;n<I;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+y+n))return!1;return!0}createScalarList(e,n){const o=[];for(let a=0;a<n;++a){const h=e(a);h!==null&&o.push(h)}return o}createObjList(e,n){const o=[];for(let a=0;a<n;++a){const h=e(a);h!==null&&o.push(h.unpack())}return o}}class N{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=A.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const o=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<o+e+n;){const a=this.bb.capacity();this.bb=N.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(o)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,o){(this.force_defaults||n!=o)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,o){(this.force_defaults||n!=o)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,o){(this.force_defaults||n!=o)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,o){(this.force_defaults||n!==o)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,o){(this.force_defaults||n!=o)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,o){n!=o&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const o=n<<1,a=A.allocate(o);return a.setPosition(o-n),a.bytes().set(e.bytes(),o-n),a}addOffset(e){this.prep(y,0),this.writeInt32(this.offset()-e+y)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const o=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const a=2;this.addInt16(e-this.object_start);const h=(o+a)*B;this.addInt16(h);let c=0;const s=this.space;e:for(n=0;n<this.vtables.length;n++){const r=this.bb.capacity()-this.vtables[n];if(h==this.bb.readInt16(r)){for(let t=B;t<h;t+=B)if(this.bb.readInt16(s+t)!=this.bb.readInt16(r+t))continue e;c=this.vtables[n];break}}return c?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,c-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,o){const a=o?te:0;if(n){const h=n;if(this.prep(this.minalign,y+I+a),h.length!=I)throw new TypeError("FlatBuffers: file identifier must be length "+I);for(let c=I-1;c>=0;c--)this.writeInt8(h.charCodeAt(c))}this.prep(this.minalign,y+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const o=this.bb.capacity()-e,a=o-this.bb.readInt32(o);if(!(n<this.bb.readInt16(a)&&this.bb.readInt16(a+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,o){this.notNested(),this.vector_num_elems=n,this.prep(y,e*n),this.prep(o,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let o=0;o<e.length;++o){const a=e[o];if(a!==null)n.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const be=Object.freeze(Object.defineProperty({__proto__:null,Builder:N,ByteBuffer:A,get Encoding(){return z},FILE_IDENTIFIER_LENGTH:I,SIZEOF_INT:y,SIZEOF_SHORT:B,SIZE_PREFIX_LENGTH:te,float32:$,float64:W,int32:S,isLittleEndian:q},Symbol.toStringTag,{value:"Module"})),R=we(be);var f={},E={},G;function ye(){if(G)return E;G=1,Object.defineProperty(E,"__esModule",{value:!0}),E.Model=void 0;var _;return(function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",e[e.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",e[e.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",e[e.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",e[e.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",e[e.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",e[e.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",e[e.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",e[e.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",e[e.ncep_nam_conus=104]="ncep_nam_conus",e[e.icon_d2_ruc=105]="icon_d2_ruc",e[e.ecmwf_seas5=106]="ecmwf_seas5"})(_||(E.Model=_={})),E}var g={},w={},F={},H;function ve(){if(H)return F;H=1,Object.defineProperty(F,"__esModule",{value:!0}),F.Aggregation=void 0;var _;return(function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread",e[e.anomaly=12]="anomaly"})(_||(F.Aggregation=_={})),F}var P={},K;function xe(){if(K)return P;K=1,Object.defineProperty(P,"__esModule",{value:!0}),P.Unit=void 0;var _;return(function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million",e[e.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(_||(P.Unit=_={})),P}var C={},Q;function Ie(){if(Q)return C;Q=1,Object.defineProperty(C,"__esModule",{value:!0}),C.Variable=void 0;var _;return(function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",e[e.wind_u_component=149]="wind_u_component",e[e.wind_v_component=150]="wind_v_component",e[e.temperature_max24h=151]="temperature_max24h",e[e.temperature_min24h=152]="temperature_min24h",e[e.temperature_mean24h=153]="temperature_mean24h",e[e.snow_density=154]="snow_density",e[e.longwave_radiation=155]="longwave_radiation",e[e.sea_ice_cover=156]="sea_ice_cover",e[e.k_index=157]="k_index",e[e.roughness_length=158]="roughness_length",e[e.potential_evapotranspiration=159]="potential_evapotranspiration"})(_||(C.Variable=_={})),C}var Z;function ne(){if(Z)return w;Z=1;var _=w&&w.__createBinding||(Object.create?(function(r,t,i,p){p===void 0&&(p=i);var u=Object.getOwnPropertyDescriptor(t,i);(!u||("get"in u?!t.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(r,p,u)}):(function(r,t,i,p){p===void 0&&(p=i),r[p]=t[i]})),e=w&&w.__setModuleDefault||(Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t}),n=w&&w.__importStar||(function(){var r=function(t){return r=Object.getOwnPropertyNames||function(i){var p=[];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(p[p.length]=u);return p},r(t)};return function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var p=r(t),u=0;u<p.length;u++)p[u]!=="default"&&_(i,t,p[u]);return e(i,t),i}})();Object.defineProperty(w,"__esModule",{value:!0}),w.VariableWithValues=void 0;const o=n(R),a=ve(),h=xe(),c=Ie();class s{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsVariableWithValues(t,i){return(i||new s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsVariableWithValues(t,i){return t.setPosition(t.position()+o.SIZE_PREFIX_LENGTH),(i||new s).__init(t.readInt32(t.position())+t.position(),t)}variable(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint8(this.bb_pos+t):c.Variable.undefined}unit(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):h.Unit.undefined}value(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0}values(t){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readFloat32(this.bb.__vector(this.bb_pos+i)+t*4):0}valuesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}valuesArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}valuesInt64(t){const i=this.bb.__offset(this.bb_pos,12);return i?this.bb.readInt64(this.bb.__vector(this.bb_pos+i)+t*8):BigInt(0)}valuesInt64Length(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}altitude(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}aggregation(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readUint8(this.bb_pos+t):a.Aggregation.none}pressureLevel(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}depth(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}depthTo(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}ensembleMember(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}previousDay(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}}return w.VariableWithValues=s,w}var X;function Te(){if(X)return g;X=1;var _=g&&g.__createBinding||(Object.create?(function(c,s,r,t){t===void 0&&(t=r);var i=Object.getOwnPropertyDescriptor(s,r);(!i||("get"in i?!s.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(c,t,i)}):(function(c,s,r,t){t===void 0&&(t=r),c[t]=s[r]})),e=g&&g.__setModuleDefault||(Object.create?(function(c,s){Object.defineProperty(c,"default",{enumerable:!0,value:s})}):function(c,s){c.default=s}),n=g&&g.__importStar||(function(){var c=function(s){return c=Object.getOwnPropertyNames||function(r){var t=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[t.length]=i);return t},c(s)};return function(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var t=c(s),i=0;i<t.length;i++)t[i]!=="default"&&_(r,s,t[i]);return e(r,s),r}})();Object.defineProperty(g,"__esModule",{value:!0}),g.VariablesWithMonth=void 0;const o=n(R),a=ne();class h{constructor(){this.bb=null,this.bb_pos=0}__init(s,r){return this.bb_pos=s,this.bb=r,this}static getRootAsVariablesWithMonth(s,r){return(r||new h).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsVariablesWithMonth(s,r){return s.setPosition(s.position()+o.SIZE_PREFIX_LENGTH),(r||new h).__init(s.readInt32(s.position())+s.position(),s)}year(){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):0}month(){const s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt8(this.bb_pos+s):0}count(){const s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt32(this.bb_pos+s):0}variables(s,r){const t=this.bb.__offset(this.bb_pos,10);return t?(r||new a.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+s*4),this.bb):null}variablesLength(){const s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__vector_len(this.bb_pos+s):0}}return g.VariablesWithMonth=h,g}var b={},J;function Se(){if(J)return b;J=1;var _=b&&b.__createBinding||(Object.create?(function(c,s,r,t){t===void 0&&(t=r);var i=Object.getOwnPropertyDescriptor(s,r);(!i||("get"in i?!s.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(c,t,i)}):(function(c,s,r,t){t===void 0&&(t=r),c[t]=s[r]})),e=b&&b.__setModuleDefault||(Object.create?(function(c,s){Object.defineProperty(c,"default",{enumerable:!0,value:s})}):function(c,s){c.default=s}),n=b&&b.__importStar||(function(){var c=function(s){return c=Object.getOwnPropertyNames||function(r){var t=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[t.length]=i);return t},c(s)};return function(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var t=c(s),i=0;i<t.length;i++)t[i]!=="default"&&_(r,s,t[i]);return e(r,s),r}})();Object.defineProperty(b,"__esModule",{value:!0}),b.VariablesWithTime=void 0;const o=n(R),a=ne();class h{constructor(){this.bb=null,this.bb_pos=0}__init(s,r){return this.bb_pos=s,this.bb=r,this}static getRootAsVariablesWithTime(s,r){return(r||new h).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsVariablesWithTime(s,r){return s.setPosition(s.position()+o.SIZE_PREFIX_LENGTH),(r||new h).__init(s.readInt32(s.position())+s.position(),s)}time(){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):BigInt("0")}timeEnd(){const s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt64(this.bb_pos+s):BigInt("0")}interval(){const s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt32(this.bb_pos+s):0}variables(s,r){const t=this.bb.__offset(this.bb_pos,10);return t?(r||new a.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+t)+s*4),this.bb):null}variablesLength(){const s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__vector_len(this.bb_pos+s):0}}return b.VariablesWithTime=h,b}var Y;function Oe(){if(Y)return f;Y=1;var _=f&&f.__createBinding||(Object.create?(function(r,t,i,p){p===void 0&&(p=i);var u=Object.getOwnPropertyDescriptor(t,i);(!u||("get"in u?!t.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(r,p,u)}):(function(r,t,i,p){p===void 0&&(p=i),r[p]=t[i]})),e=f&&f.__setModuleDefault||(Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t}),n=f&&f.__importStar||(function(){var r=function(t){return r=Object.getOwnPropertyNames||function(i){var p=[];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(p[p.length]=u);return p},r(t)};return function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var p=r(t),u=0;u<p.length;u++)p[u]!=="default"&&_(i,t,p[u]);return e(i,t),i}})();Object.defineProperty(f,"__esModule",{value:!0}),f.WeatherApiResponse=void 0;const o=n(R),a=ye(),h=Te(),c=Se();class s{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsWeatherApiResponse(t,i){return(i||new s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsWeatherApiResponse(t,i){return t.setPosition(t.position()+o.SIZE_PREFIX_LENGTH),(i||new s).__init(t.readInt32(t.position())+t.position(),t)}latitude(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb_pos+t):0}longitude(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb_pos+t):0}elevation(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb_pos+t):0}generationTimeMilliseconds(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}locationId(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}model(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readUint8(this.bb_pos+t):a.Model.undefined}utcOffsetSeconds(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0}timezone(t){const i=this.bb.__offset(this.bb_pos,18);return i?this.bb.__string(this.bb_pos+i,t):null}timezoneAbbreviation(t){const i=this.bb.__offset(this.bb_pos,20);return i?this.bb.__string(this.bb_pos+i,t):null}current(t){const i=this.bb.__offset(this.bb_pos,22);return i?(t||new c.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}daily(t){const i=this.bb.__offset(this.bb_pos,24);return i?(t||new c.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}hourly(t){const i=this.bb.__offset(this.bb_pos,26);return i?(t||new c.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}minutely15(t){const i=this.bb.__offset(this.bb_pos,28);return i?(t||new c.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}monthly(t){const i=this.bb.__offset(this.bb_pos,30);return i?(t||new h.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}}return f.WeatherApiResponse=s,f}var U;function ke(){if(U)return j;U=1;var _=j&&j.__awaiter||function(c,s,r,t){function i(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function T(d){try{l(t.next(d))}catch(m){u(m)}}function v(d){try{l(t.throw(d))}catch(m){u(m)}}function l(d){d.done?p(d.value):i(d.value).then(T,v)}l((t=t.apply(c,s||[])).next())})};Object.defineProperty(j,"__esModule",{value:!0}),j.fetchWeatherApi=h;const e=R,n=Oe(),o=c=>new Promise(s=>setTimeout(s,c));function a(c){return _(this,arguments,void 0,function*(s,r=3,t=.5,i=2,p={}){const u=[500,502,504],T=[400,429];let v=0,l=yield fetch(s,p);for(;u.includes(l.status);){if(v++,v>=r)throw new Error(l.statusText);const d=Math.min(t*Math.pow(2,v),i)*1e3;yield o(d),l=yield fetch(s,p)}if(T.includes(l.status)){const d=yield l.json();throw"reason"in d?new Error(d.reason):new Error(l.statusText)}return l})}function h(c,s){return _(this,arguments,void 0,function*(r,t,i=3,p=.2,u=2,T={}){const v=new URLSearchParams(t);v.set("format","flatbuffers");const l=yield a(`${r}?${v.toString()}`,i,p,u,T),d=new e.ByteBuffer(new Uint8Array(yield l.arrayBuffer())),m=[];let x=0;for(;x<d.capacity();){d.setPosition(x);const oe=d.readInt32(d.position());m.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(d)),x+=oe+4}return m})}return j}var se=ke();const M={0:{day:{description:"Sunny",image:"http://openweathermap.org/img/wn/01d@2x.png"},night:{description:"Clear",image:"http://openweathermap.org/img/wn/01n@2x.png"}},1:{day:{description:"Mainly Sunny",image:"http://openweathermap.org/img/wn/01d@2x.png"},night:{description:"Mainly Clear",image:"http://openweathermap.org/img/wn/01n@2x.png"}},2:{day:{description:"Partly Cloudy",image:"http://openweathermap.org/img/wn/02d@2x.png"},night:{description:"Partly Cloudy",image:"http://openweathermap.org/img/wn/02n@2x.png"}},3:{day:{description:"Cloudy",image:"http://openweathermap.org/img/wn/03d@2x.png"},night:{description:"Cloudy",image:"http://openweathermap.org/img/wn/03n@2x.png"}},45:{day:{description:"Foggy",image:"http://openweathermap.org/img/wn/50d@2x.png"},night:{description:"Foggy",image:"http://openweathermap.org/img/wn/50n@2x.png"}},48:{day:{description:"Rime Fog",image:"http://openweathermap.org/img/wn/50d@2x.png"},night:{description:"Rime Fog",image:"http://openweathermap.org/img/wn/50n@2x.png"}},51:{day:{description:"Light Drizzle",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Light Drizzle",image:"http://openweathermap.org/img/wn/09n@2x.png"}},53:{day:{description:"Drizzle",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Drizzle",image:"http://openweathermap.org/img/wn/09n@2x.png"}},55:{day:{description:"Heavy Drizzle",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Heavy Drizzle",image:"http://openweathermap.org/img/wn/09n@2x.png"}},56:{day:{description:"Light Freezing Drizzle",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Light Freezing Drizzle",image:"http://openweathermap.org/img/wn/09n@2x.png"}},57:{day:{description:"Freezing Drizzle",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Freezing Drizzle",image:"http://openweathermap.org/img/wn/09n@2x.png"}},61:{day:{description:"Light Rain",image:"http://openweathermap.org/img/wn/10d@2x.png"},night:{description:"Light Rain",image:"http://openweathermap.org/img/wn/10n@2x.png"}},63:{day:{description:"Rain",image:"http://openweathermap.org/img/wn/10d@2x.png"},night:{description:"Rain",image:"http://openweathermap.org/img/wn/10n@2x.png"}},65:{day:{description:"Heavy Rain",image:"http://openweathermap.org/img/wn/10d@2x.png"},night:{description:"Heavy Rain",image:"http://openweathermap.org/img/wn/10n@2x.png"}},66:{day:{description:"Light Freezing Rain",image:"http://openweathermap.org/img/wn/10d@2x.png"},night:{description:"Light Freezing Rain",image:"http://openweathermap.org/img/wn/10n@2x.png"}},67:{day:{description:"Freezing Rain",image:"http://openweathermap.org/img/wn/10d@2x.png"},night:{description:"Freezing Rain",image:"http://openweathermap.org/img/wn/10n@2x.png"}},71:{day:{description:"Light Snow",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Light Snow",image:"http://openweathermap.org/img/wn/13n@2x.png"}},73:{day:{description:"Snow",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Snow",image:"http://openweathermap.org/img/wn/13n@2x.png"}},75:{day:{description:"Heavy Snow",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Heavy Snow",image:"http://openweathermap.org/img/wn/13n@2x.png"}},77:{day:{description:"Snow Grains",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Snow Grains",image:"http://openweathermap.org/img/wn/13n@2x.png"}},80:{day:{description:"Light Showers",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Light Showers",image:"http://openweathermap.org/img/wn/09n@2x.png"}},81:{day:{description:"Showers",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Showers",image:"http://openweathermap.org/img/wn/09n@2x.png"}},82:{day:{description:"Heavy Showers",image:"http://openweathermap.org/img/wn/09d@2x.png"},night:{description:"Heavy Showers",image:"http://openweathermap.org/img/wn/09n@2x.png"}},85:{day:{description:"Light Snow Showers",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Light Snow Showers",image:"http://openweathermap.org/img/wn/13n@2x.png"}},86:{day:{description:"Snow Showers",image:"http://openweathermap.org/img/wn/13d@2x.png"},night:{description:"Snow Showers",image:"http://openweathermap.org/img/wn/13n@2x.png"}},95:{day:{description:"Thunderstorm",image:"http://openweathermap.org/img/wn/11d@2x.png"},night:{description:"Thunderstorm",image:"http://openweathermap.org/img/wn/11n@2x.png"}},96:{day:{description:"Light Thunderstorms With Hail",image:"http://openweathermap.org/img/wn/11d@2x.png"},night:{description:"Light Thunderstorms With Hail",image:"http://openweathermap.org/img/wn/11n@2x.png"}},99:{day:{description:"Thunderstorm With Hail",image:"http://openweathermap.org/img/wn/11d@2x.png"},night:{description:"Thunderstorm With Hail",image:"http://openweathermap.org/img/wn/11n@2x.png"}}};console.log("GDT Version:",ee.version);let je="<div id='PurpleAirWidget_262781_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI'>Loading nearest sensor ...</div>",Le=new Date().toLocaleString("en-GB",{timeZone:"Europe/London",hour12:!1});const Ee=new URLSearchParams(window.location.search),Fe=!!Ee.has("nolog");let D="",Pe="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound,%20Truro,%20UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=Truro,%20UK&toLat=50.263195&toLng=-5.051041&toPlaceId=ChIJdRpa1XwQa0gRtAcdle9HY2E",Ce="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound, Truro, UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=St Austell, Saint Austell, UK&toLat=50.3403779&toLng=-4.7834252&toPlaceId=ChIJYwb4Jy1Aa0gRiCTxrSBmq2c",ie="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004840%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",re="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004707%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt";async function qe(){return await(await fetch("https://deanjenkins.me/repack.php?id=grampoundwaterDOM")).text()}async function L(_,e=""){if(Fe)return console.log("GDT Logging disabled"),"nolog";let n="";return n=await(await fetch("https://deanjenkins.me/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`lg=${encodeURIComponent(_)}&u=${encodeURIComponent(e)}`})).text(),console.log("GDT Logging:",n),n}const k=document.createElement("input");k.type="text";k.placeholder="Find an address or place...";const O=document.createElement("button");O.textContent="Search";O.id="search-button";O.onclick=()=>{const e=`https://www.openstreetmap.org/search?query=${encodeURIComponent(`${k.value} "Grampound with Creed"`)}&zoom=19&minlon=-4.903727173805238&minlat=50.298594007719345&maxlon=-4.900551438331605&maxlat=50.29984131703836#map=17/50.298894/-4.900718`;window.open(e,"_blank")};k.addEventListener("keydown",_=>{_.key==="Enter"&&typeof O.onclick=="function"&&O.click()});document.addEventListener("DOMContentLoaded",()=>{const _=document.querySelector("#app");if(_){const e=document.createElement("div");e.style.marginBottom="1em",e.appendChild(k),e.appendChild(O),_.prepend(e)}});document.querySelector("#app").innerHTML=`
  <div>
    <h1>Grampound</h1>
    <p class="subtitle">
    digital twin project
    </p>

<h2>Maps and travel</h2>
    <ul class="flex-container">
      <a href="https://www.openstreetmap.org/#map=19/50.298719/-4.903400" target="_blank" class="flex-item">
        <img src="${ae}" class="logo vanilla" alt="OpenStreetMap logo" />
      <p>Map of Grampound with Creed.</p>
      </a>

    <li class="flex-item">
        <div id="search-container"></div>
      <p>Search for an address or place in Grampound with Creed.</p>
    </li>

    <li class="flex-item">
    <img src="${me}" alt="bus icon" class="icon"><br>
      <div style="margin-top:1em;">
        <label for="bus-toggle" id="bus-toggle-traveline" style="font-weight:bold;">Traveline</label>
        <label class="switch">
          <input type="checkbox" id="bus-toggle">
          <span class="slider"></span>
        </label>
        <span id="bus-toggle-firstbus" style="margin-left:0.5em;">First Bus</span>
        <div id="bus-links" style="margin-top:0.5em;">
          <a href="${ie}" target="_blank"><button>To Truro</button></a>
          <a href="${re}" target="_blank"><button>To St Austell</button></a>
        </div>
        <p>Buses from Grampound.</p>
      </div>
    </li>

    <li class="flex-item">
    <img src="${fe}" alt="hiker icon" class="icon"><br>
      <a href="https://umap.openstreetmap.fr/en/map/grampound-walk-pepo-trenowth_947847#14/50.3122/-4.8960" target="_blank">
        <button>Trenowth (1½ hrs)</button>
      </a>
      <a href="https://umap.openstreetmap.fr/en/map/creed-circuit-avoiding-most-of-fore-street_955200#15/50.2940/-4.8909" target="_blank">
        <button>Creed Circuit (1 hr)</button>
      </a>
      <p>Circular walks near Grampound.</p>
    </li>
    </ul>


    <h2>What's on</h2>
    <ul class="flex-container">

      <a href="https://grampoundvillagehall.org.uk/calendar.php" target="_blank" class="flex-item">
        <img src="${ce}" class="logo" alt="Grampound calendar logo" />
      <p>Calendar of events.</p>
      </a>

    </ul>

<h2>Photos and more</h2>
    <ul class="flex-container">

      <a href="https://photos.grampound.org.uk/photos.php" target="_blank" class="flex-item">
        <img src="${_e}" class="logo green" alt="Grampound Heritage Project logo" />
      <p>Grampound Heritage Project photo archive.</p>
      </a>

      <a href="https://www.geograph.org.uk/near/SW93484841" target="_blank" class="flex-item">
        <img src="${de}" class="logo vanilla" alt="Geograph logo" />
      <p>Geograph photographs of Grampound.</p>
      </a>

      <a href="https://stcrida.co.uk/cs.php" target="_blank" class="flex-item">
        <img src="${ue}" class="logo green" alt="Creed Churchyard logo" />
      <p>Creed Churchyard search.</p>
      </a>

      </ul>

<h2>Environment</h2>
<p class="left">Updated ${Le}</p>
    <ul class="flex-container">

      <a href="https://weather.metoffice.gov.uk/forecast/gbuqpg6k1#?nearestTo=Grampound%20(Cornwall)" target="_blank" class="flex-item">
        <p id="weather-info">
          Weather (UK Met Office)
        </p>
      </a>

      <a href="https://map.purpleair.com/air-quality-standards-us-epa-aqi?opt=%2F1%2Flp%2Fa10%2Fp604800%2FcC0#8.63/50.2076/-5.023" target="_blank" class="flex-item">
        <img src="${pe}" class="logo" alt="Air Quality, PurpleAir logo" />
      <p>${je}</p>
      <p>Air quality in Cornwall.</p>
      </a>

      <a href="https://www.floodmapper.co.uk/data-explorer/search-sewage-report/1bfb1dc2-aaf8-11ee-baa2-0242ac140003/Grampound" target="_blank" class="flex-item">
        <div id="water-quality-traffic-light">
          ${D}
          <img src="${he}" class="logo" alt="Sewage discharges logo" />
        </div>
      <p>Water quality for the River Fal.</p>
      </a>

      <a href="https://check-for-flooding.service.gov.uk/target-area/114WAFT1W02A00" target="_blank" class="flex-item">
        <button>Go to gov.UK for flood warnings for Grampound.</button>
        <p id="flood-info">
          Flood data loading...
        </p>
      </a>

      </ul>
  
<h2>More info</h2>
<p class="left">Find out more about this project and how to contribute.</p>
    <ul class="flex-container">

    <li class="flex-item">
        <button id="why-button">
          Why?
        </button>
        <p id="why-content">Keep hitting the why button to learn more.</p>
      </li>

      <a href="https://github.com/rdjenkins/gdt/discussions" target="_blank" class="flex-item">
        <img src="${le}" class="logo" alt="GitHub Logo" />
      <p>Find this project on GitHub.</p>
      </a>
      
    </ul>

    <p class="version">Version: ${ee.version}</p>
  </div>
`;document.addEventListener("DOMContentLoaded",()=>{const _=document.getElementById("bus-toggle"),e=document.getElementById("bus-links"),n=document.getElementById("bus-toggle-traveline"),o=document.getElementById("bus-toggle-firstbus");_&&e&&_.addEventListener("change",()=>{let a=!!(_&&_.checked);console.log("Bus toggle changed to",a),a?(o.style.fontWeight="bold",n.style.fontWeight="normal",e.innerHTML=`
          <a href="${Pe}" target="_blank"><button>To Truro</button></a>
          <a href="${Ce}" target="_blank"><button>To St Austell</button></a>
        `):(o.style.fontWeight="normal",n.style.fontWeight="bold",e.innerHTML=`
          <a href="${ie}" target="_blank"><button>To Truro</button></a>
          <a href="${re}" target="_blank"><button>To St Austell</button></a>
        `)})});let V=-1;document.addEventListener("DOMContentLoaded",()=>{const _=["To help us find useful local information quickly.","To demonstrate how open data and digital tools can benefit our community.","To make environmental and travel data more accessible for Grampound.","To encourage us to engage with local resources and events.","To provide a single place for maps, weather, air and water quality, and more.","To support transparency and awareness about local environmental conditions.","To experiment with digital projects for rural areas.","To make it easier to plan journeys and walks around Grampound.","To showcase how technology can connect people with their local area.","To encourage contributions and improvements from anyone who wants to get involved.","To share some excellent digital resources that already exist for Grampound.","To show what is possible with open data and community effort.","To demonstrate how small digital projects can beat 'big tech' for local relevance.","This could be a public touch screen in the village hall or shop.","To help everyone find local info fast.","To show how sharing info online can help our town.","To make weather and nature facts easy to find for Grampound.","To get people excited about local events and places.","To have one website for maps, weather, and how clean our air and water is.","To be honest and open about our local environment.","To try out new tech ideas for places like ours.","To make planning walks and trips around Grampound simple.","To show how tech can help people connect with where they live.","To share other cool websites that already exist for Grampound.","To show what we can do when we share information and work together.","To prove a small local website can be more useful than big websites or apps for our town.","This could also be a public computer screen in the village hall or shop.","To find out what's happening in the village this week.","To prove a local site can be more useful than big tech apps.","To make planning walks, bus trips, and journeys simpler.","To be the one-stop website for everything in Grampound.","To help you find local info quickly and easily.","To show what we can achieve when we share information and work together."],e=document.getElementById("why-button"),n=document.getElementById("why-content");e&&n&&e.addEventListener("click",()=>{let o;if(_.length>1)do o=Math.floor(Math.random()*_.length);while(o===V);else o=0;V=o,n.textContent=_[o],e.innerText="Why again?",L("Why button clicked: ",String(o))})});document.addEventListener("click",_=>{const e=_.target,n=e.closest("a");n&&n instanceof HTMLAnchorElement&&L("Hyperlink clicked: ",n.href),e.id==="search-button"&&L("Search button clicked: "+(k.value||"").trim())});document.addEventListener("DOMContentLoaded",()=>{const _=document.querySelector("#search-container");_&&(_.appendChild(k),_.appendChild(O),_.style.marginBottom="1em")});document.addEventListener("DOMContentLoaded",()=>{qe().then(_=>{D=_;const e=document.querySelector("#water-quality-traffic-light");e&&(e.innerHTML=D+"<div>Get more detail on floodmapper ↗</div>")})});const Ae={latitude:50.2993,longitude:-4.9005,models:"ukmo_seamless",current:["weather_code","temperature_2m","wind_speed_10m","rain","is_day"],timezone:"Europe/London",forecast_days:1,wind_speed_unit:"ms"},Re="https://api.open-meteo.com/v1/forecast";(async()=>{const e=(await se.fetchWeatherApi(Re,Ae))[0],n=e.latitude(),o=e.longitude(),a=e.elevation(),h=e.timezone(),c=e.timezoneAbbreviation(),s=e.utcOffsetSeconds();console.log(`
Coordinates: ${n}°N ${o}°E`,`
Elevation: ${a}m asl`,`
Timezone: ${h} ${c}`,`
Timezone difference to GMT+0: ${s}s`);const r=e.current(),t={current:{time:new Date((Number(r.time())+s)*1e3),weather_code:r.variables(0).value(),temperature_2m:r.variables(1).value(),wind_speed_10m:r.variables(2).value(),rain:r.variables(3).value(),is_day:r.variables(4).value()}},i=t.current.weather_code;let p="",u="",T="";if(M&&typeof i=="number"){const m=Object.entries(M).find(([x])=>Number(x)===i);if(m){const[,x]=m;t.current.is_day===1?(p=x.day.description,u=x.day.image,T="lightblue"):(p=x.night.description,u=x.night.image,T="lightgray")}}console.log(`
Current time: ${t.current.time}`,`
Current weather_code: ${t.current.weather_code}`,`
Current weather description: ${p}`,`
Current temperature_2m: ${t.current.temperature_2m}`,`
Current wind_speed_10m: ${t.current.wind_speed_10m}`,`
Current rain: ${t.current.rain}`,`
Is it day? ${t.current.is_day===1?"Yes":"No"}`);const v=t.current.wind_speed_10m<=.2?"calm":t.current.wind_speed_10m<=1.5?"light air":t.current.wind_speed_10m<=3.3?"light breeze":t.current.wind_speed_10m<=5.4?"gentle breeze":t.current.wind_speed_10m<=7.9?"moderate breeze":t.current.wind_speed_10m<=10.7?"fresh breeze":t.current.wind_speed_10m<=13.8?"strong breeze":t.current.wind_speed_10m<=17.1?"near gale":t.current.wind_speed_10m<=20.7?"gale":t.current.wind_speed_10m<=24.4?"severe gale":t.current.wind_speed_10m<=28.4?"storm":t.current.wind_speed_10m<=32.6?"violent storm":"hurricane",l=t.current.rain===0?"no rain":t.current.rain<2.5?"light rain":t.current.rain<7.6?"moderate rain":t.current.rain<50?"heavy rain":t.current.rain<100?"very heavy rain":"extreme rain",d=document.getElementById("weather-info");if(d){const m=`${p} ${Math.round(t.current.temperature_2m)}°C<br>
    wind ${Math.round(t.current.wind_speed_10m)} m/s (${v})<br>
    rain ${t.current.rain.toFixed(1)} mm (${l})`;d.innerHTML=`<img src="${u}" alt="${p}" class="logo grey" style="background:${T};border-radius:10px;" /><br>
    ${m}`,L(`${m}`)}})();(async()=>{const _={latitude:50.2993,longitude:-4.9005,daily:"river_discharge",forecast_days:7},o=(await se.fetchWeatherApi("https://flood-api.open-meteo.com/v1/flood",_))[0],a=o.latitude(),h=o.longitude(),c=o.elevation(),s=o.utcOffsetSeconds();console.log(`
Coordinates: ${a}°N ${h}°E`,`
Elevation: ${c}m asl`,`
Timezone difference to GMT+0: ${s}s`);const r=o.daily(),t={daily:{time:[...Array((Number(r.timeEnd())-Number(r.time()))/r.interval())].map((p,u)=>new Date((Number(r.time())+u*r.interval()+s)*1e3)),river_discharge:r.variables(0).valuesArray()}};console.log(`
Daily river flow data GloFAS`,t.daily);const i=document.getElementById("flood-info");if(i){const p=t.daily.river_discharge?t.daily.river_discharge[0]:-1,u=p===-1?"No data":p<5?"Low flow":p<10?"Medium flow":p<15?"High flow":"Very high flow";console.log(`
Next river flow: ${p} m³/s (${u})`),L(`River flow: ${p} m³/s (${u})`),i.innerHTML=p===-1?"No river flow data":`Current estimated river flow:<br>${p.toFixed(2)} m³/s<br>
    (${u})`}})();document.addEventListener("DOMContentLoaded",()=>{const _=document.createElement("script");_.src="https://www.purpleair.com/pa.widget.js?key=DX82CA29U5Z4C6HO&module=US_EPA_AQI&conversion=C0&average=10&layer=US_EPA_AQI&container=PurpleAirWidget_262781_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI",document.body.appendChild(_)});document.addEventListener("DOMContentLoaded",()=>{const _="PurpleAirWidget_262781_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI";let e=!1;const n=new MutationObserver(()=>{const a=document.getElementById(_);if(a){let h=Array.from(a.querySelectorAll("span")).find(c=>{const s=c.textContent?.trim()||"",r=!isNaN(parseFloat(s)),t=window.getComputedStyle(c).fontSize;return r&&parseFloat(t)>=60});if(h){console.log("PurpleAir Pm2.5 span found");const c=parseFloat(h.innerHTML);if(!isNaN(c)&&c<50){const s=document.createElement("span");s.classList.add("purple-air-reading"),s.textContent=h.textContent,s.style.background="green",s.style.color="white",s.style.borderRadius="1000px",s.style.padding="0.5em 0.5em",a.innerHTML="",a.appendChild(s)}if(!isNaN(c)&&c>=50&&c<100){const s=document.createElement("span");s.classList.add("purple-air-reading"),s.textContent=h.textContent,s.style.background="yellow",s.style.color="white",s.style.borderRadius="1000px",s.style.padding="0.5em 0.5em",a.innerHTML="",a.appendChild(s)}if(!isNaN(c)&&c>=100){const s=document.createElement("span");s.classList.add("purple-air-reading"),s.textContent=h.textContent,s.style.background="red",s.style.color="white",s.style.borderRadius="1000px",s.style.padding="0.5em 0.5em",a.innerHTML="",a.appendChild(s)}e===!1&&(L(`Nearest PurpleAir sensor Pm2.5 value: ${c}`),e=!0)}}}),o=document.getElementById(_);o?n.observe(o,{childList:!0,subtree:!0}):console.error("PurpleAir widget not found.")});
