(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Vt=""+new URL("../OpenStreetMap-logo-with-text.svg",import.meta.url).href,en=""+new URL("../calendar.svg",import.meta.url).href,tn=""+new URL("../creed-churchyard.png",import.meta.url).href,nn=""+new URL("../geograph-logo.svg",import.meta.url).href,rn=""+new URL("../github-mark.svg",import.meta.url).href,sn="0.8.16",bt={version:sn},on=""+new URL("../ISO_7001_PI_TF_006.svg",import.meta.url).href,an="modulepreload",cn=function(t,e){return new URL(t,e).href},ze={},D=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");s=o(n.map(c=>{if(c=cn(c,r),c in ze)return;ze[c]=!0;const d=c.endsWith(".css"),_=d?'[rel="stylesheet"]':"";if(r)for(let p=l.length-1;p>=0;p--){const h=l[p];if(h.href===c&&(!d||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${_}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":an,d||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return s.then(l=>{for(const i of l||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})};var X;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(X||(X={}));class Ee extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const ln=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},un=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:ln(t),a=()=>s()!=="web",l=d=>{const _=o.get(d);return!!(_?.platforms.has(s())||i(d))},i=d=>{var _;return(_=n.PluginHeaders)===null||_===void 0?void 0:_.find(f=>f.name===d)},u=d=>t.console.error(d),o=new Map,c=(d,_={})=>{const f=o.get(d);if(f)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),f.proxy;const p=s(),h=i(d);let m;const g=async()=>(!m&&p in _?m=typeof _[p]=="function"?m=await _[p]():m=_[p]:e!==null&&!m&&"web"in _&&(m=typeof _.web=="function"?m=await _.web():m=_.web),m),w=(b,E)=>{var P,Y;if(h){const G=h?.methods.find($=>E===$.name);if(G)return G.rtype==="promise"?$=>n.nativePromise(d,E.toString(),$):($,ce)=>n.nativeCallback(d,E.toString(),$,ce);if(b)return(P=b[E])===null||P===void 0?void 0:P.bind(b)}else{if(b)return(Y=b[E])===null||Y===void 0?void 0:Y.bind(b);throw new Ee(`"${d}" plugin is not implemented on ${p}`,X.Unimplemented)}},B=b=>{let E;const P=(...Y)=>{const G=g().then($=>{const ce=w($,b);if(ce){const le=ce(...Y);return E=le?.remove,le}else throw new Ee(`"${d}.${b}()" is not implemented on ${p}`,X.Unimplemented)});return b==="addListener"&&(G.remove=async()=>E()),G};return P.toString=()=>`${b.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:b,writable:!1,configurable:!1}),P},W=B("addListener"),I=B("removeListener"),ae=(b,E)=>{const P=W({eventName:b},E),Y=async()=>{const $=await P;I({eventName:b,callbackId:$},E)},G=new Promise($=>P.then(()=>$({remove:Y})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Y()},G},be=new Proxy({},{get(b,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?ae:W;case"removeListener":return I;default:return B(E)}}});return r[d]=be,o.set(d,{name:d,proxy:be,platforms:new Set([...Object.keys(_),...h?[p]:[]])}),be};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=s,n.handleError=u,n.isNativePlatform=a,n.isPluginAvailable=l,n.registerPlugin=c,n.Exception=Ee,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},dn=t=>t.Capacitor=un(t),se=dn(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),z=se.registerPlugin;class He{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,n);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(n),this.retainedEventArguments[e]=a}return}s.forEach(a=>a(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new se.Exception(e,X.Unimplemented)}unavailable(e="not available"){return new se.Exception(e,X.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const Me=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ke=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _n extends He{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ke(s).trim(),a=Ke(a).trim(),n[s]=a}),n}async setCookie(e){try{const n=Me(e.key),r=Me(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${a}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}z("CapacitorCookies",{web:()=>new _n});const fn=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),hn=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,a,l)=>(s[a]=t[e[l]],s),{})},pn=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[a,l]=s;let i,u;return Array.isArray(l)?(u="",l.forEach(o=>{i=e?encodeURIComponent(o):o,u+=`${a}=${i}&`}),u.slice(0,-1)):(i=e?encodeURIComponent(l):l,u=`${a}=${i}`),`${r}&${u}`},"").substr(1):null,mn=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=hn(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[l,i]of Object.entries(t.data||{}))a.set(l,i);n.body=a.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((i,u)=>{a.append(u,i)});else for(const i of Object.keys(t.data))a.append(i,t.data[i]);n.body=a;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class gn extends He{async request(e){const n=mn(e,e.webFetchExtra),r=pn(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,a=await fetch(s,n),l=a.headers.get("content-type")||"";let{responseType:i="text"}=a.ok?e:{};l.includes("application/json")&&(i="json");let u,o;switch(i){case"arraybuffer":case"blob":o=await a.blob(),u=await fn(o);break;case"json":u=await a.json();break;default:u=await a.text()}const c={};return a.headers.forEach((d,_)=>{c[_]=d}),{data:u,headers:c,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}z("CapacitorHttp",{web:()=>new gn});var Qe;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Qe||(Qe={}));var Xe;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(Xe||(Xe={}));class wn extends He{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}z("SystemBars",{web:()=>new wn});const vn=z("Toast",{web:()=>D(()=>import("./web-LiaBa09X.js"),[],import.meta.url).then(t=>new t.ToastWeb)}),he=new URLSearchParams(window.location.search),yn=!!he.has("nolog"),bn=!!he.has("QR"),Te=he.has("m")?he.get("m"):"";async function y(t,e=""){if(yn)return console.log("GDT Logging disabled:",t||" ",e||" "),"";let n="";const r=await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`lg=${encodeURIComponent(t)}&u=${encodeURIComponent(e)}`}).catch(s=>{console.log("Aborting log call: "+s)});return r?(n=await r.text(),console.log("GDT Logging:",n),n):"Cancelled"}bn&&y("QR accessed");document.addEventListener("click",t=>{let n=t.target.closest("a");if(n&&n instanceof HTMLAnchorElement){let r=n.href.endsWith("#")?n.id+" choice":n.href;y("Hyperlink clicked: ",r)}});function En(t,e){let n=document.createElement("div");n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.background="rgba(0,0,0,0.5)",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.zIndex="1000";let r=document.createElement("div");r.style.background="white",r.style.padding="2em",r.style.margin="1em",r.style.borderRadius="10px",r.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",r.style.textAlign="center",r.style.position="relative";let s=document.createElement("h2");s.textContent=t,s.style.textAlign="center",r.appendChild(s),e.forEach(l=>{let i=document.createElement("a");i.href=l.url,i.target="_blank",i.innerHTML=`<button style="margin:1em;">${l.text}</button>`,i.onclick=()=>{document.body.removeChild(n)},r.appendChild(i)});let a=document.createElement("button");a.textContent="✕",a.setAttribute("aria-label","Close"),a.style.position="absolute",a.style.top="0.2em",a.style.right="0.2em",a.style.background="transparent",a.style.border="none",a.style.fontSize="1.5em",a.style.cursor="pointer",a.onclick=()=>{document.body.removeChild(n)},r.appendChild(a),n.appendChild(r),document.body.appendChild(n)}async function N(t,e,n){let r=!1;const s=()=>{if(r)return;const a=document.getElementById(t);a?(console.log("adding "+t),a.addEventListener("click",l=>{l.preventDefault(),En(e,n)}),r=!0):console.warn("Link not found: "+t)};if(document.readyState==="complete")s();else{const a=()=>{document.readyState==="complete"?s():setTimeout(a,100)};a(),document.addEventListener("DOMContentLoaded",s)}}function Tn(t){const e=t.getDate(),n=e%10===1&&e!==11?"st":e%10===2&&e!==12?"nd":e%10===3&&e!==13?"rd":"th";return t.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/(\d+)/,`$1${n}`)}const Se=[];let Le=!1;async function Et(){if(Le||Se.length===0)return;Le=!0;const t=Se.shift();await vn.show({text:t??""}),await new Promise(e=>setTimeout(e,3e3)),Le=!1,Et()}async function L(t=""){t!==""&&(Se.push(t),Et())}Te!==""&&Te!==null&&L(Te);function Tt(){const t=document.body.scrollHeight;window.parent.postMessage({height:t},"*")}window.onload=()=>{Tt()};window.onscroll=()=>{Tt()};let Je,Ie=!1;const Ln=900*1e3;document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?(console.log("Human has gone away."),Ie=!1,Je=window.setTimeout(()=>{console.log("Timer expired."),Ie=!0},Ln)):document.visibilityState==="visible"&&(console.log("Human is here."),clearTimeout(Je),Ie&&(console.log("Reloading the page."),location.reload()))});let In="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound,%20Truro,%20UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=Truro,%20UK&toLat=50.263195&toLng=-5.051041&toPlaceId=ChIJdRpa1XwQa0gRtAcdle9HY2E",$n="https://www.firstbus.co.uk/cornwall/plan-journey/journey-planner/#/results?fromAddress=Grampound, Truro, UK&fromLat=50.2992589&fromLng=-4.8984499&fromPlaceId=ChIJaavkWhhra0gR-WQ7KozZobc&toAddress=St Austell, Saint Austell, UK&toLat=50.3403779&toLng=-4.7834252&toPlaceId=ChIJYwb4Jy1Aa0gRiCTxrSBmq2c",Cn="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004840%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Rn="https://nationaljourneyplanner.travelinesw.com/swe/trip?formik=destination%3D30004707%26mtcb0%3Dfalse%26mtcb9%3Dfalse%26origin%3D30006418&lng=en&trip=multiModalitySelected%3Dpt",Sn="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=Truro&destination%5Blocation%5D%5Blat%5D=50.263317&destination%5Blocation%5D%5Blon%5D=-5.051811&time%5Bwhen%5D=now",An="https://www.transportforcornwall.co.uk/directions?origin%5Bname%5D=Grampound&origin%5Blocation%5D%5Blat%5D=50.29898&origin%5Blocation%5D%5Blon%5D=-4.900275&destination%5Bname%5D=St+Austell&destination%5Blocation%5D%5Blat%5D=50.33814&destination%5Blocation%5D%5Blon%5D=-4.794184&time%5Bwhen%5D=now";function xn(){return`
        <li class="flex-item">
        <img src="${on}" alt="bus icon" class="icon"><br>
        <div style="margin-top:1em;">
            <div id="bus-links" style="margin-top:0.5em;">
                <a id='bus-link-truro' style="widgetlink" href="#" target="_blank"><button>To Truro</button></a>
                <a id='bus-link-st-austell' style="widgetlink" href="#" target="_blank"><button>To St Austell</button></a>
            </div>
            <p>Buses from Grampound.</p>
        </div>
        </li>
    `}N("bus-link-truro","Bus times to Truro",[{text:"Transport for Cornwall",url:Sn},{text:"First Bus",url:In},{text:"Traveline SW",url:Cn}]);N("bus-link-st-austell","Bus times to St Austell",[{text:"Transport for Cornwall",url:An},{text:"First Bus",url:$n},{text:"Traveline SW",url:Rn}]);const On=""+new URL("../hiker.svg",import.meta.url).href,je="https://photos.grampound.org.uk/repack.php?id=gpx_",kn=je+"creed_circuit_avoiding_most_of_fore_street",Nn=je+"fal_footpath__barteliver_wood__bareliver_hill",Pn=je+"grampound_walk_pepo_trenowth";function Dn(){return`
    <li class="flex-item">
    <img src="${On}" alt="hiker icon" class="icon"><br>
    <a id="fal-footpath" href="#" target="_blank">
        <button>Fal (40 mins)</button>
    </a>
    <a id="creed-circuit" href="#" target="_blank">
        <button>Creed Circuit (1 hr)</button>
    </a>
    <a id="trenowth" href="#" target="_blank">
        <button>Trenowth (1½ hrs)</button>
    </a>
    <p>Circular walks.</p>
    </li>
    `}N("creed-circuit","Creed Circuit Walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/creed-circuit-avoiding-most-of-fore-street_955200#15/50.2940/-4.8909"},{text:"Download GPX",url:kn}]);N("fal-footpath","Fal Footpath Old Hill walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/fal-footpath-barteliver-wood-bareliver-hill_1295709#16/50.2973/-4.9067"},{text:"Download GPX",url:Nn}]);N("trenowth","Trenowth walk",[{text:"View on Map",url:"https://umap.openstreetmap.fr/en/map/grampound-walk-pepo-trenowth_947847#14/50.3122/-4.8960"},{text:"Download GPX",url:Pn}]);const Hn=""+new URL("../gwchp-logo-coloured-600x600.png",import.meta.url).href;function jn(){return`
    <a id="ghp-link" href="#" target="_blank" class="flex-item">
        <img src="${Hn}" class="logo green" alt="Grampound Heritage Project logo" />
        <p>Grampound Heritage Project photo archive.</p>
    </a>
    `}N("ghp-link","Photo Archive",[{text:"Photo search",url:"https://photos.grampound.org.uk/photos.php"},{text:"Slide show",url:"https://photos.grampound.org.uk/slideshow.php"}]);const Lt="why-button";function Fn(){return`
    <li class="flex-item">
        <button class="widgetlink" id="${Lt}">
            Why?
        </button>
        <p id="why-content">Keep hitting the why button to learn more.</p>
    </li>
    `}function Ze(t){let e=t.length;for(;e!=0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}}document.addEventListener("DOMContentLoaded",()=>{const t=["To help us find useful local information quickly.","To demonstrate how open data and digital tools can benefit our community.","To make environmental and travel data more accessible for Grampound.","To encourage us to engage with local resources and events.","To provide a single place for maps, weather, air and water quality, and more.","To support transparency and awareness about local environmental conditions.","To experiment with digital projects for rural areas.","To make it easier to plan journeys and walks around Grampound.","To showcase how technology can connect people with their local area.","To encourage contributions and improvements from anyone who wants to get involved.","To share some excellent digital resources that already exist for Grampound.","To show what is possible with open data and community effort.","To demonstrate how small digital projects can beat 'big tech' for local relevance.","This could be a public touch screen in the village hall or shop.","To help everyone find local info fast.","To show how sharing info online can help our town.","To make weather and nature facts easy to find for Grampound.","To get people excited about local events and places.","To have one website for maps, weather, and how clean our air and water is.","To be honest and open about our local environment.","To try out new tech ideas for places like ours.","To make planning walks and trips around Grampound simple.","To show how tech can help people connect with where they live.","To share other cool websites that already exist for Grampound.","To show what we can do when we share information and work together.","To prove a small local website can be more useful than big websites or apps for our town.","This could also be a public computer screen in the village hall or shop.","To find out what's happening in the village this week.","To prove a local site can be more useful than big tech apps.","To make planning walks, bus trips, and journeys simpler.","To be the one-stop website for everything in Grampound.","To help you find local info quickly and easily.","To show what we can achieve when we share information and work together.","To demonstrate 'digital sovereignty' - that small local projects can beat big tech."],e=document.getElementById(Lt),n=document.getElementById("why-content");let r=[...t],s="";Ze(r);let a=Array("Why again?","But why?","Why though?","Please, why?","Why, why, why?","But really?");e&&n&&e.addEventListener("click",()=>{r.length>0||(y("Why sentences exhausted, reshuffling"),r=[...t],Ze(r)),s=r.pop()||"",e.innerText=a[Math.floor(Math.random()*a.length)],n.innerText=s,y("Why button clicked: ",s)})});const Bn=""+new URL("../PurpleAir-Cornwall-Map.png",import.meta.url).href;var Wn="Grampound";const Ve="PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI",Yn="https://www.purpleair.com/pa.widget.js?key=GK7Z257AJL4IWPJC&module=US_EPA_AQI&conversion=C0&average=10&layer=US_EPA_AQI&container=PurpleAirWidget_288300_module_US_EPA_AQI_conversion_C0_average_10_layer_US_EPA_AQI";var It,Fe,$t,It="<div id='"+Ve+"'>Loading nearest sensor ...</div>",Fe=Ve,$t=Yn;function Gn(){return It}function qn(){return`
    <a href="https://map.purpleair.com/air-quality-standards-us-epa-aqi?opt=%2F1%2Flp%2Fa10%2Fp604800%2FcC0#8.63/50.2076/-5.023" target="_blank" class="flex-item">
        <img src="${Bn}" class="logo" alt="Air Quality, PurpleAir logo" />
        <p>${Gn()}</p>
        <p>Air quality in ${Wn}.</p>
    </a>
    `}document.addEventListener("DOMContentLoaded",()=>{const t=document.createElement("script");t.id=Fe+"_script",t.src=$t,document.body.appendChild(t)});document.addEventListener("DOMContentLoaded",()=>{const t=Fe;let e=!1;const n=new MutationObserver(()=>{const s=document.getElementById(t);if(s){let a=Array.from(s.querySelectorAll("span")).find(l=>{const i=l.textContent?.trim()||"",u=!isNaN(parseFloat(i)),o=window.getComputedStyle(l).fontSize;return u&&parseFloat(o)>=50});if(a){console.log("PurpleAir Pm2.5 span found");const l=parseFloat(a.innerHTML);if(!isNaN(l)&&l<50){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="green",i.style.color="white",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i)}if(!isNaN(l)&&l>=50&&l<100){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="yellow",i.style.color="black",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i),L("Poor Air Quality")}if(!isNaN(l)&&l>=100){const i=document.createElement("span");i.classList.add("purple-air-reading"),i.textContent=a.textContent,i.style.background="red",i.style.color="white",i.style.borderRadius="1000px",i.style.padding="0.5em 0.5em",s.innerHTML="",s.appendChild(i),L("Very poor air quality")}e===!1&&(y(`Nearest PurpleAir sensor Pm2.5 value: ${l}`),e=!0)}s.querySelector("div.popup-error-help")&&(s.innerHTML="<button>Visit Purple Air Map</button>",y("PurpleAir response shows error element 'div.popup-error-help'"))}}),r=document.getElementById(t);r?n.observe(r,{childList:!0,subtree:!0}):console.error("PurpleAir widget not found.")});var Ct="message-button-for-gdt";function Un(){return`
    <li class="flex-item">
        <button class="widgetlink" id=${Ct}>
            Message
        </button>
        <p>Send us a message, feedback, or offer support.</p>
    </li>
    `}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById(Ct);t&&t.addEventListener("click",()=>{let e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let n=document.createElement("div");n.style.background="white",n.style.padding="1em",n.style.margin="1em",n.style.borderRadius="10px",n.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",n.style.textAlign="center",n.style.position="relative";let r=document.createElement("h2");r.textContent="Contact Grampound Digital Twin",r.style.textAlign="center",n.appendChild(r);let s=document.createElement("p");s.textContent="Please do not share confidential information.",s.style.textAlign="center",n.appendChild(s);let a=document.createElement("form");a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.gap="1em";let l=document.createElement("input");l.type="text",l.name="fn",l.placeholder="Your name",l.required=!1,l.style.width="100%",a.appendChild(l);let i=document.createElement("input");i.type="email",i.name="fe",i.placeholder="Your email (optional)",i.required=!1,i.style.width="100%",a.appendChild(i);let u=document.createElement("textarea");u.name="fm",u.placeholder="Your message",u.required=!0,u.rows=4,u.style.width="100%",a.appendChild(u);const o=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1;let d=document.createElement("label");d.textContent=`Checking you are human. What is ${o} + ${c}? `,d.style.marginTop="1em",d.htmlFor="arithmetic-test",a.appendChild(d);let _=document.createElement("input");_.type="number",_.id="arithmetic-test",_.required=!0,_.style.width="4em",a.appendChild(_);let f=document.createElement("button");f.type="submit",f.textContent="Send",f.style.marginTop="1em",f.disabled=!0,a.appendChild(f),_.addEventListener("input",()=>{Number(_.value)===o+c?(f.disabled=!1,f.classList.add("widgetlink")):(f.disabled=!0,f.classList.remove("widgetlink"))});let p=document.createElement("div");p.style.marginTop="1em",p.style.color="green",a.appendChild(p),a.onsubmit=async m=>{m.preventDefault(),f.disabled=!0,p.textContent="Sending...";try{const w=await(await fetch("https://photos.grampound.org.uk/repack.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`fn=${encodeURIComponent(l.value)}&fe=${encodeURIComponent(i.value)}&fm=${encodeURIComponent(u.value)}`})).text();p.textContent="Message sent! Thank you.",console.log("Message sent:",w),f.disabled=!1,a.reset()}catch{p.textContent="Error sending message. Please try again.",f.disabled=!1}},n.appendChild(a);let h=document.createElement("button");h.textContent="✕",h.setAttribute("aria-label","Close"),h.style.position="absolute",h.style.top="0.2em",h.style.right="0.2em",h.style.background="transparent",h.style.border="none",h.style.fontSize="1.5em",h.style.cursor="pointer",h.onclick=()=>{document.body.removeChild(e)},n.appendChild(h),e.appendChild(n),document.body.appendChild(e)})});function zn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Q={};const de=2,O=4,H=4,Rt=4,j=new Int32Array(2),Ae=new Float32Array(j.buffer),xe=new Float64Array(j.buffer),ne=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var pe;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(pe||(pe={}));class ie{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new ie(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return j[0]=this.readInt32(e),Ae[0]}readFloat64(e){return j[ne?0:1]=this.readInt32(e),j[ne?1:0]=this.readInt32(e+4),xe[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){Ae[0]=n,this.writeInt32(e,j[0])}writeFloat64(e,n){xe[0]=n,this.writeInt32(e,j[ne?0:1]),this.writeInt32(e+4,j[ne?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+O+H)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<H;n++)e+=String.fromCharCode(this.readInt8(this.position_+O+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=O;const s=this.bytes_.subarray(e,e+r);return n===pe.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+O}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=H)throw new Error("FlatBuffers: file identifier must be length "+H);for(let n=0;n<H;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+O+n))return!1;return!0}createScalarList(e,n){const r=[];for(let s=0;s<n;++s){const a=e(s);a!==null&&r.push(a)}return r}createObjList(e,n){const r=[];for(let s=0;s<n;++s){const a=e(s);a!==null&&r.push(a.unpack())}return r}}class Be{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=ie.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const s=this.bb.capacity();this.bb=Be.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,s=ie.allocate(r);return s.setPosition(r-n),s.bytes().set(e.bytes(),r-n),s}addOffset(e){this.prep(O,0),this.writeInt32(this.offset()-e+O)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const s=2;this.addInt16(e-this.object_start);const a=(r+s)*de;this.addInt16(a);let l=0;const i=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(a==this.bb.readInt16(u)){for(let o=de;o<a;o+=de)if(this.bb.readInt16(i+o)!=this.bb.readInt16(u+o))continue e;l=this.vtables[n];break}}return l?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,l-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const s=r?Rt:0;if(n){const a=n;if(this.prep(this.minalign,O+H+s),a.length!=H)throw new TypeError("FlatBuffers: file identifier must be length "+H);for(let l=H-1;l>=0;l--)this.writeInt8(a.charCodeAt(l))}this.prep(this.minalign,O+s),this.addOffset(e),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,s=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(s)&&this.bb.readInt16(s+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(O,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const s=e[r];if(s!==null)n.push(this.createObjectOffset(s));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}}const Mn=Object.freeze(Object.defineProperty({__proto__:null,Builder:Be,ByteBuffer:ie,get Encoding(){return pe},FILE_IDENTIFIER_LENGTH:H,SIZEOF_INT:O,SIZEOF_SHORT:de,SIZE_PREFIX_LENGTH:Rt,float32:Ae,float64:xe,int32:j,isLittleEndian:ne},Symbol.toStringTag,{value:"Module"})),oe=zn(Mn);var C={},J={},et;function Kn(){if(et)return J;et=1,Object.defineProperty(J,"__esModule",{value:!0}),J.Model=void 0;var t;return(function(e){e[e.undefined=0]="undefined",e[e.best_match=1]="best_match",e[e.gfs_seamless=2]="gfs_seamless",e[e.gfs_global=3]="gfs_global",e[e.gfs_hrrr=4]="gfs_hrrr",e[e.meteofrance_seamless=5]="meteofrance_seamless",e[e.meteofrance_arpege_seamless=6]="meteofrance_arpege_seamless",e[e.meteofrance_arpege_world=7]="meteofrance_arpege_world",e[e.meteofrance_arpege_europe=8]="meteofrance_arpege_europe",e[e.meteofrance_arome_seamless=9]="meteofrance_arome_seamless",e[e.meteofrance_arome_france=10]="meteofrance_arome_france",e[e.meteofrance_arome_france_hd=11]="meteofrance_arome_france_hd",e[e.jma_seamless=12]="jma_seamless",e[e.jma_msm=13]="jma_msm",e[e.jms_gsm=14]="jms_gsm",e[e.jma_gsm=15]="jma_gsm",e[e.gem_seamless=16]="gem_seamless",e[e.gem_global=17]="gem_global",e[e.gem_regional=18]="gem_regional",e[e.gem_hrdps_continental=19]="gem_hrdps_continental",e[e.icon_seamless=20]="icon_seamless",e[e.icon_global=21]="icon_global",e[e.icon_eu=22]="icon_eu",e[e.icon_d2=23]="icon_d2",e[e.ecmwf_ifs04=24]="ecmwf_ifs04",e[e.metno_nordic=25]="metno_nordic",e[e.era5_seamless=26]="era5_seamless",e[e.era5=27]="era5",e[e.cerra=28]="cerra",e[e.era5_land=29]="era5_land",e[e.ecmwf_ifs=30]="ecmwf_ifs",e[e.gwam=31]="gwam",e[e.ewam=32]="ewam",e[e.glofas_seamless_v3=33]="glofas_seamless_v3",e[e.glofas_forecast_v3=34]="glofas_forecast_v3",e[e.glofas_consolidated_v3=35]="glofas_consolidated_v3",e[e.glofas_seamless_v4=36]="glofas_seamless_v4",e[e.glofas_forecast_v4=37]="glofas_forecast_v4",e[e.glofas_consolidated_v4=38]="glofas_consolidated_v4",e[e.gfs025=39]="gfs025",e[e.gfs05=40]="gfs05",e[e.CMCC_CM2_VHR4=41]="CMCC_CM2_VHR4",e[e.FGOALS_f3_H_highresSST=42]="FGOALS_f3_H_highresSST",e[e.FGOALS_f3_H=43]="FGOALS_f3_H",e[e.HiRAM_SIT_HR=44]="HiRAM_SIT_HR",e[e.MRI_AGCM3_2_S=45]="MRI_AGCM3_2_S",e[e.EC_Earth3P_HR=46]="EC_Earth3P_HR",e[e.MPI_ESM1_2_XR=47]="MPI_ESM1_2_XR",e[e.NICAM16_8S=48]="NICAM16_8S",e[e.cams_europe=49]="cams_europe",e[e.cams_global=50]="cams_global",e[e.cfsv2=51]="cfsv2",e[e.era5_ocean=52]="era5_ocean",e[e.cma_grapes_global=53]="cma_grapes_global",e[e.bom_access_global=54]="bom_access_global",e[e.bom_access_global_ensemble=55]="bom_access_global_ensemble",e[e.arpae_cosmo_seamless=56]="arpae_cosmo_seamless",e[e.arpae_cosmo_2i=57]="arpae_cosmo_2i",e[e.arpae_cosmo_2i_ruc=58]="arpae_cosmo_2i_ruc",e[e.arpae_cosmo_5m=59]="arpae_cosmo_5m",e[e.ecmwf_ifs025=60]="ecmwf_ifs025",e[e.ecmwf_aifs025=61]="ecmwf_aifs025",e[e.gfs013=62]="gfs013",e[e.gfs_graphcast025=63]="gfs_graphcast025",e[e.ecmwf_wam025=64]="ecmwf_wam025",e[e.meteofrance_wave=65]="meteofrance_wave",e[e.meteofrance_currents=66]="meteofrance_currents",e[e.ecmwf_wam025_ensemble=67]="ecmwf_wam025_ensemble",e[e.ncep_gfswave025=68]="ncep_gfswave025",e[e.ncep_gefswave025=69]="ncep_gefswave025",e[e.knmi_seamless=70]="knmi_seamless",e[e.knmi_harmonie_arome_europe=71]="knmi_harmonie_arome_europe",e[e.knmi_harmonie_arome_netherlands=72]="knmi_harmonie_arome_netherlands",e[e.dmi_seamless=73]="dmi_seamless",e[e.dmi_harmonie_arome_europe=74]="dmi_harmonie_arome_europe",e[e.metno_seamless=75]="metno_seamless",e[e.era5_ensemble=76]="era5_ensemble",e[e.ecmwf_ifs_analysis=77]="ecmwf_ifs_analysis",e[e.ecmwf_ifs_long_window=78]="ecmwf_ifs_long_window",e[e.ecmwf_ifs_analysis_long_window=79]="ecmwf_ifs_analysis_long_window",e[e.ukmo_global_deterministic_10km=80]="ukmo_global_deterministic_10km",e[e.ukmo_uk_deterministic_2km=81]="ukmo_uk_deterministic_2km",e[e.ukmo_seamless=82]="ukmo_seamless",e[e.ncep_gfswave016=83]="ncep_gfswave016",e[e.ncep_nbm_conus=84]="ncep_nbm_conus",e[e.ukmo_global_ensemble_20km=85]="ukmo_global_ensemble_20km",e[e.ecmwf_aifs025_single=86]="ecmwf_aifs025_single",e[e.jma_jaxa_himawari=87]="jma_jaxa_himawari",e[e.eumetsat_sarah3=88]="eumetsat_sarah3",e[e.eumetsat_lsa_saf_msg=89]="eumetsat_lsa_saf_msg",e[e.eumetsat_lsa_saf_iodc=90]="eumetsat_lsa_saf_iodc",e[e.satellite_radiation_seamless=91]="satellite_radiation_seamless",e[e.kma_gdps=92]="kma_gdps",e[e.kma_ldps=93]="kma_ldps",e[e.kma_seamless=94]="kma_seamless",e[e.italia_meteo_arpae_icon_2i=95]="italia_meteo_arpae_icon_2i",e[e.ukmo_uk_ensemble_2km=96]="ukmo_uk_ensemble_2km",e[e.meteofrance_arome_france_hd_15min=97]="meteofrance_arome_france_hd_15min",e[e.meteofrance_arome_france_15min=98]="meteofrance_arome_france_15min",e[e.meteoswiss_icon_ch1=99]="meteoswiss_icon_ch1",e[e.meteoswiss_icon_ch2=100]="meteoswiss_icon_ch2",e[e.meteoswiss_icon_ch1_ensemble=101]="meteoswiss_icon_ch1_ensemble",e[e.meteoswiss_icon_ch2_ensemble=102]="meteoswiss_icon_ch2_ensemble",e[e.meteoswiss_icon_seamless=103]="meteoswiss_icon_seamless",e[e.ncep_nam_conus=104]="ncep_nam_conus",e[e.icon_d2_ruc=105]="icon_d2_ruc",e[e.ecmwf_seas5=106]="ecmwf_seas5",e[e.ecmwf_ec46=107]="ecmwf_ec46",e[e.ecmwf_seasonal_seamless=108]="ecmwf_seasonal_seamless",e[e.ecmwf_ifs_seamless=109]="ecmwf_ifs_seamless",e[e.jma_jaxa_mtg_fci=110]="jma_jaxa_mtg_fci",e[e.gem_hrdps_west=111]="gem_hrdps_west",e[e.ecmwf_wam=112]="ecmwf_wam",e[e.ncep_aigfs025=113]="ncep_aigfs025",e[e.ncep_aigefs025=114]="ncep_aigefs025",e[e.ncep_hgefs025_stats=115]="ncep_hgefs025_stats"})(t||(J.Model=t={})),J}var R={},S={},Z={},tt;function Qn(){if(tt)return Z;tt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.Aggregation=void 0;var t;return(function(e){e[e.none=0]="none",e[e.minimum=1]="minimum",e[e.maximum=2]="maximum",e[e.mean=3]="mean",e[e.p10=4]="p10",e[e.p25=5]="p25",e[e.median=6]="median",e[e.p75=7]="p75",e[e.p90=8]="p90",e[e.dominant=9]="dominant",e[e.sum=10]="sum",e[e.spread=11]="spread",e[e.anomaly=12]="anomaly",e[e.sot10=13]="sot10",e[e.sot90=14]="sot90",e[e.efi=15]="efi"})(t||(Z.Aggregation=t={})),Z}var V={},nt;function Xn(){if(nt)return V;nt=1,Object.defineProperty(V,"__esModule",{value:!0}),V.Probability=void 0;var t;return(function(e){e[e.none=0]="none",e[e.gt0=1]="gt0",e[e.gt0p1=2]="gt0p1",e[e.gt1=3]="gt1",e[e.gt2=4]="gt2",e[e.gt3=5]="gt3",e[e.gt4=6]="gt4",e[e.gt5=7]="gt5",e[e.gt8=8]="gt8",e[e.gt10=9]="gt10",e[e.gt15=10]="gt15",e[e.gt20=11]="gt20",e[e.gt25=12]="gt25",e[e.gt30=13]="gt30",e[e.gt35=14]="gt35",e[e.gt40=15]="gt40",e[e.gt50=16]="gt50",e[e.gt60=17]="gt60",e[e.gt75=18]="gt75",e[e.gt80=19]="gt80",e[e.gt100=20]="gt100",e[e.lt0=21]="lt0",e[e.lt0p1=22]="lt0p1",e[e.lt1=23]="lt1",e[e.ltm1=24]="ltm1",e[e.ltm2=25]="ltm2",e[e.ltm3=26]="ltm3",e[e.ltm4=27]="ltm4",e[e.ltm5=28]="ltm5",e[e.ltm8=29]="ltm8",e[e.ltm10=30]="ltm10",e[e.ltm15=31]="ltm15",e[e.ltm20=32]="ltm20",e[e.gt1stdev=33]="gt1stdev",e[e.gt1p5stdev=34]="gt1p5stdev",e[e.gt2stdev=35]="gt2stdev",e[e.lt1stdev=36]="lt1stdev",e[e.lt1p5stdev=37]="lt1p5stdev",e[e.lt2stdev=38]="lt2stdev"})(t||(V.Probability=t={})),V}var ee={},rt;function Jn(){if(rt)return ee;rt=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.Unit=void 0;var t;return(function(e){e[e.undefined=0]="undefined",e[e.celsius=1]="celsius",e[e.centimetre=2]="centimetre",e[e.cubic_metre_per_cubic_metre=3]="cubic_metre_per_cubic_metre",e[e.cubic_metre_per_second=4]="cubic_metre_per_second",e[e.degree_direction=5]="degree_direction",e[e.dimensionless_integer=6]="dimensionless_integer",e[e.dimensionless=7]="dimensionless",e[e.european_air_quality_index=8]="european_air_quality_index",e[e.fahrenheit=9]="fahrenheit",e[e.feet=10]="feet",e[e.fraction=11]="fraction",e[e.gdd_celsius=12]="gdd_celsius",e[e.geopotential_metre=13]="geopotential_metre",e[e.grains_per_cubic_metre=14]="grains_per_cubic_metre",e[e.gram_per_kilogram=15]="gram_per_kilogram",e[e.hectopascal=16]="hectopascal",e[e.hours=17]="hours",e[e.inch=18]="inch",e[e.iso8601=19]="iso8601",e[e.joule_per_kilogram=20]="joule_per_kilogram",e[e.kelvin=21]="kelvin",e[e.kilopascal=22]="kilopascal",e[e.kilogram_per_square_metre=23]="kilogram_per_square_metre",e[e.kilometres_per_hour=24]="kilometres_per_hour",e[e.knots=25]="knots",e[e.megajoule_per_square_metre=26]="megajoule_per_square_metre",e[e.metre_per_second_not_unit_converted=27]="metre_per_second_not_unit_converted",e[e.metre_per_second=28]="metre_per_second",e[e.metre=29]="metre",e[e.micrograms_per_cubic_metre=30]="micrograms_per_cubic_metre",e[e.miles_per_hour=31]="miles_per_hour",e[e.millimetre=32]="millimetre",e[e.pascal=33]="pascal",e[e.per_second=34]="per_second",e[e.percentage=35]="percentage",e[e.seconds=36]="seconds",e[e.unix_time=37]="unix_time",e[e.us_air_quality_index=38]="us_air_quality_index",e[e.watt_per_square_metre=39]="watt_per_square_metre",e[e.wmo_code=40]="wmo_code",e[e.parts_per_million=41]="parts_per_million",e[e.kilogram_per_cubic_metre=42]="kilogram_per_cubic_metre"})(t||(ee.Unit=t={})),ee}var te={},st;function Zn(){if(st)return te;st=1,Object.defineProperty(te,"__esModule",{value:!0}),te.Variable=void 0;var t;return(function(e){e[e.undefined=0]="undefined",e[e.apparent_temperature=1]="apparent_temperature",e[e.cape=2]="cape",e[e.cloud_cover=3]="cloud_cover",e[e.cloud_cover_high=4]="cloud_cover_high",e[e.cloud_cover_low=5]="cloud_cover_low",e[e.cloud_cover_mid=6]="cloud_cover_mid",e[e.daylight_duration=7]="daylight_duration",e[e.dew_point=8]="dew_point",e[e.diffuse_radiation=9]="diffuse_radiation",e[e.diffuse_radiation_instant=10]="diffuse_radiation_instant",e[e.direct_normal_irradiance=11]="direct_normal_irradiance",e[e.direct_normal_irradiance_instant=12]="direct_normal_irradiance_instant",e[e.direct_radiation=13]="direct_radiation",e[e.direct_radiation_instant=14]="direct_radiation_instant",e[e.et0_fao_evapotranspiration=15]="et0_fao_evapotranspiration",e[e.evapotranspiration=16]="evapotranspiration",e[e.freezing_level_height=17]="freezing_level_height",e[e.growing_degree_days=18]="growing_degree_days",e[e.is_day=19]="is_day",e[e.latent_heat_flux=20]="latent_heat_flux",e[e.leaf_wetness_probability=21]="leaf_wetness_probability",e[e.lifted_index=22]="lifted_index",e[e.lightning_potential=23]="lightning_potential",e[e.precipitation=24]="precipitation",e[e.precipitation_hours=25]="precipitation_hours",e[e.precipitation_probability=26]="precipitation_probability",e[e.pressure_msl=27]="pressure_msl",e[e.rain=28]="rain",e[e.relative_humidity=29]="relative_humidity",e[e.runoff=30]="runoff",e[e.sensible_heat_flux=31]="sensible_heat_flux",e[e.shortwave_radiation=32]="shortwave_radiation",e[e.shortwave_radiation_instant=33]="shortwave_radiation_instant",e[e.showers=34]="showers",e[e.snow_depth=35]="snow_depth",e[e.snow_height=36]="snow_height",e[e.snowfall=37]="snowfall",e[e.snowfall_height=38]="snowfall_height",e[e.snowfall_water_equivalent=39]="snowfall_water_equivalent",e[e.sunrise=40]="sunrise",e[e.sunset=41]="sunset",e[e.soil_moisture=42]="soil_moisture",e[e.soil_moisture_index=43]="soil_moisture_index",e[e.soil_temperature=44]="soil_temperature",e[e.surface_pressure=45]="surface_pressure",e[e.surface_temperature=46]="surface_temperature",e[e.temperature=47]="temperature",e[e.terrestrial_radiation=48]="terrestrial_radiation",e[e.terrestrial_radiation_instant=49]="terrestrial_radiation_instant",e[e.total_column_integrated_water_vapour=50]="total_column_integrated_water_vapour",e[e.updraft=51]="updraft",e[e.uv_index=52]="uv_index",e[e.uv_index_clear_sky=53]="uv_index_clear_sky",e[e.vapour_pressure_deficit=54]="vapour_pressure_deficit",e[e.visibility=55]="visibility",e[e.weather_code=56]="weather_code",e[e.wind_direction=57]="wind_direction",e[e.wind_gusts=58]="wind_gusts",e[e.wind_speed=59]="wind_speed",e[e.vertical_velocity=60]="vertical_velocity",e[e.geopotential_height=61]="geopotential_height",e[e.wet_bulb_temperature=62]="wet_bulb_temperature",e[e.river_discharge=63]="river_discharge",e[e.wave_height=64]="wave_height",e[e.wave_period=65]="wave_period",e[e.wave_direction=66]="wave_direction",e[e.wind_wave_height=67]="wind_wave_height",e[e.wind_wave_period=68]="wind_wave_period",e[e.wind_wave_peak_period=69]="wind_wave_peak_period",e[e.wind_wave_direction=70]="wind_wave_direction",e[e.swell_wave_height=71]="swell_wave_height",e[e.swell_wave_period=72]="swell_wave_period",e[e.swell_wave_peak_period=73]="swell_wave_peak_period",e[e.swell_wave_direction=74]="swell_wave_direction",e[e.pm10=75]="pm10",e[e.pm2p5=76]="pm2p5",e[e.dust=77]="dust",e[e.aerosol_optical_depth=78]="aerosol_optical_depth",e[e.carbon_monoxide=79]="carbon_monoxide",e[e.nitrogen_dioxide=80]="nitrogen_dioxide",e[e.ammonia=81]="ammonia",e[e.ozone=82]="ozone",e[e.sulphur_dioxide=83]="sulphur_dioxide",e[e.alder_pollen=84]="alder_pollen",e[e.birch_pollen=85]="birch_pollen",e[e.grass_pollen=86]="grass_pollen",e[e.mugwort_pollen=87]="mugwort_pollen",e[e.olive_pollen=88]="olive_pollen",e[e.ragweed_pollen=89]="ragweed_pollen",e[e.european_aqi=90]="european_aqi",e[e.european_aqi_pm2p5=91]="european_aqi_pm2p5",e[e.european_aqi_pm10=92]="european_aqi_pm10",e[e.european_aqi_nitrogen_dioxide=93]="european_aqi_nitrogen_dioxide",e[e.european_aqi_ozone=94]="european_aqi_ozone",e[e.european_aqi_sulphur_dioxide=95]="european_aqi_sulphur_dioxide",e[e.us_aqi=96]="us_aqi",e[e.us_aqi_pm2p5=97]="us_aqi_pm2p5",e[e.us_aqi_pm10=98]="us_aqi_pm10",e[e.us_aqi_nitrogen_dioxide=99]="us_aqi_nitrogen_dioxide",e[e.us_aqi_ozone=100]="us_aqi_ozone",e[e.us_aqi_sulphur_dioxide=101]="us_aqi_sulphur_dioxide",e[e.us_aqi_carbon_monoxide=102]="us_aqi_carbon_monoxide",e[e.sunshine_duration=103]="sunshine_duration",e[e.convective_inhibition=104]="convective_inhibition",e[e.shortwave_radiation_clear_sky=105]="shortwave_radiation_clear_sky",e[e.global_tilted_irradiance=106]="global_tilted_irradiance",e[e.global_tilted_irradiance_instant=107]="global_tilted_irradiance_instant",e[e.ocean_current_velocity=108]="ocean_current_velocity",e[e.ocean_current_direction=109]="ocean_current_direction",e[e.cloud_base=110]="cloud_base",e[e.cloud_top=111]="cloud_top",e[e.mass_density=112]="mass_density",e[e.boundary_layer_height=113]="boundary_layer_height",e[e.formaldehyde=114]="formaldehyde",e[e.glyoxal=115]="glyoxal",e[e.non_methane_volatile_organic_compounds=116]="non_methane_volatile_organic_compounds",e[e.pm10_wildfires=117]="pm10_wildfires",e[e.peroxyacyl_nitrates=118]="peroxyacyl_nitrates",e[e.secondary_inorganic_aerosol=119]="secondary_inorganic_aerosol",e[e.residential_elementary_carbon=120]="residential_elementary_carbon",e[e.total_elementary_carbon=121]="total_elementary_carbon",e[e.pm2_5_total_organic_matter=122]="pm2_5_total_organic_matter",e[e.sea_salt_aerosol=123]="sea_salt_aerosol",e[e.nitrogen_monoxide=124]="nitrogen_monoxide",e[e.thunderstorm_probability=125]="thunderstorm_probability",e[e.rain_probability=126]="rain_probability",e[e.freezing_rain_probability=127]="freezing_rain_probability",e[e.ice_pellets_probability=128]="ice_pellets_probability",e[e.snowfall_probability=129]="snowfall_probability",e[e.carbon_dioxide=130]="carbon_dioxide",e[e.methane=131]="methane",e[e.sea_level_height_msl=132]="sea_level_height_msl",e[e.sea_surface_temperature=133]="sea_surface_temperature",e[e.invert_barometer_height=134]="invert_barometer_height",e[e.hail=135]="hail",e[e.albedo=136]="albedo",e[e.precipitation_type=137]="precipitation_type",e[e.convective_cloud_base=138]="convective_cloud_base",e[e.convective_cloud_top=139]="convective_cloud_top",e[e.snow_depth_water_equivalent=140]="snow_depth_water_equivalent",e[e.secondary_swell_wave_height=141]="secondary_swell_wave_height",e[e.secondary_swell_wave_period=142]="secondary_swell_wave_period",e[e.secondary_swell_wave_peak_period=143]="secondary_swell_wave_peak_period",e[e.secondary_swell_wave_direction=144]="secondary_swell_wave_direction",e[e.tertiary_swell_wave_height=145]="tertiary_swell_wave_height",e[e.tertiary_swell_wave_period=146]="tertiary_swell_wave_period",e[e.tertiary_swell_wave_peak_period=147]="tertiary_swell_wave_peak_period",e[e.tertiary_swell_wave_direction=148]="tertiary_swell_wave_direction",e[e.wind_u_component=149]="wind_u_component",e[e.wind_v_component=150]="wind_v_component",e[e.temperature_max24h=151]="temperature_max24h",e[e.temperature_min24h=152]="temperature_min24h",e[e.temperature_mean24h=153]="temperature_mean24h",e[e.snow_density=154]="snow_density",e[e.longwave_radiation=155]="longwave_radiation",e[e.sea_ice_cover=156]="sea_ice_cover",e[e.k_index=157]="k_index",e[e.roughness_length=158]="roughness_length",e[e.potential_evapotranspiration=159]="potential_evapotranspiration",e[e.wave_peak_period=160]="wave_peak_period",e[e.temperature_max6h=161]="temperature_max6h",e[e.temperature_min6h=162]="temperature_min6h",e[e.lightning_density=163]="lightning_density",e[e.sea_ice_thickness=164]="sea_ice_thickness"})(t||(te.Variable=t={})),te}var it;function St(){if(it)return S;it=1;var t=S&&S.__createBinding||(Object.create?(function(o,c,d,_){_===void 0&&(_=d);var f=Object.getOwnPropertyDescriptor(c,d);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(o,_,f)}):(function(o,c,d,_){_===void 0&&(_=d),o[_]=c[d]})),e=S&&S.__setModuleDefault||(Object.create?(function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}):function(o,c){o.default=c}),n=S&&S.__importStar||(function(){var o=function(c){return o=Object.getOwnPropertyNames||function(d){var _=[];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[_.length]=f);return _},o(c)};return function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var _=o(c),f=0;f<_.length;f++)_[f]!=="default"&&t(d,c,_[f]);return e(d,c),d}})();Object.defineProperty(S,"__esModule",{value:!0}),S.VariableWithValues=void 0;const r=n(oe),s=Qn(),a=Xn(),l=Jn(),i=Zn();class u{constructor(){this.bb=null,this.bb_pos=0}__init(c,d){return this.bb_pos=c,this.bb=d,this}static getRootAsVariableWithValues(c,d){return(d||new u).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsVariableWithValues(c,d){return c.setPosition(c.position()+r.SIZE_PREFIX_LENGTH),(d||new u).__init(c.readInt32(c.position())+c.position(),c)}variable(){const c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readUint8(this.bb_pos+c):i.Variable.undefined}unit(){const c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readUint8(this.bb_pos+c):l.Unit.undefined}value(){const c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readFloat32(this.bb_pos+c):0}values(c){const d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readFloat32(this.bb.__vector(this.bb_pos+d)+c*4):0}valuesLength(){const c=this.bb.__offset(this.bb_pos,10);return c?this.bb.__vector_len(this.bb_pos+c):0}valuesArray(){const c=this.bb.__offset(this.bb_pos,10);return c?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}valuesInt64(c){const d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+c*8):BigInt(0)}valuesInt64Length(){const c=this.bb.__offset(this.bb_pos,12);return c?this.bb.__vector_len(this.bb_pos+c):0}altitude(){const c=this.bb.__offset(this.bb_pos,14);return c?this.bb.readInt16(this.bb_pos+c):0}aggregation(){const c=this.bb.__offset(this.bb_pos,16);return c?this.bb.readUint8(this.bb_pos+c):s.Aggregation.none}pressureLevel(){const c=this.bb.__offset(this.bb_pos,18);return c?this.bb.readInt16(this.bb_pos+c):0}depth(){const c=this.bb.__offset(this.bb_pos,20);return c?this.bb.readInt16(this.bb_pos+c):0}depthTo(){const c=this.bb.__offset(this.bb_pos,22);return c?this.bb.readInt16(this.bb_pos+c):0}ensembleMember(){const c=this.bb.__offset(this.bb_pos,24);return c?this.bb.readInt16(this.bb_pos+c):0}previousDay(){const c=this.bb.__offset(this.bb_pos,26);return c?this.bb.readInt16(this.bb_pos+c):0}probability(){const c=this.bb.__offset(this.bb_pos,28);return c?this.bb.readUint8(this.bb_pos+c):a.Probability.none}}return S.VariableWithValues=u,S}var ot;function Vn(){if(ot)return R;ot=1;var t=R&&R.__createBinding||(Object.create?(function(l,i,u,o){o===void 0&&(o=u);var c=Object.getOwnPropertyDescriptor(i,u);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(l,o,c)}):(function(l,i,u,o){o===void 0&&(o=u),l[o]=i[u]})),e=R&&R.__setModuleDefault||(Object.create?(function(l,i){Object.defineProperty(l,"default",{enumerable:!0,value:i})}):function(l,i){l.default=i}),n=R&&R.__importStar||(function(){var l=function(i){return l=Object.getOwnPropertyNames||function(u){var o=[];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[o.length]=c);return o},l(i)};return function(i){if(i&&i.__esModule)return i;var u={};if(i!=null)for(var o=l(i),c=0;c<o.length;c++)o[c]!=="default"&&t(u,i,o[c]);return e(u,i),u}})();Object.defineProperty(R,"__esModule",{value:!0}),R.VariablesWithMonth=void 0;const r=n(oe),s=St();class a{constructor(){this.bb=null,this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsVariablesWithMonth(i,u){return(u||new a).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsVariablesWithMonth(i,u){return i.setPosition(i.position()+r.SIZE_PREFIX_LENGTH),(u||new a).__init(i.readInt32(i.position())+i.position(),i)}year(){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt16(this.bb_pos+i):0}month(){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt8(this.bb_pos+i):0}count(){const i=this.bb.__offset(this.bb_pos,8);return i?this.bb.readInt32(this.bb_pos+i):0}variables(i,u){const o=this.bb.__offset(this.bb_pos,10);return o?(u||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+i*4),this.bb):null}variablesLength(){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__vector_len(this.bb_pos+i):0}}return R.VariablesWithMonth=a,R}var A={},at;function er(){if(at)return A;at=1;var t=A&&A.__createBinding||(Object.create?(function(l,i,u,o){o===void 0&&(o=u);var c=Object.getOwnPropertyDescriptor(i,u);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(l,o,c)}):(function(l,i,u,o){o===void 0&&(o=u),l[o]=i[u]})),e=A&&A.__setModuleDefault||(Object.create?(function(l,i){Object.defineProperty(l,"default",{enumerable:!0,value:i})}):function(l,i){l.default=i}),n=A&&A.__importStar||(function(){var l=function(i){return l=Object.getOwnPropertyNames||function(u){var o=[];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[o.length]=c);return o},l(i)};return function(i){if(i&&i.__esModule)return i;var u={};if(i!=null)for(var o=l(i),c=0;c<o.length;c++)o[c]!=="default"&&t(u,i,o[c]);return e(u,i),u}})();Object.defineProperty(A,"__esModule",{value:!0}),A.VariablesWithTime=void 0;const r=n(oe),s=St();class a{constructor(){this.bb=null,this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsVariablesWithTime(i,u){return(u||new a).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsVariablesWithTime(i,u){return i.setPosition(i.position()+r.SIZE_PREFIX_LENGTH),(u||new a).__init(i.readInt32(i.position())+i.position(),i)}time(){const i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt64(this.bb_pos+i):BigInt("0")}timeEnd(){const i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt64(this.bb_pos+i):BigInt("0")}interval(){const i=this.bb.__offset(this.bb_pos,8);return i?this.bb.readInt32(this.bb_pos+i):0}variables(i,u){const o=this.bb.__offset(this.bb_pos,10);return o?(u||new s.VariableWithValues).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+i*4),this.bb):null}variablesLength(){const i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__vector_len(this.bb_pos+i):0}}return A.VariablesWithTime=a,A}var ct;function tr(){if(ct)return C;ct=1;var t=C&&C.__createBinding||(Object.create?(function(u,o,c,d){d===void 0&&(d=c);var _=Object.getOwnPropertyDescriptor(o,c);(!_||("get"in _?!o.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(u,d,_)}):(function(u,o,c,d){d===void 0&&(d=c),u[d]=o[c]})),e=C&&C.__setModuleDefault||(Object.create?(function(u,o){Object.defineProperty(u,"default",{enumerable:!0,value:o})}):function(u,o){u.default=o}),n=C&&C.__importStar||(function(){var u=function(o){return u=Object.getOwnPropertyNames||function(c){var d=[];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(d[d.length]=_);return d},u(o)};return function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var d=u(o),_=0;_<d.length;_++)d[_]!=="default"&&t(c,o,d[_]);return e(c,o),c}})();Object.defineProperty(C,"__esModule",{value:!0}),C.WeatherApiResponse=void 0;const r=n(oe),s=Kn(),a=Vn(),l=er();class i{constructor(){this.bb=null,this.bb_pos=0}__init(o,c){return this.bb_pos=o,this.bb=c,this}static getRootAsWeatherApiResponse(o,c){return(c||new i).__init(o.readInt32(o.position())+o.position(),o)}static getSizePrefixedRootAsWeatherApiResponse(o,c){return o.setPosition(o.position()+r.SIZE_PREFIX_LENGTH),(c||new i).__init(o.readInt32(o.position())+o.position(),o)}latitude(){const o=this.bb.__offset(this.bb_pos,4);return o?this.bb.readFloat32(this.bb_pos+o):0}longitude(){const o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readFloat32(this.bb_pos+o):0}elevation(){const o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readFloat32(this.bb_pos+o):0}generationTimeMilliseconds(){const o=this.bb.__offset(this.bb_pos,10);return o?this.bb.readFloat32(this.bb_pos+o):0}locationId(){const o=this.bb.__offset(this.bb_pos,12);return o?this.bb.readInt64(this.bb_pos+o):BigInt("0")}model(){const o=this.bb.__offset(this.bb_pos,14);return o?this.bb.readUint8(this.bb_pos+o):s.Model.undefined}utcOffsetSeconds(){const o=this.bb.__offset(this.bb_pos,16);return o?this.bb.readInt32(this.bb_pos+o):0}timezone(o){const c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb_pos+c,o):null}timezoneAbbreviation(o){const c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__string(this.bb_pos+c,o):null}current(o){const c=this.bb.__offset(this.bb_pos,22);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}daily(o){const c=this.bb.__offset(this.bb_pos,24);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}hourly(o){const c=this.bb.__offset(this.bb_pos,26);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}minutely15(o){const c=this.bb.__offset(this.bb_pos,28);return c?(o||new l.VariablesWithTime).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}monthly(o){const c=this.bb.__offset(this.bb_pos,30);return c?(o||new a.VariablesWithMonth).__init(this.bb.__indirect(this.bb_pos+c),this.bb):null}}return C.WeatherApiResponse=i,C}var lt;function nr(){if(lt)return Q;lt=1;var t=Q&&Q.__awaiter||function(l,i,u,o){function c(d){return d instanceof u?d:new u(function(_){_(d)})}return new(u||(u=Promise))(function(d,_){function f(m){try{h(o.next(m))}catch(g){_(g)}}function p(m){try{h(o.throw(m))}catch(g){_(g)}}function h(m){m.done?d(m.value):c(m.value).then(f,p)}h((o=o.apply(l,i||[])).next())})};Object.defineProperty(Q,"__esModule",{value:!0}),Q.fetchWeatherApi=a;const e=oe,n=tr(),r=l=>new Promise(i=>setTimeout(i,l));function s(l){return t(this,arguments,void 0,function*(i,u=3,o=.5,c=2,d={}){const _=[500,502,504],f=[400,429];let p=0,h=yield fetch(i,d);for(;_.includes(h.status);){if(p++,p>=u)throw new Error(h.statusText);const m=Math.min(o*Math.pow(2,p),c)*1e3;yield r(m),h=yield fetch(i,d)}if(f.includes(h.status)){const m=yield h.json();throw"reason"in m?new Error(m.reason):new Error(h.statusText)}return h})}function a(l,i){return t(this,arguments,void 0,function*(u,o,c=3,d=.2,_=2,f={}){const p=new URLSearchParams(o);p.set("format","flatbuffers");const h=yield s(`${u}?${p.toString()}`,c,d,_,f),m=new e.ByteBuffer(new Uint8Array(yield h.arrayBuffer())),g=[];let w=0;for(;w<m.capacity();){m.setPosition(w);const B=m.readInt32(m.position());g.push(n.WeatherApiResponse.getSizePrefixedRootAsWeatherApiResponse(m)),w+=B+4}return g})}return Q}var rr=nr();const ut={0:{day:{description:"Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Clear",image:"weather-codes/01n@2x.png"}},1:{day:{description:"Mainly Sunny",image:"weather-codes/01d@2x.png"},night:{description:"Mainly Clear",image:"weather-codes/01n@2x.png"}},2:{day:{description:"Partly Cloudy",image:"weather-codes/02d@2x.png"},night:{description:"Partly Cloudy",image:"weather-codes/02n@2x.png"}},3:{day:{description:"Cloudy",image:"weather-codes/03d@2x.png"},night:{description:"Cloudy",image:"weather-codes/03n@2x.png"}},45:{day:{description:"Foggy",image:"weather-codes/50d@2x.png"},night:{description:"Foggy",image:"weather-codes/50n@2x.png"}},48:{day:{description:"Rime Fog",image:"weather-codes/50d@2x.png"},night:{description:"Rime Fog",image:"weather-codes/50n@2x.png"}},51:{day:{description:"Light Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Drizzle",image:"weather-codes/09n@2x.png"}},53:{day:{description:"Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Drizzle",image:"weather-codes/09n@2x.png"}},55:{day:{description:"Heavy Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Drizzle",image:"weather-codes/09n@2x.png"}},56:{day:{description:"Light Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Light Freezing Drizzle",image:"weather-codes/09n@2x.png"}},57:{day:{description:"Freezing Drizzle",image:"weather-codes/09d@2x.png"},night:{description:"Freezing Drizzle",image:"weather-codes/09n@2x.png"}},61:{day:{description:"Light Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Rain",image:"weather-codes/10n@2x.png"}},63:{day:{description:"Rain",image:"weather-codes/10d@2x.png"},night:{description:"Rain",image:"weather-codes/10n@2x.png"}},65:{day:{description:"Heavy Rain",image:"weather-codes/10d@2x.png"},night:{description:"Heavy Rain",image:"weather-codes/10n@2x.png"}},66:{day:{description:"Light Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Light Freezing Rain",image:"weather-codes/10n@2x.png"}},67:{day:{description:"Freezing Rain",image:"weather-codes/10d@2x.png"},night:{description:"Freezing Rain",image:"weather-codes/10n@2x.png"}},71:{day:{description:"Light Snow",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow",image:"weather-codes/13n@2x.png"}},73:{day:{description:"Snow",image:"weather-codes/13d@2x.png"},night:{description:"Snow",image:"weather-codes/13n@2x.png"}},75:{day:{description:"Heavy Snow",image:"weather-codes/13d@2x.png"},night:{description:"Heavy Snow",image:"weather-codes/13n@2x.png"}},77:{day:{description:"Snow Grains",image:"weather-codes/13d@2x.png"},night:{description:"Snow Grains",image:"weather-codes/13n@2x.png"}},80:{day:{description:"Light Showers",image:"weather-codes/09d@2x.png"},night:{description:"Light Showers",image:"weather-codes/09n@2x.png"}},81:{day:{description:"Showers",image:"weather-codes/09d@2x.png"},night:{description:"Showers",image:"weather-codes/09n@2x.png"}},82:{day:{description:"Heavy Showers",image:"weather-codes/09d@2x.png"},night:{description:"Heavy Showers",image:"weather-codes/09n@2x.png"}},85:{day:{description:"Light Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Light Snow Showers",image:"weather-codes/13n@2x.png"}},86:{day:{description:"Snow Showers",image:"weather-codes/13d@2x.png"},night:{description:"Snow Showers",image:"weather-codes/13n@2x.png"}},95:{day:{description:"Thunderstorm",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm",image:"weather-codes/11n@2x.png"}},96:{day:{description:"Light Thunderstorms With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Light Thunderstorms With Hail",image:"weather-codes/11n@2x.png"}},99:{day:{description:"Thunderstorm With Hail",image:"weather-codes/11d@2x.png"},night:{description:"Thunderstorm With Hail",image:"weather-codes/11n@2x.png"}}},Oe="weather-info",At="weather-warning";function sr(){return`
    <a href="#" id="weather-links" target="_blank" class="flex-item">
        <p id="${Oe}">
            Loading weather forecast preview ...
        </p>
        <span id="${At}"></span>
    </a>
    `}const ir={latitude:50.2993,longitude:-4.9005,models:"ukmo_seamless",current:["weather_code","temperature_2m","wind_speed_10m","rain","is_day"],timezone:"Europe/London",forecast_days:1,wind_speed_unit:"ms"},or="https://api.open-meteo.com/v1/forecast";(async()=>{const t=await rr.fetchWeatherApi(or,ir).catch(g=>{const w=document.getElementById(Oe);w&&(w.innerHTML="<button>Weather forecast</button>"),console.log("Weather forecast preview not loaded: "+g)});if(!t){console.log("No forecast data - aborting.");return}const e=t[0],n=e.latitude(),r=e.longitude(),s=e.elevation(),a=e.timezone(),l=e.timezoneAbbreviation(),i=e.utcOffsetSeconds();console.log(`
Coordinates: ${n}°N ${r}°E`,`
Elevation: ${s}m asl`,`
Timezone: ${a} ${l}`,`
Timezone difference to GMT+0: ${i}s`);const u=e.current(),o={current:{time:new Date((Number(u.time())+i)*1e3),weather_code:u.variables(0).value(),temperature_2m:u.variables(1).value(),wind_speed_10m:u.variables(2).value(),rain:u.variables(3).value(),is_day:u.variables(4).value()}},c=o.current.weather_code;let d="",_="",f="";if(ut&&typeof c=="number"){const g=Object.entries(ut).find(([w])=>Number(w)===c);if(g){const[,w]=g;o.current.is_day===1?(d=w.day.description,_=w.day.image,f="lightblue"):(d=w.night.description,_=w.night.image,f="lightgray")}}console.log(`
Current time: ${o.current.time}`,`
Current weather_code: ${o.current.weather_code}`,`
Current weather description: ${d}`,`
Current temperature_2m: ${o.current.temperature_2m}`,`
Current wind_speed_10m: ${o.current.wind_speed_10m}`,`
Current rain: ${o.current.rain}`,`
Is it day? ${o.current.is_day===1?"Yes":"No"}`);const p=o.current.wind_speed_10m<=.2?"calm":o.current.wind_speed_10m<=1.5?"light air":o.current.wind_speed_10m<=3.3?"light breeze":o.current.wind_speed_10m<=5.4?"gentle breeze":o.current.wind_speed_10m<=7.9?"moderate breeze":o.current.wind_speed_10m<=10.7?"fresh breeze":o.current.wind_speed_10m<=13.8?"strong breeze":o.current.wind_speed_10m<=17.1?"near gale":o.current.wind_speed_10m<=20.7?"gale":o.current.wind_speed_10m<=24.4?"severe gale":o.current.wind_speed_10m<=28.4?"storm":o.current.wind_speed_10m<=32.6?"violent storm":"hurricane",h=o.current.rain===0?"no rain":o.current.rain<2.5?"light rain":o.current.rain<7.6?"moderate rain":o.current.rain<50?"heavy rain":o.current.rain<100?"very heavy rain":"extreme rain",m=document.getElementById(Oe);if(m){const g=`${d} ${Math.round(o.current.temperature_2m)}°C<br>
    wind ${Math.round(o.current.wind_speed_10m)} m/s (${p})<br>
    rain ${o.current.rain.toFixed(1)} mm (${h})`;m.innerHTML=`<img src="${_}" alt="${d}" class="logo grey" style="background:${f};border-radius:10px;" /><br>
    ${g}`,y(`${g}`)}})();const $e=[{text:"UK Met Office",url:"https://weather.metoffice.gov.uk/forecast/gbuqpg6k1#?nearestTo=Grampound%20(Cornwall)"},{text:"YR.no",url:"https://www.yr.no/en/forecast/daily-table/2-2648227/United%20Kingdom/England/Cornwall/Grampound"}];function ar(t,e){for(var n=0;n<t.length;n++)if(console.log("checking warning:",t[n][0]),t[n][0].toLowerCase().includes(e.toLowerCase()))return!0;return!1}(async()=>{try{const n=await fetch("https://photos.grampound-pc.gov.uk/repack.php?id=weatherWarningRSS").catch(s=>{console.log("Weather warnings data not found: "+s)});if(!n){console.log("No weather warnings data - aborting.");return}const r=await n.json();var t="orange",e="⚠️ Weather Warning";if(r.length>0){const s=document.getElementById(At);s&&(ar(r,"red ")&&(t="red"),r.length===1?(s.innerHTML+=`<span style="color:${t};font-weight:bold;">${e}</span>`,L(e)):(s.innerHTML+=`<span style="color:${t};font-weight:bold;">${r.length} ${e}s</span>`,L(`${r.length} ${e}s`)));const a=r.sort(([,,,l],[,,,i])=>new Date(l).getTime()-new Date(i).getTime()).map(([l,i,,u])=>({text:`(${Tn(new Date(u))}) ${l}`,url:i}));N("weather-links","Forecasts",[...$e,...a])}else N("weather-links","Forecasts",$e)}catch(n){console.error("Error fetching weather warnings:",n),N("weather-links","Forecasts",$e)}})();const cr="https://check-for-flooding.service.gov.uk/target-area/114WAFT1W02A00",xt="flood-info",Ot="flood-warning-button";function lr(){return`
    <a href="${cr}" target="_blank" class="flex-item">
        <button id="${Ot}">Check for flood warnings for Grampound.</button>
        <p id="${xt}">
            River data loading...
        </p>
    </a>
    `}function dt(t=50,e=8,n=22){return t=Math.round((n-2)*(t/100)),`
    <svg width="${e}px" height = "${n}px" xmlns = "http://www.w3.org/2000/svg" >
        <rect x="0" y="0" width="${e}" height="${n}" fill="#e0e0e0" stroke="#000" stroke-width="1" />
        <rect x="1" y="${n-t-1}" width = "${e-2}" height="${t}" fill="#385E8B" />
    </svg>
    `}(async()=>{try{const t=await fetch("https://photos.grampound.org.uk/repack.php?id=EAfloodgaugeWidget").catch(s=>{console.log("EA flood alert not available: "+s)});if(!t){console.log("No EA Flood alert - aborting");return}const e=await t.text(),n=document.getElementById(Ot);n&&e.trim()!==""&&(n.innerHTML="Check for Gov.uk flood alerts<br><br>"+e);const r=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();r===""?y("EA flood gauge: ","none"):(y("EA flood gauge: ",r),L("Flood warning"))}catch(t){console.error("Error fetching flood gauge widget:",t)}})();(async()=>{const t="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=trenowth",e="https://photos.grampound-pc.gov.uk/repack.php?id=EAriverlevel&sensor=tregony";let n,r;try{const[_,f]=await Promise.all([fetch(t),fetch(e)]);n=await _.json(),r=await f.json()}catch(_){console.log("Error fetching river level data:",_)}const s=document.getElementById(xt);var a="River Fal height",l=!1;if(n&&typeof n.riverHeight=="number"&&typeof n.riverHeightHigh=="number"&&typeof n.riverHeightLow=="number"){if(n.riverHeight>=n.riverHeightHigh)a=a+'<br><span style="color:red">Trenowth '+n.riverHeight+" m (HIGH)</span>",L("River Fal level HIGH at Trenowth");else if(n.riverHeight<=n.riverHeightLow)a=a+'<br><span style="color:red">Trenowth '+n.riverHeight+" m (LOW)</span>",L("River Fal level LOW at Trenowth");else{var i=n.riverHeightHigh-n.riverHeightLow;i===0&&(i=1e-4);var u=n.riverHeight-n.riverHeightLow,o=Math.round(100*(u/i));a=a+"<br>Trenowth "+n.riverHeight.toFixed(2)+" m"+dt(o)}l=!0}if(r&&typeof r.riverHeight=="number"&&typeof r.riverHeightHigh=="number"&&typeof r.riverHeightLow=="number"){if(r.riverHeight>=r.riverHeightHigh)a=a+'<br><span style="color:red">Tregony '+r.riverHeight+" m (HIGH)</span>",L("River Fal level HIGH at Tregony");else if(r.riverHeight<=r.riverHeightLow)a=a+'<br><span style="color:red">Tregony '+r.riverHeight+" m (LOW)</span>",L("River Fal level LOW at Tregony");else{var i=r.riverHeightHigh-r.riverHeightLow;i===0&&(i=1e-4);var u=r.riverHeight-r.riverHeightLow,c=Math.round(100*(u/i));a=a+"<br>Tregony "+r.riverHeight.toFixed(2)+" m"+dt(c)}l=!0}const d=a.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();l?s?(s.innerHTML=a,y(d)):console.log(a):(s&&(s.innerHTML="River level data not available",y("invalid river level data")),console.log("Invalid river level data"))})();async function ur(){const t=await fetch("https://photos.grampound.org.uk/repack.php?id=grampoundwaterDOM").catch(n=>{console.log("No response from sewage traffic light URL: "+n)});return t?await t.text():(console.log("No sewage traffic light - aborting"),"")}let Ce="";function dr(){return""}document.addEventListener("DOMContentLoaded",()=>{ur().then(t=>{Ce=t;const e=document.querySelector("#water-quality-traffic-light");e&&(e.innerHTML=Ce+'<div style="margin-left: 10px;">Get more detail on Floodmapper<br>or SWW ↗</div>',_r(Ce)&&L("⚠️ Sewage alert in River Fal"))})});function _r(t){const e=/<div[^>]*style="[^"]*background-color:red[^"]*opacity:(\d*\.?\d*)[^"]*"/,n=t.match(e);return n&&n[1]!==void 0?parseFloat(n[1])===1:!1}const fr=""+new URL("../Water-quality-sewage.png",import.meta.url).href;function hr(){return`
    <a href="#" id="sewage-links" target="_blank" class="flex-item">
        <div id="water-quality-traffic-light">
            ${dr()}
            <img src="${fr}" class="logo" alt="Sewage discharges logo" />
        </div>
        <p>Water quality for the River Fal.</p>
    </a>
    `}N("sewage-links","Sewage map",[{text:"Floodmapper",url:"https://www.floodmapper.co.uk/data-explorer/search-sewage-report/1bfb1dc2-aaf8-11ee-baa2-0242ac140003/Grampound"},{text:"SWW overflow map",url:"https://www.southwestwater.co.uk/environment/rivers-and-bathing-waters/waterfitlive/storm-overflow-map"}]);const kt="search-container",pr="search-box",Nt="search-button";function mr(){return`
    <li class="flex-item">
        <div id="${kt}"></div>
        <p>Search for an address or place in Grampound with Creed.</p>
    </li>
    `}let K=document.createElement("input");K.type="text";K.id=`${pr}`;K.placeholder="Find an address or place...";let U=document.createElement("button");U.textContent="Search";U.id=`${Nt}`;U.classList.add("widgetlink");U.onclick=()=>{const e=`https://www.openstreetmap.org/search?query=${encodeURIComponent(`${K.value} "Grampound with Creed"`)}&zoom=19&minlon=-4.903727173805238&minlat=50.298594007719345&maxlon=-4.900551438331605&maxlat=50.29984131703836#map=17/50.298894/-4.900718`;window.open(e,"_blank")};K.addEventListener("keydown",t=>{t.key==="Enter"&&typeof U.onclick=="function"&&U.click()});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#app");if(t){const e=document.createElement("div");e.style.marginBottom="1em",e.appendChild(K),e.appendChild(U),t.prepend(e)}});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(`#${kt}`);t&&(t.appendChild(K),t.appendChild(U),t.style.marginBottom="1em")});document.addEventListener("click",t=>{if(t.target.id===Nt){var n=document.getElementById("search-box");y(n?"Search button clicked: "+n.value.trim():"Search button clicked.")}});var _t;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(_t||(_t={}));const _e=z("LocalNotifications",{web:()=>D(()=>import("./web-rspD7T8P.js"),[],import.meta.url).then(t=>new t.LocalNotificationsWeb)}),gr=z("FCM",{web:()=>D(()=>import("./web-CDiXtkKI.js"),[],import.meta.url).then(t=>new t.FCMWeb)}),q=z("PushNotifications",{});function wr(){return`
    <button id='notifyButton' title="Notices will help keep you updated.">add notices</button>
    `}function vr(){_e.schedule({notifications:[{title:"Thank you",body:"Thank you for allowing notices from Grampound Digital Twin!",id:1,schedule:{at:new Date(Date.now()+1e3*5)},sound:"",attachments:[],actionTypeId:"",extra:null}]})}function yr(t){const e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.5)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000";let n=document.createElement("div");n.style.background="white",n.style.padding="2em",n.style.margin="1em",n.style.borderRadius="10px",n.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",n.style.textAlign="center",n.style.position="relative";let r=document.createElement("h2");r.textContent="Can the Digital Twin send you notifications?",r.style.textAlign="center",n.appendChild(r);let s=document.createElement("div");s.innerHTML=`
                        <p>Notices will help keep you up to date.</p>

                        <button class="modal-ok">OK keep me posted!</button>
                        <button class="modal-close">No, not now</button>
                `,n.appendChild(s),e.appendChild(n),document.body.appendChild(e),e.querySelector(".modal-close")?.addEventListener("click",()=>{e.remove()}),e.querySelector(".modal-ok")?.addEventListener("click",()=>{e.remove(),t.click()})}document.addEventListener("DOMContentLoaded",async()=>{const t=document.getElementById("notifyButton");if(!se.isNativePlatform()){t&&t.remove(),console.log("Notifications not supported on web platform");return}const e=await _e.checkPermissions();t&&(e.display==="prompt"&&(yr(t),t.addEventListener("click",async()=>{e.display!=="granted"&&(await _e.requestPermissions(),Er(),(await _e.checkPermissions()).display==="granted"&&(t.remove(),vr()))})),e.display==="denied"&&(y("notifications previously denied"),t.remove()),e.display==="granted"&&t.remove())});async function br(){await q.addListener("registration",t=>{y("Registration token: ",t.value)}),await q.addListener("registrationError",t=>{console.error("Registration error: ",t.error)}),await q.addListener("pushNotificationReceived",t=>{y("GDTTEST Push notification received: ",t.title+": "+t.body)}),await q.addListener("pushNotificationActionPerformed",t=>{console.log("Push notification action performed",t.actionId,t.inputValue)})}async function Er(){try{let e=await q.checkPermissions();if(e.receive==="prompt"&&(e=await q.requestPermissions()),e.receive!=="granted")throw new Error("User denied permissions!");await q.register(),gr.subscribeTo({topic:"gdt"}).then(n=>console.log('subscribed to topic "gdt"'+n)).catch(n=>console.log(n))}catch{console.log("Error registering for push notifications (probably running in a browser)")}}async function Tr(){const t=await q.getDeliveredNotifications();console.log("delivered notifications",t)}(async()=>{try{await br(),await Tr()}catch{console.log("Error adding push notifications (probably running in a browser)")}})();const Lr=""+new URL("../traffic.svg",import.meta.url).href,ke="traffic-incidents",Ir="https://photos.grampound-pc.gov.uk/repack.php?id=trafficCheck";function $r(){return`
    <a href="#" id="traffic-links" target="_blank" class="flex-item">
            <img src="${Lr}" class="logo" alt="Sewage discharges logo" />
        <p>Traffic updates for Cornwall</p>
        <div id="${ke}"></div>
    </a>
    `}async function Cr(){try{const t=await fetch(Ir).catch(n=>{console.log("No response from police traffic URL: "+n)});if(!t)return console.log("No traffic alert data - aborting"),"";const e=await t.text();if(console.log("fetched police traffic updates"),e===""||e.includes("error")){y("Error fetching police traffic updates");return}if(e==="0"){console.log("No police traffic updates found");const n=document.getElementById(ke);n&&(n.innerHTML='<span style="color:green;font-weight:bold;">No traffic incidents</span>')}if(e==="1"){const n=document.getElementById(ke);n&&(n.innerHTML='<span style="color:orange;font-weight:bold;">⚠️ Traffic incidents</span>'),L("⚠️ Police traffic incidents found")}}catch(t){console.error("Error fetching police traffic updates:",t)}}window.onload=()=>{Cr()};N("traffic-links","Traffic updates",[{text:"Police incidents",url:"https://news.devon-cornwall.police.uk/traffic-watch/"},{text:"Planned roadworks & events",url:"https://api-gb.one.network/embedded/?lon=-4.90025&lat=50.29854&zoom=13&options={%22organisationID%22%3A1025%2C%22embedded%22%3Atrue%2C%22data%22%3A{%22layersActive%22%3A[%22INCIDENTS_LIVE_INCIDENT%22%2C%22INCIDENTS_LIVE_ACCIDENT%22%2C%22INCIDENTS_LIVE_TRAFFIC_CONGESTION%22%2C%22INCIDENTS_LIVE_HEALTH_EMERGENCY%22%2C%22INCIDENTS_LIVE_ROADCLOSURE%22%2C%22INCIDENTS_LIVE_LANECLOSURE%22%2C%22INCIDENTS_LIVE_HGVCLOSURE%22%2C%22INCIDENTS_LIVE_INFRASTRUCTURE_ISSUE%22%2C%22TM_LAYER_ROADCLOSURE_LIVE%22%2C%22TM_LAYER_DIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_HGVDIVERSIONROUTE_LIVE%22%2C%22TM_LAYER_TEMPORARYONEWAY_LIVE%22%2C%22TM_LAYER_BRIDGECLOSURE_LIVE%22%2C%22TM_LAYER_LANECLOSURE_LIVE%22%2C%22TM_LAYER_ROADAHEADCLOSED_LIVE%22%2C%22TM_LAYER_ACCESS_ONLY_LIVE%22%2C%22TM_LAYER_GRITTING_LIVE%22%2C%22TM_LAYER_WIDENED_FOOTPATH_LIVE%22%2C%22TM_LAYER_FOOTWAYCLOSURE_LIVE%22%2C%22TM_LAYER_TOWAWAYZONE_LIVE%22%2C%22TM_LAYER_CLEARWAY_LIVE%22%2C%22TM_LAYER_NOUTURN_LIVE%22%2C%22TM_LAYER_NOLEFTTURN_LIVE%22%2C%22TM_LAYER_NORIGHTTURN_LIVE%22%2C%22TM_LAYER_NOVEHICLEACCESS_LIVE%22%2C%22TM_LAYER_REVERSALONEWAY_LIVE%22%2C%22TM_LAYER_TEMPORARYSPEEDLIMIT_LIVE%22%2C%22TM_LAYER_HEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_WIDTHRESTRICTION_LIVE%22%2C%22TM_LAYER_LENGTHRESTRICTION_LIVE%22%2C%22TM_LAYER_TEMPPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSION_BUSWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONONEWAY_LIVE%22%2C%22TM_LAYER_SUSPENSIONPARKINGRESTRICTION_LIVE%22%2C%22TM_LAYER_SUSPENSIONWEIGHTRESTRICTION_LIVE%22%2C%22TM_LAYER_PREFERRED_ACCESS_LIVE%22%2C%22TM_LAYER_EMERGENCY_ACCESS_ROUTE_LIVE%22%2C%22TM_LAYER_PEDESTRIAN_ZONE_LIVE%22%2C%22TM_LAYER_CLOSURE_CROSSING_LIVE%22%2C%22TM_LAYER_CYCLE_LANE_LIVE%22%2C%22TM_LAYER_TWOWAYSIGNALS_LIVE%22%2C%22TM_LAYER_MULTIWAYSIGNALS_LIVE%22%2C%22TM_LAYER_STOPANDGO_LIVE%22%2C%22TM_LAYER_GIVEANDTAKE_LIVE%22%2C%22TM_LAYER_PRIORITYSIGNS_LIVE%22%2C%22TM_LAYER_CONVOYWORKING_LIVE%22%2C%22TM_LAYER_WORKSSTOP_LIVE%22%2C%22ROADWORKS_CURRENT%22%2C%22TM_LAYER_ENTITY_AGRICULTURAL_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_AIR_SHOW_LIVE%22%2C%22TM_LAYER_ENTITY_CARNIVAL_PARADE_STREET_LIVE%22%2C%22TM_LAYER_ENTITY_CHRISTMAS_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_CRUISE_SHIP_LIVE%22%2C%22TM_LAYER_ENTITY_CYCLING_LIVE%22%2C%22TM_LAYER_ENTITY_ENTERTAINMENT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_FESTIVAL_LIVE%22%2C%22TM_LAYER_ENTITY_FILMING_LIVE%22%2C%22TM_LAYER_ENTITY_FOOTBALL_LIVE%22%2C%22TM_LAYER_ENTITY_FUNERAL_LIVE%22%2C%22TM_LAYER_ENTITY_HORSE_RACING_LIVE%22%2C%22TM_LAYER_ENTITY_MARKET_LIVE%22%2C%22TM_LAYER_ENTITY_MOTOR_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_POLLING_STATION_LIVE%22%2C%22TM_LAYER_ENTITY_REMEMBRANCE_PARADE_LIVE%22%2C%22TM_LAYER_ENTITY_ROYAL_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_RUGBY_LIVE%22%2C%22TM_LAYER_ENTITY_RUNNING_LIVE%22%2C%22TM_LAYER_ENTITY_SPORT_EVENT_LIVE%22%2C%22TM_LAYER_ENTITY_OTHER_PUBLIC_EVENTS_LIVE%22]}%2C%22embedID%22%3A%22B9I9JDD9J9%22%2C%22system%22%3A{%22delayedLoad%22%3Afalse%2C%22historicWorksEnabled%22%3Afalse%2C%22tileServer%22%3A%22%24{region}-prd-%24{source}%24{randomizer}.one.network%22}%2C%22dateRange%22%3A%22today%22}"},{text:"Google traffic",url:"https://www.google.com/maps/@50.3053698,-4.9023496,12z/data=!5m1!1e1?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"}]);var Rr=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Pt=function(t,e,n,r){function s(a){return a instanceof n?a:new n((function(l){l(a)}))}return new(n||(n=Promise))((function(a,l){function i(c){try{o(r.next(c))}catch(d){l(d)}}function u(c){try{o(r.throw(c))}catch(d){l(d)}}function o(c){c.done?a(c.value):s(c.value).then(i,u)}o((r=r.apply(t,e||[])).next())}))},Dt=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(o){return function(c){return u([o,c])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(n=0)),n;)try{if(r=1,s&&(a=o[0]&2?s.return:o[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,o[1])).done)return a;switch(s=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,s=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1],a=o;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(o);break}a[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(c){o=[6,c],s=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ft=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Sr="ionicpwaelements",fe,Ht,T=!1,Ne=!1,F=function(t,e){return function(){}},Ar=function(t,e){return function(){}},xr="{visibility:hidden}.hydrated{visibility:inherit}",ht={},Or="http://www.w3.org/2000/svg",kr="http://www.w3.org/1999/xhtml",Nr=function(t){return t!=null},We=function(t){return t=typeof t,t==="object"||t==="function"};function jt(t){var e,n,r;return(r=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&r!==void 0?r:void 0}var Pr=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=null,a=!1,l=!1,i=[],u=function(d){for(var _=0;_<d.length;_++)s=d[_],Array.isArray(s)?u(s):s!=null&&typeof s!="boolean"&&((a=typeof t!="function"&&!We(s))&&(s=String(s)),a&&l?i[i.length-1].$text$+=s:i.push(a?Pe(null,s):s),l=a)};if(u(n),e){var o=e.className||e.class;o&&(e.class=typeof o!="object"?o:Object.keys(o).filter((function(d){return o[d]})).join(" "))}var c=Pe(t,null);return c.$attrs$=e,i.length>0&&(c.$children$=i),c},Pe=function(t,e){var n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n},Dr={},Hr=function(t){return t&&t.$tag$===Dr},jr=function(t,e){return t!=null&&!We(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t},Fr=function(t){return M(t).$hostElement$},Ls=function(t,e,n){var r=Fr(t);return{emit:function(s){return Ft(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:s})}}},Ft=function(t,e,n){var r=v.ce(e,n);return t.dispatchEvent(r),r},pt=new WeakMap,Br=function(t,e,n){var r=me.get(t);ls&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,me.set(t,r)},Wr=function(t,e,n,r){var s,a=Bt(e),l=me.get(a);if(t=t.nodeType===11?t:k,l)if(typeof l=="string"){t=t.head||t;var i=pt.get(t),u=void 0;if(i||pt.set(t,i=new Set),!i.has(a)){{u=k.createElement("style"),u.innerHTML=l;var o=(s=v.$nonce$)!==null&&s!==void 0?s:jt(k);o!=null&&u.setAttribute("nonce",o),t.insertBefore(u,t.querySelector("link"))}i&&i.add(a)}}else t.adoptedStyleSheets.includes(l)||(t.adoptedStyleSheets=ft(ft([],t.adoptedStyleSheets,!0),[l],!1));return a},Yr=function(t){var e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,s=F("attachStyles",e.$tagName$),a=Wr(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);r&10&&(n["s-sc"]=a,n.classList.add(a+"-h")),s()},Bt=function(t,e){return"sc-"+t.$tagName$},mt=function(t,e,n,r,s,a){if(n!==r){var l=wt(t,e),i=e.toLowerCase();if(e==="class"){var u=t.classList,o=gt(n),c=gt(r);u.remove.apply(u,o.filter((function(p){return p&&!c.includes(p)}))),u.add.apply(u,c.filter((function(p){return p&&!o.includes(p)})))}else if(e==="style"){for(var d in n)(!r||r[d]==null)&&(d.includes("-")?t.style.removeProperty(d):t.style[d]="");for(var d in r)(!n||r[d]!==n[d])&&(d.includes("-")?t.style.setProperty(d,r[d]):t.style[d]=r[d])}else if(e==="ref")r&&r(t);else if(!l&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):wt(ye,i)?e=i.slice(2):e=i[2]+e.slice(3),n&&v.rel(t,e,n,!1),r&&v.ael(t,e,r,!1);else{var _=We(r);if((l||_&&r!==null)&&!s)try{if(t.tagName.includes("-"))t[e]=r;else{var f=r??"";e==="list"?l=!1:(n==null||t[e]!=f)&&(t[e]=f)}}catch{}r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&t.removeAttribute(e):(!l||a&4||s)&&!_&&(r=r===!0?"":r,t.setAttribute(e,r))}}},Gr=/\s/,gt=function(t){return t?t.split(Gr):[]},Wt=function(t,e,n,r){var s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,a=t&&t.$attrs$||ht,l=e.$attrs$||ht;for(r in a)r in l||mt(s,r,a[r],void 0,n,e.$flags$);for(r in l)mt(s,r,a[r],l[r],n,e.$flags$)},Ye=function(t,e,n,r){var s=e.$children$[n],a=0,l,i;if(s.$text$!==null)l=s.$elm$=k.createTextNode(s.$text$);else{if(T||(T=s.$tag$==="svg"),l=s.$elm$=k.createElementNS(T?Or:kr,s.$tag$),T&&s.$tag$==="foreignObject"&&(T=!1),Wt(null,s,T),Nr(fe)&&l["s-si"]!==fe&&l.classList.add(l["s-si"]=fe),s.$children$)for(a=0;a<s.$children$.length;++a)i=Ye(t,s,a),i&&l.appendChild(i);s.$tag$==="svg"?T=!1:l.tagName==="foreignObject"&&(T=!0)}return l},Yt=function(t,e,n,r,s,a){var l=t,i;for(l.shadowRoot&&l.tagName===Ht&&(l=l.shadowRoot);s<=a;++s)r[s]&&(i=Ye(null,n,s),i&&(r[s].$elm$=i,l.insertBefore(i,e)))},Gt=function(t,e,n){for(var r=e;r<=n;++r){var s=t[r];if(s){var a=s.$elm$;qt(s),a&&a.remove()}}},qr=function(t,e,n,r){for(var s=0,a=0,l=e.length-1,i=e[0],u=e[l],o=r.length-1,c=r[0],d=r[o],_;s<=l&&a<=o;)i==null?i=e[++s]:u==null?u=e[--l]:c==null?c=r[++a]:d==null?d=r[--o]:ue(i,c)?(re(i,c),i=e[++s],c=r[++a]):ue(u,d)?(re(u,d),u=e[--l],d=r[--o]):ue(i,d)?(re(i,d),t.insertBefore(i.$elm$,u.$elm$.nextSibling),i=e[++s],d=r[--o]):ue(u,c)?(re(u,c),t.insertBefore(u.$elm$,i.$elm$),u=e[--l],c=r[++a]):(_=Ye(e&&e[a],n,a),c=r[++a],_&&i.$elm$.parentNode.insertBefore(_,i.$elm$));s>l?Yt(t,r[o+1]==null?null:r[o+1].$elm$,n,r,a,o):a>o&&Gt(e,s,l)},ue=function(t,e){return t.$tag$===e.$tag$},re=function(t,e){var n=e.$elm$=t.$elm$,r=t.$children$,s=e.$children$,a=e.$tag$,l=e.$text$;l===null?(T=a==="svg"?!0:a==="foreignObject"?!1:T,Wt(t,e,T),r!==null&&s!==null?qr(n,r,e,s):s!==null?(t.$text$!==null&&(n.textContent=""),Yt(n,null,e,s,0,s.length-1)):r!==null&&Gt(r,0,r.length-1),T&&a==="svg"&&(T=!1)):t.$text$!==l&&(n.data=l)},qt=function(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(qt)},Ur=function(t,e){var n=t.$hostElement$,r=t.$vnode$||Pe(null,null),s=Hr(e)?e:Pr(null,null,e);Ht=n.tagName,s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=r.$elm$=n.shadowRoot||n,fe=n["s-sc"],re(r,s)},Ut=function(t,e){e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise((function(n){return t.$onRenderResolve$=n})))},ve=function(t,e){if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}Ut(t,t.$ancestorComponent$);var n=function(){return zr(t,e)};return ds(n)},zr=function(t,e){var n=F("scheduleUpdate",t.$cmpMeta$.$tagName$),r=t.$lazyInstance$,s;return e&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map((function(a){var l=a[0],i=a[1];return Ge(r,l,i)})),t.$queuedListeners$=void 0)),n(),Mr(s,(function(){return Qr(t,r,e)}))},Mr=function(t,e){return Kr(t)?t.then(e):e()},Kr=function(t){return t instanceof Promise||t&&t.then&&typeof t.then=="function"},Qr=function(t,e,n){return Pt(void 0,void 0,void 0,(function(){var r,s,a,l,i,u,o;return Dt(this,(function(c){return s=t.$hostElement$,a=F("update",t.$cmpMeta$.$tagName$),l=s["s-rc"],n&&Yr(t),i=F("render",t.$cmpMeta$.$tagName$),Xr(t,e),l&&(l.map((function(d){return d()})),s["s-rc"]=void 0),i(),a(),u=(r=s["s-p"])!==null&&r!==void 0?r:[],o=function(){return Jr(t)},u.length===0?o():(Promise.all(u).then(o),t.$flags$|=4,u.length=0),[2]}))}))},Xr=function(t,e,n){try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,Ur(t,e)}catch(r){x(r,t.$hostElement$)}return null},Jr=function(t){t.$cmpMeta$.$tagName$;var e=t.$hostElement$,n=F(),r=t.$lazyInstance$,s=t.$ancestorComponent$;t.$flags$&64?n():(t.$flags$|=64,Mt(e),Ge(r,"componentDidLoad"),n(),t.$onReadyResolve$(e),s||zt()),t.$onInstanceResolve$(e),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&Ue((function(){return ve(t,!1)})),t.$flags$&=-517},Is=function(t){{var e=M(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&ve(e,!1),n}},zt=function(t){Mt(k.documentElement),Ue((function(){return Ft(ye,"appload",{detail:{namespace:Sr}})}))},Ge=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(r){x(r)}},Mt=function(t){return t.classList.add("hydrated")},Zr=function(t,e){return M(t).$instanceValues$.get(e)},Vr=function(t,e,n,r){var s=M(t),a=s.$instanceValues$.get(e),l=s.$flags$,i=s.$lazyInstance$;n=jr(n,r.$members$[e][0]);var u=Number.isNaN(a)&&Number.isNaN(n),o=n!==a&&!u;(!(l&8)||a===void 0)&&o&&(s.$instanceValues$.set(e,n),i&&(l&18)===2&&ve(s,!1))},Kt=function(t,e,n){if(e.$members$){var r=Object.entries(e.$members$),s=t.prototype;if(r.map((function(l){var i=l[0],u=l[1][0];u&31||n&2&&u&32?Object.defineProperty(s,i,{get:function(){return Zr(this,i)},set:function(o){Vr(this,i,o,e)},configurable:!0,enumerable:!0}):n&1&&u&64&&Object.defineProperty(s,i,{value:function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var d=M(this);return d.$onInstancePromise$.then((function(){var _;return(_=d.$lazyInstance$)[i].apply(_,o)}))}})})),n&1){var a=new Map;s.attributeChangedCallback=function(l,i,u){var o=this;v.jmp((function(){var c=a.get(l);if(o.hasOwnProperty(c))u=o[c],delete o[c];else if(s.hasOwnProperty(c)&&typeof o[c]=="number"&&o[c]==u)return;o[c]=u===null&&typeof o[c]=="boolean"?!1:u}))},t.observedAttributes=r.filter((function(l){l[0];var i=l[1];return i[0]&15})).map((function(l){var i=l[0],u=l[1],o=u[1]||i;return a.set(o,i),o}))}}return t},es=function(t,e,n,r,s){return Pt(void 0,void 0,void 0,(function(){var a,l,i,u,o,c,d;return Dt(this,(function(_){switch(_.label){case 0:return(e.$flags$&32)!==0?[3,3]:(e.$flags$|=32,s=cs(n),s.then?(a=Ar(),[4,s]):[3,2]);case 1:s=_.sent(),a(),_.label=2;case 2:s.isProxied||(Kt(s,n,2),s.isProxied=!0),l=F("createInstance",n.$tagName$),e.$flags$|=8;try{new s(e)}catch(f){x(f)}e.$flags$&=-9,l(),s.style&&(i=s.style,u=Bt(n),me.has(u)||(o=F("registerStyles",n.$tagName$),Br(u,i,!!(n.$flags$&1)),o())),_.label=3;case 3:return c=e.$ancestorComponent$,d=function(){return ve(e,!0)},c&&c["s-rc"]?c["s-rc"].push(d):d(),[2]}}))}))},ts=function(t){if((v.$flags$&1)===0){var e=M(t),n=e.$cmpMeta$,r=F("connectedCallback",n.$tagName$);if(e.$flags$&1)Qt(t,e,n.$listeners$);else{e.$flags$|=1;for(var s=t;s=s.parentNode||s.host;)if(s["s-p"]){Ut(e,e.$ancestorComponent$=s);break}n.$members$&&Object.entries(n.$members$).map((function(a){var l=a[0],i=a[1][0];if(i&31&&t.hasOwnProperty(l)){var u=t[l];delete t[l],t[l]=u}})),es(t,e,n)}r()}},ns=function(t){if((v.$flags$&1)===0){var e=M(t),n=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map((function(r){return r()})),e.$rmListeners$=void 0),Ge(n,"disconnectedCallback")}},rs=function(t,e){e===void 0&&(e={});var n,r=F(),s=[],a=e.exclude||[],l=ye.customElements,i=k.head,u=i.querySelector("meta[charset]"),o=k.createElement("style"),c=[],d,_=!0;Object.assign(v,e),v.$resourcesUrl$=new URL(e.resourcesUrl||"./",k.baseURI).href,t.map((function(p){p[1].map((function(h){var m={$flags$:h[0],$tagName$:h[1],$members$:h[2],$listeners$:h[3]};m.$members$=h[2],m.$listeners$=h[3];var g=m.$tagName$,w=(function(B){Rr(W,B);function W(I){var ae=B.call(this,I)||this;return I=ae,as(I,m),m.$flags$&1&&I.attachShadow({mode:"open"}),ae}return W.prototype.connectedCallback=function(){var I=this;d&&(clearTimeout(d),d=null),_?c.push(this):v.jmp((function(){return ts(I)}))},W.prototype.disconnectedCallback=function(){var I=this;v.jmp((function(){return ns(I)}))},W.prototype.componentOnReady=function(){return M(this).$onReadyPromise$},W})(HTMLElement);m.$lazyBundleId$=p[0],!a.includes(g)&&!l.get(g)&&(s.push(g),l.define(g,Kt(w,m,1)))}))}));{o.innerHTML=s+xr,o.setAttribute("data-styles","");var f=(n=v.$nonce$)!==null&&n!==void 0?n:jt(k);f!=null&&o.setAttribute("nonce",f),i.insertBefore(o,u?u.nextSibling:i.firstChild)}_=!1,c.length?c.map((function(p){return p.connectedCallback()})):v.jmp((function(){return d=setTimeout(zt,30)})),r()},Qt=function(t,e,n,r){n&&n.map((function(s){var a=s[0],l=s[1],i=s[2],u=is(t,a),o=ss(e,i),c=os(a);v.ael(u,l,o,c),(e.$rmListeners$=e.$rmListeners$||[]).push((function(){return v.rel(u,l,o,c)}))}))},ss=function(t,e){return function(n){try{t.$flags$&256?t.$lazyInstance$[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n])}catch(r){x(r)}}},is=function(t,e){return e&16?k.body:t},os=function(t){return(t&2)!==0},qe=new WeakMap,M=function(t){return qe.get(t)},$s=function(t,e){return qe.set(e.$lazyInstance$=t,e)},as=function(t,e){var n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise((function(r){return n.$onInstanceResolve$=r})),n.$onReadyPromise$=new Promise((function(r){return n.$onReadyResolve$=r})),t["s-p"]=[],t["s-rc"]=[],Qt(t,n,e.$listeners$),qe.set(t,n)},wt=function(t,e){return e in t},x=function(t,e){return(0,console.error)(t,e)},Re=new Map,cs=function(t,e,n){var r=t.$tagName$.replace(/-/g,"_"),s=t.$lazyBundleId$,a=Re.get(s);if(a)return a[r];{var l=function(i){return Re.set(s,i),i[r]};switch(s){case"pwa-action-sheet":return D(()=>import("./pwa-action-sheet.entry-8SeqopEm.js"),[],import.meta.url).then(l,x);case"pwa-camera-modal":return D(()=>import("./pwa-camera-modal.entry-L8_L7WrS.js"),[],import.meta.url).then(l,x);case"pwa-toast":return D(()=>import("./pwa-toast.entry-Mz4dA0ZN.js"),[],import.meta.url).then(l,x);case"pwa-camera-modal-instance":return D(()=>import("./pwa-camera-modal-instance.entry-BAZLd-Gn.js"),[],import.meta.url).then(l,x);case"pwa-camera":return D(()=>import("./pwa-camera.entry-BvQhELpP.js"),[],import.meta.url).then(l,x)}}return D(()=>import("./".concat(s,".entry.js").concat("")),[],import.meta.url).then((function(i){return Re.set(s,i),i[r]}),x)},me=new Map,ye=typeof window<"u"?window:{},k=ye.document||{head:{}},v={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,r){return t.addEventListener(e,n,r)},rel:function(t,e,n,r){return t.removeEventListener(e,n,r)},ce:function(t,e){return new CustomEvent(t,e)}},Xt=function(t){return Promise.resolve(t)},ls=(function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),vt=[],Jt=[],us=function(t,e){return function(n){t.push(n),Ne||(Ne=!0,v.$flags$&4?Ue(De):v.raf(De))}},yt=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){x(n)}t.length=0},De=function(){yt(vt),yt(Jt),(Ne=vt.length>0)&&v.raf(De)},Ue=function(t){return Xt().then(t)},ds=us(Jt),_s=function(){return Xt()},fs=function(t,e){return typeof window>"u"?Promise.resolve():_s().then((function(){return rs([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],e)}))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();const hs=""+new URL("../GetItOnGooglePlay_Badge_Web_color_English.svg",import.meta.url).href;function ps(){return se.isNativePlatform()?"":`
    <div id="app-links" class="flex-item">
    <p>Get the App</p>
        <p>
            <a href="https://play.google.com/store/apps/details?id=me.deanjenkins.grampoundDigitalTwin" target="_blank"><img src="${hs}"></a>
        </p>
    </div>
    `}function ms(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,s){return(a,l,i)=>{const u=t.Capacitor.Plugins[n];if(u===void 0){i(new Error(`Capacitor plugin ${n} not found`));return}if(typeof u[s]!="function"){i(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const o=await u[s](a);l(o)}catch(o){i(o)}})()}}})}})}function gs(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function ws(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?ms(window):window.cordova!==void 0&&gs(window))}var ge;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(ge||(ge={}));var we;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(we||(we={}));const Zt=z("Filesystem",{web:()=>D(()=>import("./web-BBj32LtO.js"),[],import.meta.url).then(t=>new t.FilesystemWeb)});ws();async function vs(t){console.log("Saving new config."),await Zt.writeFile({path:"motd.json",data:JSON.stringify(t),directory:ge.Data,encoding:we.UTF8})}async function ys(){try{const t=await Zt.readFile({path:"motd.json",directory:ge.Data,encoding:we.UTF8});return console.log("returning local stored config"),JSON.parse(t.data)}catch{return console.log("Loading local config failed, fall back to built-in version."),JSON.parse(`{"version":1,"text":"Where there's a will, there's a way."}`)}}async function bs(){try{const e=await(await fetch("https://photos.grampound.org.uk/repack.php?id=motd")).json();e.version>"1"&&(console.log("New config available: "+e.version),await vs(e))}catch(t){console.error("Error fetching configuration: ",t)}}function Es(){return bs(),'<span id="motd"></span>'}document.addEventListener("DOMContentLoaded",()=>{ys().then(t=>{const e=document.querySelector("#motd");e&&(e.innerHTML=t.text)})});console.log("GDT Version:",bt.version);const Ts=new Date().toLocaleString("en-GB",{timeZone:"Europe/London",hour12:!1});document.querySelector("#app").innerHTML=`
  <div>
    <a class="reload" href="./"><h1>Grampound</h1>
    <p class="subtitle">
    digital twin project
    </p></a>
    ${wr()}

<h2>Maps and travel</h2>
  <ul class="flex-container">
    <a href="https://www.openstreetmap.org/#map=19/50.298719/-4.903400" target="_blank" class="flex-item">
      <img src="${Vt}" class="logo vanilla" alt="OpenStreetMap logo" />
      <p>Map of Grampound with Creed.</p>
    </a>

    ${mr()}

    ${xn()}

    ${Dn()}

    ${$r()}
  </ul>


    <h2>What's on</h2>
    <ul class="flex-container">

      <a href="https://grampoundvillagehall.org.uk/calendar.php" target="_blank" class="flex-item">
  <img src="${en}" class="logo" alt="Grampound calendar logo" />
      <p>Calendar of events.</p>
      </a>

    </ul>

<h2>Photos and more</h2>
    <ul class="flex-container">

      ${jn()}

      <a href="https://www.geograph.org.uk/near/SW93484841" target="_blank" class="flex-item">
  <img src="${nn}" class="logo vanilla" alt="Geograph logo" />
      <p>Geograph photographs of Grampound.</p>
      </a>

      <a href="https://stcrida.co.uk/cs.php" target="_blank" class="flex-item">
  <img src="${tn}" class="logo green" alt="Creed Churchyard logo" />
      <p>Creed Churchyard search.</p>
      </a>

      </ul>

<h2>Environment</h2>
<p class="left">Updated ${Ts}</p>
    <ul class="flex-container">

      ${sr()}

      ${qn()}

      ${hr()}

      ${lr()}

    </ul>
  
<h2>More info</h2>
    <ul class="flex-container">

      ${Fn()}

      ${Un()}

      <a href="https://github.com/rdjenkins/gdt" target="_blank" class="flex-item">
  <img src="${rn}" class="logo" alt="GitHub Logo" />
      <p>Find this project on GitHub.</p>
      </a>
      
      ${ps()}
    </ul>

    <div class="acknowledge">
      <a href="#licenses-content" id="licenses">Important information <span class="licenses-more-icon">▼</span></a>
      <div id="licenses-content" class="hidden">
        <p><b>Acknowledgements</b></p>
        <table class="responsive-table">
          <tr>
            <td>Flood alert and river level data</td>
            <td><a href="https://environment.data.gov.uk/flood-monitoring/doc/reference" target="_blank">Environment Agency Real Time flood-monitoring API</a></td>
          </tr>
          <tr>
            <td>Weather alert</td>
            <td><a href="https://weather.metoffice.gov.uk/guides/rss" target="_blank">Met Office</a></td>
          </tr>
          <tr>
            <td>Weather summary</td>
            <td><a href="https://open-meteo.com/en/docs" target="_blank">Open-Meteo</a></td>
          </tr>
          <tr>
            <td>Sewage data</td>
            <td><a href="https://www.floodmapper.co.uk/" target="_blank">Floodmapper</a></td>
          </tr>
          <tr>
            <td>Air quality</td>
            <td><a href="https://www2.purpleair.com/" target="_blank">PurpleAir sensor network</a></td>
          </tr>
          <tr>
            <td>Open StreetMap data</td>
            <td><a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a></td>
          </tr>
         <tr>
            <td>Development</td>
            <td><a href="https://deanjenkins.me/#gdtapp" target="_blank">Developer's website</a></td>
          </tr>
        </table>

        <div id="disclaimer">
          <p><b>Disclaimer</b></p>
          <p>Grampound Digital Twin does not represent any
            government agency and is not intended to replace official information.
          </p>

          <p>It provides information from, and links to, publicly available UK government data including:
            <a href="https://environment.data.gov.uk/flood-monitoring/doc/reference">Environment Agency
            Real Time flood-monitoring API</a> for flood alert and river level data,
            UK <a href="https://weather.metoffice.gov.uk/guides/rss">Met Office</a> for weather
            alerts for the South West,
            and planned roadworks from <a href="https://www.cornwall.gov.uk/transport-parking-and-streets/roads-highways-and-pavements/roadworks/">Cornwall
            Council</a>.
          </p>
        </div>

      </div>


    </div>

    <p class="version">Version: ${bt.version}</p>
    <p>${Es()}</p>

  </div>
`;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("licenses")?.addEventListener("click",t=>{t.preventDefault();const e=document.getElementById("licenses-content");e?.classList.toggle("hidden");const n=document.querySelector(".licenses-more-icon");e&&n&&(e.classList.contains("hidden")?n.textContent="▼":n.textContent="▲")})});window.addEventListener("load",()=>{fs()});export{we as E,Dr as H,He as W,mn as b,Ls as c,Is as f,Fr as g,Pr as h,$s as r};
